<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 8.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<title>fx32 Type Macros</title>
<LINK rel="stylesheet" href="../css/nitro.css" type="text/css">
</head>

<body>

<h1 align="left">fx32 Type Macros</h1>
<h2>Description</h2>
<TABLE border="0" width="100%">
  <TBODY>
    <TR>
<TD width="149">FX32_SHIFT</TD>
<TD width="381">Defines the shift number (12) for <CODE>fx32</CODE> types.</TD>
    </TR>
    <TR>
<TD width="149">FX32_INT_SIZE</TD>
<TD width="381">Defines the bit width of the integer portion (19) for <CODE>fx32</CODE> types.</TD>
    </TR>
    <TR>
<TD width="149">FX32_DEC_SIZE</TD>
<TD width="381">Defines the bit width for the decimal portion (12) for <CODE>fx32</CODE> types.</TD>
    </TR>
    <TR>
<TD width="149">FX32_INT_MASK</TD>
<TD width="381">Defines the mask (<CODE>0x7ffff000</CODE>) for the integer portion of <CODE>fx32</CODE> types.</TD>
    </TR>
    <TR>
<TD width="149">FX32_DEC_MASK</TD>
<TD width="381">Defines the mask (<CODE>0x0fff</CODE>) for the decimal portion of <CODE>fx32</CODE> types.</TD>
    </TR>
    <TR>
<TD width="149">FX32_SIGN_MASK</TD>
<TD width="381">Defines the mask (<CODE>0x80000000</CODE>) for the sign portion of <CODE>fx32</CODE> types.</TD>
    </TR>
    <TR>
<TD width="149">FX32_MAX</TD>
<TD width="381">Defines the maximum value (<CODE>0x7fffffff</CODE>) that can be obtained with <CODE>fx32</CODE> types.</TD>
    </TR>
    <TR>
<TD width="149">FX32_MIN</TD>
<TD width="381">Defines the minimum value (<CODE>0x80000000</CODE>) that can be obtained with <CODE>fx32</CODE> types.</TD>
    </TR>
    <TR>
<TD width="149">FX_MUL</TD>
<TD width="381">Multiplies two <CODE>fx32</CODE> types.</TD>
    </TR>
    <TR>
<TD width="149">FX_MUL32x64C</TD>
<TD width="381">Multiplies an <CODE>fx32</CODE> type and an <CODE>fx64c</CODE> type.</TD>
    </TR>
    <TR>
<TD width="149">FX_FX32_TO_F32</TD>
<TD width="381">Converts an <CODE>fx32</CODE> type to an <CODE>f32</CODE> type.</TD>
    </TR>
    <TR>
<TD width="149">FX_F32_TO_FX32 FX32_CONST</TD>
<TD width="381">Converts an <CODE>f32</CODE> type to an <CODE>fx32</CODE> type.</TD>
    </TR>
  </TBODY>
</TABLE>
<H2>Macro Definitions</H2>
<PRE>#define FX32_SHIFT          12
#define FX32_INT_SIZE       19
#define FX32_DEC_SIZE       12

#define FX32_INT_MASK       0x7ffff000
#define FX32_DEC_MASK       0x00000fff
#define FX32_SIGN_MASK      0x80000000

#define FX32_MAX            (fx32)(0x7fffffff)
#define FX32_MIN            (fx32)(0x80000000)

#define FX_MUL(v1, v2)       ((fx32)(((fx64)(v1) * (v2) + 0x800LL) &gt;&gt; FX32_SHIFT))
#define FX_MUL32x64C(v1, v2) ((fx32)(((v2) * (v1) + 0x80000000LL) &gt;&gt; 32))

#define FX_FX32_TO_F32(x)    ((f32)((x) / (f32)(1 &lt;&lt; FX32_SHIFT)))
#define FX_F32_TO_FX32(x)    ((fx32)(((x) &gt; 0) ? \ 
((x) * (1 &lt;&lt; FX32_SHIFT) + 0.5f ) : \
((x) * (1 &lt;&lt; FX32_SHIFT) - 0.5f )))

#define FX32_CONST(x)        FX_F32_TO_FX32(x)
</PRE>
<H2>Revision History</H2>
<P>02/25/2004 Initial version.</P>
<p align="right"><strong>CONFIDENTIAL</strong></p>
</body>
</html>
