<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 8.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<title>MICAutoParam</title>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</head>

<body>

<h1 align="left">MICAutoParam</h1>

<h2>Definitions</h2>

<dl>
  <dd>
<CODE>#include &lt;nitro/spi.h&gt;</CODE><BR>
<PRE><CODE>typedef struct
{ 
<A href="MICSamplingType.html">MICSamplingType</A>     type;
void*               buffer;
u32                 size;
u32                 rate;
BOOL                loop_enable;
<A href="MICCallback.html">MICCallback</A>         full_callback;
void*               full_arg;

} MICAutoParam;</CODE></PRE>
  </dd>

</dl><h2>Elements</h2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
<TD width="300"><em><strong><font face="Courier New">type</font></strong></em></TD>
<TD width="700">Sampling type of the <a  href="MICSamplingType.html">MICSamplingType</a> enumerator type</TD>
    </TR>
    <TR>
<TD width="300"><em><strong><font face="Courier New">buffer</font></strong></em></TD>
<TD width="700">Specifies a pointer to the buffer that stores the sampling result. Because ARM7 writes the sampling result directly to this buffer, this buffer needs to be 32-byte cache-aligned. In addition, since it is not possible for the ARM7 to accurately determine whether or not extended main memory is in a usable condition, sampling results are restricted from being written into extended main memory space. Be sure, therefore, to prepare a buffer for storing sampling results in the 4MB of conventional main memory space.</TD>
    </TR>
    <TR>
<TD width="300"><em><strong><font face="Courier New">size</font></strong></em></TD>
<TD width="700">Size of the buffer storing the sampling result</TD>
    </TR>
    <TR>
<TD width="300"><em><strong><font face="Courier New">rate</font></strong></em></TD>
<TD width="700">The sampling rate. Directly specifies the CPU timer rate of the ARM7.<br>You can also select a rate from <a  href="MICSamplingRate.html">MICSamplingRate</a> enumerator type.</TD>
    </TR>
    <TR>
<TD width="300"><em><strong><font face="Courier New">loop_enable</font></strong></em></TD>
<TD width="700">Flag for looping buffer during continuous sampling</TD>
    </TR>
    <TR>
<TD width="300"><em><strong><font face="Courier New">full_callback</font></strong></em></TD>
<TD width="700">Pointer to callback function called when buffer    is full</TD>
    </TR>
    <TR>
<TD width="300"><em><strong><font face="Courier New">full_arg</font></strong></em></TD>
<TD width="700">Argument to pass to callback function called when  buffer is full</TD>
    </TR>
  </TBODY>
</TABLE>

<H2>Description</H2>
<P>This structure shows the settings for microphone auto-sampling. When <em><strong><code>TRUE</code></strong></em> is specified for the <em><strong><code>loop_enable</code></strong></em> flag, continuous sampling continues when the buffer becomes full by returning the sampling-data storage-position to the start of the buffer. Continuous sampling will proceed until the function that stops auto-sampling is called. When <em><strong><code>FALSE</code></strong></em> is set for the <em><strong><code>loop_enable</code></strong></em> flag, microphone sampling will stop automatically when the buffer becomes full. Regardless of the setting of the <em><strong><code>loop_enable</code></strong></em> flag,  the function specified by <em><strong><code>full_callback</code></strong></em> will be called when the buffer becomes full.</P>

<H2>Caution</H2>
<P><font color="red">The buffer that will store the sampling results should have an address with 32-byte alignment and be a size that is a multiple of  32. This is because when the sampling results are read, the cache of the  target area gets destroyed.</font></P>

<h2>See Also</h2>
<P><code><a href="MIC_StartAutoSampling.html">MIC_StartAutoSampling</a>, <a href="MIC_StartAutoSamplingAsync.html">MIC_StartAutoSamplingAsync</a>, <a href="MIC_StopAutoSampling.html">MIC_StopAutoSampling</a>, <a  href="MIC_StopAutoSamplingAsync.html">MIC_StopAutoSamplingAsync</a></code></P>

<H2>Revision History</H2>
<P>
02/16/2006 Added a description of why extended main memory cannot be specified for a buffer member.<BR>09/17/2006 Added a description of buffer member alignment.<BR> 06/01/2004 Initial release.
</P>
<p align="right"><strong>CONFIDENTIAL</strong></p>
</body>
</html>
