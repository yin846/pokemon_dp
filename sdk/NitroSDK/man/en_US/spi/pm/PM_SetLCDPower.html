<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE>PM_SetLCDPower</TITLE>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</HEAD>
<BODY>
<H1 align="left">PM_SetLCDPower</H1>
<H2>C Specification</H2>
<DL>
  <DD>
<PRE><CODE>#include &lt;nitro/spi.h&gt;</CODE></PRE>
<PRE><CODE>BOOL PM_SetLCDPower( PMLCDPower sw );
  </CODE></PRE>
</DL>
<H2>Arguments</H2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
<TD width="13%"><EM><STRONG>sw</STRONG></EM></TD>
<TD width="87%">LCD switch.</TD>
    </TR>
  </TBODY>
</TABLE>
<H2>Return Values</H2>
<P>Returns a value of TRUE if the attempt to turn ON the LCD is successful. Returns a value of FALSE if the attempt to turn ON the LCD fails. The failure occurs if an attempt is made to turn ON the LCD before 100 ms have elapsed since the LCD was turned OFF.</P>
<H2>Description</H2>
<P>This function switches the LCD switch. The <em><strong><code>sw</code></strong></em> argument is the LCD switch. This argument is a <code>PMLCDPower</code> enumerator type that can contain either one of the following values:
</P>
<TABLE border="1">
  <TBODY>
    <TR>
<TD><CODE>PM_LCD_POWER_ON</CODE></TD>
<TD>Turns the LCD switch ON.</TD>
    </TR>
    <TR>
<TD><CODE>PM_LCD_POWER_OFF</CODE></TD>
<TD>Turns the LCD switch OFF.</TD>
    </TR>
  </TBODY>
</TABLE>
<P>When you switch the LCD switch, the LED becomes ON regardless of whether the LED state, <em><strong><code>sw</code></strong></em>, is PM_LCD_POWER_ON or PM_LCD_POWER_OFF.</P>
<P>Because of a hardware restriction, you cannot turn the LCD ON unless 100 ms have passed since the LCD was turned OFF. If you attempt to switch the LCD ON before a sufficient amount of time has passed since the last time the LCD was turned OFF, nothing will occur and a value of FALSE will be returned. After a sufficient amount of time has passed and the LCD can be successfully turned on, a value of TRUE is returned. When you switch from the ON state to the OFF state, this restriction does not apply and the value that is returned is always TRUE.</P>
<P>Before you use this function, initialize the PM library by using the <code>PM_Init()</code> function. The <code>PM_Init()</code> function has to be called only once. Also, when you call <a href="../../os/init/OS_Init.html"><code>OS_Init()</code></a>, there is no need to call <a href="PM_Init.html"><code>PM_Init()</code></a> separately since it is called from within <code>OS_Init()</code>.)</P>
<H2>Internal Operation</H2>
<P>The switching of the LCD switch is accessed in the <code>GX_POWCNT</code> register. This function operates the PMIC register <code>PMIC_CTL</code> to control the LED (power lamp).</P>
<H2>See Also</H2>
<P><a href="PM_Init.html"><code>PM_Init</code></a>, <a href="PM_GetLCDPower.html"><code>PM_GetLCDPower</code></a></P>
<H2>Revision History</H2>
<P>08/17/2004 Changed the description of the LED state <BR>08/07/2004 Initial version </P>
<p align="right"><strong>CONFIDENTIAL</strong></p>
</body>
</html>