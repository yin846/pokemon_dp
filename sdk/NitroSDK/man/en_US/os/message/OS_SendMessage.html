<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE>OS_SendMessage</TITLE>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</HEAD>
<BODY>
<H1 align="left">OS_SendMessage</H1>
<H2>C Specification</H2>
<DL>
  <DD>
<PRE><CODE>#include &lt;nitro/os.h&gt;</CODE></PRE>
<PRE><CODE>BOOL OS_SendMessage(
OSMessageQueue*   mq,
OSMessage         msg,
s32               flag );
  </CODE></PRE>
</DL>
<H2>Arguments</H2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
<TD width="13%"><EM><STRONG>mq</STRONG></EM></TD>
<TD width="87%">Pointer to the message queue</TD>
    </TR>
    <TR>
<TD width="13%"><EM><STRONG>msg</STRONG></EM></TD>
<TD width="87%">Transmission message</TD>
    </TR>
    <TR>
<TD><EM><STRONG>flag</STRONG></EM></TD>
<TD>When <CODE>OS_MESSAGE_BLOCK</CODE> is set, <CODE>OS_SendMessage</CODE> blocks when the queue is full. When <CODE>OS_MESSAGE_NOBLOCK</CODE> is set, <CODE>OS_SendMessage</CODE> returns whether the queue is full or not.</TD>
    </TR>
  </TBODY>
</TABLE>

<H2>Return Values</H2>
<P>
<code>TRUE</code> is returned when the message is successfully sent. <code>FALSE</code> is returned when the queue is full and <CODE>OS_MESSAGE_NOBLOCK</CODE> is specified.
</P>

<H2>Description</H2>
<P>This function inserts a message at the end of the specified message queue. The function makes it possible for threads waiting in the message queue to execute. The reception threads execute in order of priority.</P>

<P>If <code>OS_MESSAGE_BLOCK</code> is set in <em><strong><code>flag</code></strong></em> and the queue is full, the thread that called this function is temporarily stopped. It can be restarted by running a reception thread and removing a message from the queue. Be aware that if there are transmission threads of higher priority, they will execute first and may fill up the queue. In this case, this thread will again temporarily stop until an opening in the message queue is made by the reception thread.</P>

<P>When <CODE>OS_MESSAGE_NOBLOCK</CODE> is set in <em><strong><code>flag</code></strong></em>, the called thread is returned to immediately. When the queue is not full, <code>TRUE</code> is returned. If the queue is full, <CODE>FALSE</CODE> is returned.</P>

<H2>See Also</H2>
<P><CODE><A href="OS_InitMessageQueue.html">OS_InitMessageQueue</A>, <A href="OS_ReceiveMessage.html">OS_ReceiveMessage</A>, <A href="OS_JamMessage.html">OS_JamMessage</A><BR></CODE></P>
<H2>Revision History</H2>
<P>12/05/2003 Initial Version</P>
<p align="right"><strong>CONFIDENTIAL</strong></p>
</body>
</html>