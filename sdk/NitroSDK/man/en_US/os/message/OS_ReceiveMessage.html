<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE>OS_ReceiveMessage</TITLE>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</HEAD>
<BODY>
<H1 align="left">OS_ReceiveMessage</H1>
<H2>C Specification</H2>
<DL>
  <DD>
<PRE><CODE>#include &lt;nitro/os.h&gt;</CODE></PRE>
<PRE><CODE>BOOL OS_ReceiveMessage(
OSMessageQueue*   mq,
OSMessage*        msg,
s32               flag );
  </CODE></PRE>
</DL>
<H2>Arguments</H2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
<TD width="13%"><EM><STRONG>mq</STRONG></EM></TD>
<TD width="87%">Pointer to the message queue</TD>
    </TR>
    <TR>
<TD width="13%"><EM><STRONG>msg</STRONG></EM></TD>
<TD width="87%">Received message</TD>
    </TR>
    <TR>
<TD><EM><STRONG>flag</STRONG></EM></TD>
<TD>When <CODE>OS_MESSAGE_BLOCK</CODE> is set, the <CODE>OS_ReceiveMessage</CODE> function blocks empty queues. When <CODE>OS_MESSAGE_NOBLOCK</CODE> is set, the <CODE>OS_ReceiveMessage</CODE> function immediately returns whether or not the queue is empty.</TD>
    </TR>
  </TBODY>
</TABLE>

<H2>Return Values</H2>
<P>
Returns <code>TRUE</code> if the message was removed without any problems. If <code>OS_MESSAGE_NOBLOCK</code> was specified and the queue was empty, FALSE is returned.
</P>

<H2>Description</H2>
<P>Removes a message from the message queue This function also makes it possible to execute any thread waiting to send a message to the queue. The transmission threads execute in order of priority.</P>

<P>If <code>OS_MESSAGE_BLOCK</code> is set up in <em><strong><code>flag</code></strong></em>, the thread that called this function will be paused if the queue is empty. The thread resumes once the message is sent to the queue. If another receiving thread with a higher priority is present, those threads are executed first so be aware of the point at which messages are removed. If the message queue is empty when this thread is executed, it will be paused again until another message is sent to the queue.</P>

<P>If <code>OS_MESSAGE_NOBLOCK</code> is set up in <em><strong><code>flag</code></strong></em>, the process immediately returns to the thread that was called. If the queue is not empty, <code>TRUE</code> is returned. If it is empty, <code>FALSE</code> is returned.</P>

<H2>See Also</H2>
<P><CODE><A href="OS_InitMessageQueue.html">OS_InitMessageQueue</A>, <A href="OS_SendMessage.html">OS_SendMessage</A>, <A href="OS_JamMessage.html">OS_JamMessage</A>, <A href="OS_ReadMessage.html">OS_ReadMessage</A><BR></CODE></P>

<H2>Revision History</H2>
<P>03/12/2004 Added <CODE>OS_ReadMessage</CODE> to See Also <BR>12/01/2003 Initial version </P>
<p align="right"><strong>CONFIDENTIAL</strong></p>
</body>
</html>