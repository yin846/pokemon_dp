<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE>OS_TryLockCard</TITLE>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</HEAD>
<BODY>
<H1 align="left">OS_TryLockCard</H1>
<H2>C Specification</H2>
<DL>
  <DD>
<PRE><CODE>#include &lt;nitro/os.h&gt;</CODE></PRE>
<PRE><CODE>s32 OS_TryLockCard( u16 lockID );
  </CODE></PRE>
</DL>
<H2>Arguments</H2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
<TD width="13%"><EM><STRONG>lockID</STRONG></EM></TD>
<TD width="87%">ID used to lock the card</TD>
    </TR>
  </TBODY>
</TABLE>
<H2>Return Values</H2>
<P>A positive value indicates the lock is already enabled. The value is the lock ID stored immediately before by another resource. <code>OS_LOCK_SUCCESS</code> indicates the lock was successful. (Defined as <code>0</code>.)</P>
<H2>Description</H2>
<P>The spinlock tries only once for exclusive control over resources (for this function, the card) shared between processors or modules.</P>
<P>When the lock succeeds, it accesses the <code>EXMEMCNT</code> register and obtains access rights to the card bus. Please be sure to use this function for resources shared between processors after the lock. If the timing of an exclusive resource of a processor can be adjusted, then a lock is not necessary.</P>
<P><em><strong><code>lockID</code></strong></em> is the ID for the lock and should be obtained using <code><a href="OS_GetLockID.html">OS_GetLockID()</a></code> to prevent overlap between processors or modules.</P>
<H2>Internal Operation</H2>
<P>Accesses the <code>EXMEMCNT</code> I/O register <code>(0x4000204)</code>.</P>
<H2>See Also</H2>
<P><code><a href="OS_LockCard.html">OS_LockCard</a></code>, <code><a href="OS_UnlockCard.html">OS_UnlockCard</a></code>, <code><a href="OS_TryLockCartridge.html">OS_TryLockCartridge</a></code>, <code><a href="OS_GetLockID.html">OS_GetLockID</a></code></P>
<H2>Revision History</H2>
<P>11/04/2004 Added Internal Operation description. <BR>07/22/2004 Change of argument format from u32 to u16 <BR>06/21/2004 Initial version </P>
<p align="right"><strong>CONFIDENTIAL</strong></p>
</body>
</html>