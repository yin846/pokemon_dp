<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE>DC_FlushRange</TITLE>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</HEAD>
<BODY>
<H1 align="left">DC_FlushRange</H1>
<H2>C Specification</H2>
<DL>
  <DD>
<PRE><CODE>#include &lt;nitro/os.h&gt;</CODE></PRE>
<PRE><CODE>void DC_FlushRange( const void* startAddr, u32 nBytes );

void DC_CleanAndInvalidateRange( const void* startAddr, u32 nBytes );</CODE></PRE>
</DL>
<H2>Arguments</H2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
<TD width="13%"><EM><STRONG>startAddr</STRONG></EM></TD>
<TD width="87%">Lowest address in the region to be flushed.</TD>
    </TR>
    <TR>
<TD width="13%"><EM><STRONG>nBytes</STRONG></EM></TD>
<TD width="87%">Number of bytes of the region to be flushed.</TD>
    </TR>
  </TBODY>
</TABLE>
<H2>Return Values</H2>
<P>None.</P>
<H2>Description</H2>
<P>Flushes the data in the specified data cache region.</P>
<P>Specifically, this function performs a cache writeback in a dirty state (state when a write to data cache corresponding to the specified memory region is not reflected in main memory), discards data in that cache region, and places it in an invalid state.</P>
<P>Call this function when completing data transmission data blocks that use the main memory of other devices, such as when performing DMA transfers or creating graphics commands.</P>
<P><em><strong><code>startAddr</code></strong></em> is rounded down to the closest 32-byte boundary. <em><strong><code>startAddr</code></strong></em> + <em><strong><code>nBytes</code></strong></em> is rounded up to the closest 32-byte boundary.</P>
<P><CODE>DC_CleanAndInvalidateRange</CODE> is another name for <CODE>DC_FlushRange</CODE> and operates exactly the same way.   <code>DC_Clean*/DC_CleanAndInvalidate*</code> were prepared for porting from the prototype SDK version. In most cases, use <code>DC_Store*/DC_Flush*</code>.</P>
<P>The official documentation for the ARM processor sometimes describes <strong>Flush</strong> as the operation that invalidates the data cache, <strong>Clean</strong> as the operation that writes back the data cache and puts it into a clean state, and <strong>Clean and Flush</strong> as the operation that writes back and then invalidates. However, this SDK follows the conventions of the Nintendo&nbsp;GameCube and Nintendo64 by using <strong>Invalidate</strong> for invalidation, <strong>Store</strong> for writeback, and <strong>Flush</strong> for writeback and invalidate operations. &nbsp;</P>
<H2>Internal Operation</H2>
<P>Operates register 7 of the system control coprocessor. This function divides the specified range into cache-line units and repeats its operation. Thus the amount of time it takes is proportional to the size of the range. If the range is large and you can properly manage the cache for the whole application, calling <code>DC_FlushAll</code> will require less processing time.
</P>
<H2>See Also</H2>
<P><CODE><A href="IC_InvalidateAll.html">IC_InvalidateAll</A> <A href="IC_InvalidateRange.html">IC_InvalidateRange</A><BR> <A href="DC_InvalidateAll.html">DC_InvalidateAll</A> <A href="DC_InvalidateRange.html">DC_InvalidateRange</A><BR> <A href="DC_StoreAll.html">DC_StoreAll</A> <A href="DC_StoreRange.html">DC_StoreRange</A><BR> <A href="DC_FlushAll.html">DC_FlushAll</A></CODE></P>
<H2>Revision History</H2>
<P>
11/14/2005 Changed the type of <CODE><EM><STRONG>startAddr</STRONG></EM></CODE> to const <CODE>void*</CODE>.<br> 04/19/2005 Added a description of the reason why processing time is proportional to the size of the memory region. <br> 2003/12/22 Initial version.
</P>
<p align="right"><strong>CONFIDENTIAL</strong></p>
</body>
</html>