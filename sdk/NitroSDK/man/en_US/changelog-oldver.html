<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<title>NITRO-SDK CHANGELOG OLD VERSION</title>

<link rel=Stylesheet type="text/css" media=all href="css/titles.css">

</head>

<body lang=EN-US link=blue vlink=blue>

<hr size=2 width="100%" align=center>

<h1>Past NITRO-SDK Revision History</h1>

<hr size=2 width="100%" align=center>

<p><a href="changelog.html">Recent Revision History</a></p>

<DL>
<DT><A href="#sdk_2_01">NITRO-SDK 2.1 Release version</A> (05/09/2005)
<DD><A href="#note26-01">Note 26-01: (CARD) Added validity testing for card access DMA channels</A>
<DD><A href="#note26-02">Note 26-02: (DevEnv) Added floating point library specification option</A>
<DD><A href="#note26-03">Note 26-03: (FS) Internal corrections in FINALROM version overlay function</A>
<DD><A href="#note26-04">Note 26-04: (MB) Added sample demo.</A>
<DD><A href="#note26-05">Note 26-05: (OS) Added extended language codes</A>
<DD><A href="#note26-06">Note 26-06: (SND) Added instrument release invalidation function</A>
<DD><A href="#note26-07">Note 26-07: (WBT) Corrected sample demo.</A>
<DD><A href="#note26-08">Note 26-08: (WM) Corrected sample demo.</A>
<DD><A href="#KnownIssues_2_01">Known issues in SDK 2.1 release version</A>
</DL>

<hr size=2 width="100%" align=center>

<DL>
<DT><A href="#sdk_2_01_rc">NITRO-SDK 2.1 RC</A> (04/21/2005)
<DD><A href="#note25-01">Note 25-01: (CARD) Added note about threads created with CARD Init</A>
<DD><A href="#note25-02">Note 25-02: (CTRDG) Added function to detect removal of cartridge device</A>
<DD><A href="#note25-03">Note 25-03: (CTRDG) Added reference description for cartridge bus lock and removal detection</A>
<DD><A href="#note25-04">Note 25-04: (CTRDG) Corrected reference about cartridge state</A>
<DD><A href="#note25-05">Note 25-05: (DevEnv) Changed memory map (Changed DTCM addresses)</A>
<DD><A href="#note25-06">Note 25-06: (FS) Improved validity checking for interrupts</A>
<DD><A href="#note25-07">Note 25-07: (GX) Corrected G3 FrustumW function</A>
<DD><A href="#note25-08">Note 25-08: (MATH) Added quicksort function</A>
<DD><A href="#note25-09">Note 25-09: (MATH) Added checksum, CRC calculation functions</A>
<DD><A href="#note25-10">Note 25-10: (MIC) Corrected mic-2 sample demo</A>
<DD><A href="#note25-11">Note 25-11: (MB) Added option to automatically generate TGID in MB Init</A>
<DD><A href="#note25-12">Note 25-12: (MB) Added functions to set wireless drive parameters</A>
<DD><A href="#note25-13">Note 25-13: (MB) Corrected MBP sample demo.</A>
<DD><A href="#note25-14">Note 25-14: (OS) Corrected stack check processing for launcher thread</A>
<DD><A href="#note25-15">Note 25-15: (OS) Corrected internal operation of OS_Sleep</A>
<DD><A href="#note25-16">Note 25-16: (OS) Corrected internal operation of cache flash function</A>
<DD><A href="#note25-17">Note 25-17: (OS) Corrected sample demo.</A>
<DD><A href="#note25-18">Note 25-18: (OS) Corrected references for format string functions</A>
<DD><A href="#note25-19">Note 25-19: (OS) Language codes temporary correspondence</A>
<DD><A href="#note25-20">Note 25-20: (SND) Unified distributions of sound library</A>
<DD><A href="#note25-21">Note 25-21: (SND) Added SND_PrepareSeq and SND_StartPreparedSeq functions</A>
<DD><A href="#note25-22">Note 25-22:(WM) Changed internal operation</A>
<DD><A href="#note25-23">Note 25-23: (WM) Added function to automatically generate TGID</A>
<DD><A href="#KnownIssues_2_01_rc">Known issues in SDK 2.1 RC</A>
</DL>

<hr size=2 width="100%" align=center>

<DL>
<DT><A href="#sdk_2_01_pr">NITRO-SDK 2.1 PR</A> (04/07/2005)
<DD><A href="#note24-01">Note 24-01: (CARD) CARDRomHeader structure added</A>
<DD><A href="#note24-02">Note 24-02: (CARD) Internal check added to CARD_IdentifyBackup</A>
<DD><A href="#note24-03">Note 24-03: (CARD) Added demo that explicitly specifies the ROM type</A>
<DD><A href="#note24-04">Note 24-04: (DevEnv) Support for one-time ROM build option</A>
<DD><A href="#note24-05">Note 24-05: (DevEnv) SDK version format changes</A>
<DD><A href="#note24-06">Note 24-07: (GX) Corrected G3_GetDLSize function bug</A>
<DD><A href="#note24-07">Note 24-07: (MATH) Added function to calculate message digest values</A>
<DD><A href="#note24-08">Note 24-08: (MB) Added MB_GetGameEntryBitmap function</A>
<DD><A href="#note24-09">Note 24-09: (OS) Corrected card lock internal processing in OS_ResetSystem</A>
<DD><A href="#note24-10">Note 24-10: (OS) Corrected internal implimentation of Cache Flash</A>
<DD><A href="#note24-11">Note 24-11: (OS) Corrected sample demo.</A>
<DD><A href="#note24-12">Note 24-12: (RTC) Fixed bug in date-writing function</A>
<DD><A href="#note24-13">Note 24-13: (Snd) Added function to get sound driver information</A>
<DD><A href="#note24-14">Note 24-14: (Snd) Added SND_COMMAND IMMEDIATE as a flag for SND_FlushCommand</A>
<DD><A href="#note24-15">Note 24-15: (Snd) Added SND_INST_NULL to SNDInstType</A>
<DD><A href="#note24-16">Note 24-16: (WM) Updated &quot;Description of wireless communication library&quot;</A>
<DD><A href="#note24-17">Note 24-17: (WM) Fixed bug related to disconnection timing</A>
<DD><A href="#note24-18">Note 24-18: (WM) Fixed bug in WM_StartScanEx</A>
<DD><A href="#note24-19">Note 24-19: (WM) Fixed bug related to disconnection processing</A>
<DD><A href="#note24-20">Note 24-20: (WM) Added demo that uses WEP Key with DS wireless play</A>
<DD><A href="#KnownIssues_2_01_pr">Known issues in SDK 2.1 PR</A>
</DL>

<hr size=2 width="100%" align=center>

<DL>
<DT><A href="#sdk_2_00">NITRO-SDK 2.0 Release version</A> (03/11/2005)
<DD><A href="#note23-01">Note 23-01: (CTRDG) Added information to references for AGB Game Pak state functions</A>
<DD><A href="#note23-02">Note 23-02:(DevEnv) Standardized the source code forms</A>
<DD><A href="#note23-03">Note 23-03: (DevEnv) Added reference for compiled DS programs</A>
<DD><A href="#note23-04">Note 23-04: (DevEnv) Clarified argument ranges in the function reference</A>
<DD><A href="#note23-05">Note 23-05: (DevEnv) Defined the macro SDK_WEAK_SYMBOL for the declaration of weak symbols</A>
<DD><A href="#note23-06">Note 23-06: (FS) Fixed bug that occurred during loading of compressed overlay</A>
<DD><A href="#note23-07">Note 23-07: (MI) Added an alignment option for data compression</A>
<DD><A href="#note23-08">Note 23-08: (PRC) ASSERT statements in functions were modified</A>
<DD><A href="#note23-09">Note 23-09: (PRC) Return value types changed</A>
<DD><A href="#note23-10">Note 23-10: (WM) Fixed bug related to disconnection timing</A>
<DD><A href="#note23-11">Note 23-11: (WM) Fixed bug that occurred when minPollBmpMode was used in WM_StartMPEx</A>
<DD><A href="#note23-12">Note 23-12: (WM) Communications content is no longer erased</A>
<DD><A href="#note23-13">Note 23-13: (WM) Send queue for port communications was reduced</A>
<DD><A href="#note23-14">Note 23-14: (WM) Changed WMPortSendCallback structure</A>
<DD><A href="#note23-15">Note 23-15: (WM) Revisions and improvements to status check</A>
<DD><A href="#note23-16">Note 23-16: (WM) Revised return value for WM_EndKeySharing</A>
<DD><A href="#note23-17">Note 23-17: (WM) Corrected WH sample demo.</A>
<DD><A href="#KnownIssues_2_00">Known issues in SDK 2.0 release version</A>
</DL>

<hr size=2 width="100%" align=center>

<DL>
<DT><A href="#sdk_2_00_rc5">NITRO-SDK 2.0 RC5</A> (02/25/2005)
<DD><A href="#note22-01">Note 22-01: (ARM7) Added and deleted components</A>
<DD><A href="#note22-02">Note 22-02: (CHT) Corrected sample demo.</A>
<DD><A href="#note22-03">Note 22-03: (DevEnv) Revised source code to support pedantic warning options</A>
<DD><A href="#note22-04">Note 22-04: (FS) Added overlay-staticinit demo</A>
<DD><A href="#note22-05">Note 22-05: (FS) Corrected internal malfunction of archive suspended state</A>
<DD><A href="#note22-06">Note 22-06: (FS) Corrected internal error detection in FS_LoadOverlayImage</A>
<DD><A href="#note22-07">Note 22-07: (GX) Correction of type returned by GX_GetOBJVRamModeBmp</A>
<DD><A href="#note22-08">Note 22-08: (GX) Deleted invalid member in GXBg23ControlAffine structure</A>
<DD><A href="#note22-09">Note 22-09: (GX) Fixed bug in G2_GetBG3Control* and  G2S_GetBG3Control* functions</A>
<DD><A href="#note22-10">Note 22-10: (GX) Added function group that tries to allocate VRAM</A>
<DD><A href="#note22-11">Note 22-11: (MATH) Fixed problem with in-lining of MATH_CountLeadingZeros using code32.h</A>
<DD><A href="#note22-12">Note 22-12: (MB) Added interface for setting user data in the beacon of a DS download play parent.</A>
<DD><A href="#note22-13">Note 22-13:(MI) Added Compression Function</A>
<DD><A href="#note22-14">Note 22-14: (MI) Added function for setting the AGB Game Pak ROM access cycle</A>
<DD><A href="#note22-15">Note 22-15: (MI) Resolved problem with multiplex DMA during startup</A>
<DD><A href="#note22-16">Note 22-16: (MIC) Automatic sampling engine was optimized</A>
<DD><A href="#note22-17">Note 22-17: (OS) Link to Interrupt Overview page added</A>
<DD><A href="#note22-18">Note 22-18: (OS) Added functions to control thread scheduling</A>
<DD><A href="#note22-19">Note 22-19: (OS) Fixed problem with cache lockdown functions</A>
<DD><A href="#note22-20">Note 22-20: (OS) Added functions to release locked cache</A>
<DD><A href="#note22-21">Note 22-21: (OS) Fixed cache problem with OS_ResetSystem</A>
<DD><A href="#note22-22">Note 22-22: (OS) Added OS_GetITCMAddress function</A>
<DD><A href="#note22-23">Note 22-23:(PM) Changed the recovery process after transitioning from LCD OFF state to sleep mode.</A>
<DD><A href="#note22-24">Note 22-24: (SND) Changed distributions of sound library</A>
<DD><A href="#note22-25">Note 22-25: (WM) Fixed packet duplication problem during sequential communications</A>
<DD><A href="#note22-26">Note 22-26: (WM) Clarification of restrictions during sequential communication using minPollBmpMode</A>
<DD><A href="#note22-27">Note 22-27: (WM) Fixed problem with restBitmap member in WM_PortSendCallback structure</A>
<DD><A href="#note22-28">Note 22-28: (WM) Fixed problem with WM_Reset function</A>
<DD><A href="#note22-29">Note 22-29: (WM) Fixed operation of WM_IsBssidEqual and WM_CopyBssid and added 16-bit version</A>
<DD><A href="#note22-30">Note 22-30: (WM) Added warning about order of WM asynchronous function  callbacks and intermediate acknowledgements</A>
<DD><A href="#note22-31">Note 22-31: (WM) Fixed problem with callback after resend</A>
<DD><A href="#note22-32">Note 22-32: (WM) Corrected WH sample demo bug.</A>
<DD><A href="#note22-33">Note 22-33: (WM) Corrected WFS sample demo bug.</A>
<DD><A href="#note22-34">Note 22-34:(WM) Added New Function</A>
<DD><A href="#note22-35">Note 22-35: (WM) Improved internal operation during start of MP communications</A>
<DD><A href="#note22-36">Note 22-36: (WM) Fixed problem with internal operation at parent startup</A>
<DD><A href="#note22-37">Note 22-37: (WM) Changed callback for WM_SetMPData* functions</A>
<DD><A href="#note22-38">Note 22-38: (WM) Corrected problem that occurred when parent near connection capacity connected with additional children</A>
<DD><A href="#note22-39">Note 22-39: (WM) Official release of description document</A>
<DD><A href="#note22-40">Note 22-40: (WVR) Wireless driver drive control library added</A>
<DD><A href="#KnownIssues_2_00_rc5">Known Issues in SDK 2.0 RC5</A>
</DL>

<hr size=2 width="100%" align=center>

<DL>
<DT><A href="#sdk_2_00_rc4">NITRO-SDK 2.0 RC4</A> (01/14/2005)
<DD><A href="#note21-01">Note 21-01: (CHT) Added PictoChat-related libraries</A>
<DD><A href="#note21-02">Note 21-02: (MATH) Created MATH category</A>
<DD><A href="#note21-03">Note 21-03:(MATH) Added function for random numbers.</A>
<DD><A href="#note21-04">Note 21-04: (MB) Fixed the bug in the pseudo Single-Card Play child device</A>
<DD><A href="#note21-05">Note 21-05: (MB) Fixed the bug in internal thread when MB library ends</A>
<DD><A href="#note21-06">Note 21-06: (MB) Fixed internal operation when MB library ends</A>
<DD><A href="#note21-07">Note 21-07: (MB) Added a demo to pre-deliver as-needed data for entry child</A>
<DD><A href="#note21-08">Note 21-08: (WM) Added a function to wireless library</A>
<DD><A href="#note21-09">Note 21-09: (WM) Added stricter exclusive control to WM asynchronous function group</A>
<DD><A href="#note21-10">Note 21-10: (WM) Fixed power management setting of MP communication</A>
<DD><A href="#note21-11">Note 21-11: (WM) Improved WFS sample</A>
<DD><A href="#note21-12">Note 21-12: (WM) Fixed the demo that determines channel used by parent device</A>
<DD><A href="#note21-13">Note 21-13:(FS) Updated Feild System Document</A>
<DD><A href="#note21-14">Note 21-14: (GX) Added functions that read drawing register</A>
<DD><A href="#note21-15">Note 21-15: (GX) Eliminated the definition of VRAM expansion flag of bitmap OBJ for sub 2D engine</A>
<DD><A href="#note21-16">Note 21-16: (GX) Distinguished transfer method depending on data size</A>
<DD><A href="#note21-17">Note 21-17: (GX) Fixed ASSERT bug when using GX_SetBankForBGEx</A>
<DD><A href="#note21-18">Note 21-18: (GX) Added the GX_ResetCapture function</A>
<DD><A href="#note21-19">Note 21-19:(CARD,CTRDG) Improved Forced Stop Processing</A>
<DD><A href="#note21-20">Note 21-20: (CARD) Eliminated the CARD_ReadRomID function</A>
<DD><A href="#note21-21">Note 21-21: (CARD) Added a function for setting the NITRO-CARD access permission state</A>
<DD><A href="#note21-22">Note 21-22: (TP) Fixed the behavior of the TP_GetLatestRawPointInAuto function</A>
<DD><A href="#note21-23">Note 21-23: (TP) Improved the countermeasures for noise the touch panel receives from the LCD</A>
<DD><A href="#note21-24">Note 21-24: (MIC) Added an API for adjusting the sampling rate during auto-sampling</A>
<DD><A href="#note21-25">Note 21-25: (OS) Added an interrupt check flag for application (2nd notice)</A>
<DD><A href="#note21-26">Note 21-26: (OS) Added OS_DestroyThread function</A>
<DD><A href="#note21-27">Note 21-27: (OS) Eliminated OS demo interrupt-key-1, and modified WaitIrq-2</A>
<DD><A href="#note21-28">Note 21-28: (OS) Added OS_EnableMainExArena() and OS_DisableMainExArena()</A>
<DD><A href="#note21-29">Note 21-29: (OS) Fixed OS_DisableWriteBufferForProtectionRegion()</A>
<DD><A href="#note21-30">Note 21-30: (OS) Added and modified the heap function</A>
<DD><A href="#note21-31">Note 21-31: (MI) Added support for streaming expansion of compressed data</A>
<DD><A href="#note21-32">Note 21-32: (MI) Fixed the bug in MI_SendGXCommandAsync*()</A>
<DD><A href="#note21-33">Note 21-33: (MI) Resolved problem with multiplex DMA</A>
<DD><A href="#note21-34">Note 21-34: (PXI) Modified the PXI initialization process</A>
<DD><A href="#note21-35">Note 21-35: (DevEnv) Added a size check option for clone boot to makerom</A>
<DD><A href="#note21-36">Note 21-36: (DevEnv) Standardized the document format</A>
<DD><A href="#note21-37">Note 21-37: (DEMO) Added the tips/MyBuildMessage demo</A>
<DD><A href="#note21-38">Note 21-38: (TOOL) Reduced the size of the emuchild output file</A>
<DD><A href="#note21-39">Note 21-39: (SND) Changed distributions of sound library</A>
<DD><A href="#KnownIssues_2_00_rc4">Known Issues in SDK 2.0 RC4</A>
</DL>

<hr size=2 width="100%" align=center>

<DL>
<DT><A href="#sdk_2_00_rc3">NITRO-SDK 2.0 RC3</A> (11/29/2004)
<DD><A href="#note20-01">Note 20-01: (MB) Added pseudo Single-Card Play child function</A>
<DD><A href="#note20-02">Note 20-02: (MB) Corrected the problem of the MB_GetParentSystemBufSize() function</A>
<DD><A href="#note20-03">Note 20-03: (MB) Expanded the features of the MB_ReadSegment() function</A>
<DD><A href="#note20-04">Note 20-04: (MB) Changed the names of the MB_StartParentEx() and MB_EndEx() functions</A>
<DD><A href="#note20-05">Note 20-05: (MB) Added the MB_DisconnectChild() function</A>
<DD><A href="#note20-06">Note 20-06: (MB) Eliminated the parent receive buffer size change</A>
<DD><A href="#note20-07">Note 20-07: (MB) Added clone boot sample.</A>
<DD><A href="#note20-08">Note 20-08: (MB) Corrected the problem of retries when reconnecting to the Multiboot-Model parent</A>
<DD><A href="#note20-09">Note 20-09: (MB) Added a document about the Single-Card Play procedure</A>
<DD><A href="#note20-10">Note 20-10: (WM) Corrected the ARM7 wireless library</A>
<DD><A href="#note20-11">Note 20-11: (WM) Introduced the MP communication life time</A>
<DD><A href="#note20-12">Note 20-12: (WM) Added the &quot;Wireless Communication Tutorial&quot;</A>
<DD><A href="#note20-13">Note 20-13: (FS) Added the FS_LoadOverlayImageAsync() function</A>
<DD><A href="#note20-14">Note 20-14: (FS) Eliminated the FS_RegisterOverlayToDebugger() function</A>
<DD><A href="#note20-15">Note 20-15: (GX) Added the GX_GetVCountEqVal() function and changed other VCOUNT match interrupt related API</A>
<DD><A href="#note20-16">Note 20-16: (GX) Added the GX_SetBankForBGEx() function</A>
<DD><A href="#note20-17">Note 20-17: (CARD) Changed the card removal post-processing function CARD_TerminateForPulledOut()</A>
<DD><A href="#note20-18">Note 20-18: (MI) Added the Difference Filter Restoration function</A>
<DD><A href="#note20-19">Note 20-19: (MI) Added the Memory Clear Process function only for startup</A>
<DD><A href="#note20-20">Note 20-20:(OS) Corrected problem with VAlarm</A>
<DD><A href="#note20-21">Note 20-21: (OS) Made debug functions to weak symbols</A>
<DD><A href="#note20-22">Note 20-22: (SND) Corrected the problem that stopped the SND_InvalidateWaveData() function from generating some sounds</A>
<DD><A href="#note20-23">Note 20-23: (MIC) Corrected the problem in which the MIC_GetLastSamplingAddress() function did not return the accurate address</A>
<DD><A href="#note20-24">Note 20-24:(PRC) Changed identifier name</A>
<DD><A href="#note20-25">Note 20-25: (WM) Enhanced the WM_SetMPDataToPort*() argument check</A>
<DD><A href="#KnownIssues_2_00_rc3">Known problems with SDK 2.0 RC3</A>
</DL>

<hr size=2 width="100%" align=center>

<DL>
<DT><A href="#sdk_2_00_rc2">NITRO-SDK 2.0 RC2</A> (11/04/2004)
<DD><A href="#note19-01">Note 19-01: (WM) Changed the return value of WM_GetAllowedChannel() when an error occurs</A>
<DD><A href="#note19-02">Note 19-02: (WM) Changed part of the internal specifications of the WM_End library termination function</A>
<DD><A href="#note19-03">Note 19-03: (WM) Changed WMDisconnectCallback structure</A>
<DD><A href="#note19-04">Note 19-04: (WM) Corrected initialization of WM_Reset()</A>
<DD><A href="#note19-05">Note 19-05: (WM) Corrected processing at end of data sharing</A>
<DD><A href="#note19-06">Note 19-06: (WM) Changed upper limit of data size in data sharing</A>
<DD><A href="#note19-07">Note 19-07: (MB) Corrected invalid nameLength problem in MBUserInfo</A>
<DD><A href="#note19-08">Note 19-08: (MB) Added MB_StartParentEx () and MB_EndEx ()</A>
<DD><A href="#note19-09">Note 19-09: (MB) Added warning to MB_UnregisterFile() reference</A>
<DD><A href="#note19-10">Note 19-10: (MB) Added a demo that surveys the channel signal usage</A>
<DD><A href="#note19-11">Note 19-11: (MB) Implemented new method to set the tgid value in the multiboot demo</A>
<DD><A href="#note19-12">Note 19-12: (MB) Changed part of the internal specifications of the MB_End library termination function</A>
<DD><A href="#note19-13">Note 19-13: (WBT) Corrected error in wbt-fs sample demo that occurred during disconnect</A>
<DD><A href="#note19-14">Note 19-14: (WBT) Corrected wbt-fs sample demo</A>
<DD><A href="#note19-15">Note 19-15: (WBT) Corrected WBT library</A>
<DD><A href="#note19-16">Note 19-16: (FS) Added the FS_RegisterOverlayToDebugger() function</A>
<DD><A href="#note19-17">Note 19-17: (OS) Changed V-count alarm processing</A>
<DD><A href="#note19-18">Note 19-18: (OS) Added function to get owner information (favorite color)</A>
<DD><A href="#note19-19">Note 19-19: (OS) Fixed function cost profiler</A>
<DD><A href="#note19-20">Note 19-20: (OS) Corrected OS_SetTick ()</A>
<DD><A href="#note19-21">Note 19-21: (OS) Corrected OS_ResetSystem()</A>
<DD><A href="#note19-22">Note 19-22: (OS) Fixed data section transfer to DTCM</A>
<DD><A href="#note19-23">Note 19-23: (CARD) Added the CARD_GetRomHeader function</A>
<DD><A href="#note19-24">Note 19-24: (CARD) Added detection of automatically initiated DMA during Game Card access</A>
<DD><A href="#note19-25">Note 19-25: (ARM7) Added detection of Game Card/Game Pak removal to ferret</A>
<DD><A href="#note19-26">Note 19-26: (PM) Corrected LCD state during restore from sleep</A>
<DD><A href="#note19-27">Note 19-27: (MI) Corrected address checking during DMA</A>
<DD><A href="#note19-28">Note 19-28: (MI) Corrected MI_DmaFill*()</A>
<DD><A href="#note19-29">Note 19-29: (GX) Changed names of G3X_IsLineBufferOverflow() and G3X_ResetLineBufferOverflow()</A>
<DD><A href="#note19-30">Note 19-30: (GX) Corrected error in register definition</A>
<DD><A href="#note19-31">Note 19-31: (GX) Corrected clearing problem with G3X_InitTable table</A>
<DD><A href="#note19-32">Note 19-32: (SND) Changed distributions of sound library</A>
<DD><A href="#note19-33">Note 19-33: (CTRDG) Added references for CTRDG_IsNumberID() and CTRDG_IsBitID()</A>
<DD><A href="#note19-34">NOte 19-34: (DevEnv) Included IPL GUI version of mb_child and WMTestTool for checking wireless connections</A>
<DD><A href="#KnownIssues_2_00_rc2">Known problems with SDK 2.0 RC2</A>
</DL>

<hr size=2 width="100%" align=center>

<DL>
<DT><A href="#sdk_2_00_rc1">NITRO-SDK 2.0 RC1</A> (10/07/2004)
<DD><A href="#note18-01">Note 18-01: (WM) Changes in WM library</A>
<DD><A href="#note18-02">Note 18-02: (WB) Corrected the problem that the mb_child.srl program had stopped processing the maximum number of characters</A>
<DD><A href="#note18-03">Note 18-03: (MB) Changed the download sequence of the multiboot-Model demo</A>
<DD><A href="#note18-04">Note 18-04: (MB) Changed the display characters of the mb_child.srl program to English</A>
<DD><A href="#note18-05">Note 18-05: (WBT) Added the WBT_CancelCurrentCommand function</A>
<DD><A href="#note18-06">NOte 18-06: (DEMO) Dealt with warning in WM demo bell</A>
<DD><A href="#note18-07">Note 18-07: (DEMO) Changed the user name process in the multiboot demo</A>
<DD><A href="#note18-08">Note 18-08: (DevEnv) Included the NITRO-SDK version display tool</A>
<DD><A href="#note18-09">Note 18-09: (DevEnv) Included the final version of the banner display tool</A>
<DD><A href="#note18-10">Note 18-10: (DevEnv) Linked the description of the resident area name of lsf file and the module compression process</A>
<DD><A href="#note18-11">Note 18-11: (OS) Changed the protection region setting for main memory</A>
<DD><A href="#note18-12">Note 18-12: (OS) Sound stopping process when reset</A>
<DD><A href="#note18-13">Note 18-13: (OS) Corrected OS_CreateThread()</A>
<DD><A href="#note18-14">Note 18-14: (OS) Corrected Function Trace Profiler</A>
<DD><A href="#note18-15">Note 18-15: (PM) Corrected the LCD switching function PM_SetLCDPower()</A>
<DD><A href="#note18-16">Note 18-16: (PM) Corrected to avoid residual image when entering sleep</A>
<DD><A href="#note18-17">Note 18-17: (PM) Corrected the IRQ mask return process during sleep</A>
<DD><A href="#note18-18">Note 18-18: (PM) Added callback call process for sleep</A>
<DD><A href="#note18-19">Note 18-19: (CARD) Corrected the processing of multiple card initialization calls</A>
<DD><A href="#note18-20">Note 18-20: (CTRDG) Added cartridge functions</A>
<DD><A href="#note18-21">Note 18-21: (RTC) Changed the method for monitoring RTC alarm</A>
<DD><A href="#note18-22">Note 18-22: (RTC) Corrected the problem with consistency of date and day of the week</A>
<DD><A href="#note18-23">Note 18-23: (GX) Added use of clear image for clear depth image by itself</A>
<DD><A href="#KnownIssues_2_00_rc1">Known problems with SDK 2.0 RC1</A>
</DL>

<hr size=2 width="100%" align=center>

<DL>
<DT><A href="#sdk_2_00_fc">NITRO-SDK 2.0 FC</A> (09/30/2004)
<DD><A href="#note17-01">Note 17-01: (WBT) Official release of the wireless block transfer library</A>
<DD><A href="#note17-02">Note 17-02: (WM/TP) Corrected the problem that the wireless processes stopped the auto sampling of the touch panel</A>
<DD><A href="#note17-03">Note 17-03: (WM) Changes in WM library</A>
<DD><A href="#note17-04">Note 17-04: (DEMO) Corrected multiboot-Model demo</A>
<DD><A href="#note17-05">Note 17-05: (DevEnv) Corrected makebanner tool</A>
<DD><A href="#note17-06">Note 17-06: (DevEnv) Corrected the LIBSYSCALL process and changed the storage location of libsyscall.a</A>
<DD><A href="#note17-07">Note 17-07: (DevEnv) Corrected the compression process of overlay with NITRO COMPRESS</A>
<DD><A href="#note17-08">Note 17-08: (DevEnv) Changed the font set in banner file</A>
<DD><A href="#note17-09">Note 17-09: (DevEnv) Restricting the location of the banner file in ROM spec file and counter measures.</A>
<DD><A href="#note17-10">Note 17-10: (GX) Corrected bug in register definition</A>
<DD><A href="#note17-11">Note 17-11: (MI) Corrected MI_SendGXCommandAsyncFast</A>
<DD><A href="#note17-12">Note 17-12: (MI) Corrected MI_SendGXCommand ()</A>
<DD><A href="#note17-13">Note 17-13: (FS) Corrected the problem of calling FS_GetPathName()</A>
<DD><A href="#note17-14">Note 17-14: (OS) Added initialization function to be called by OS_Init()</A>
<DD><A href="#note17-15">Note 17-15: (CARD) Changed the card removal detection process</A>
<DD><A href="#note17-16">Note 17-16: (TP) Changed the validity conditions</A>
<DD><A href="#KnownIssues_2_00_fc">Known problems with SDK 2.0 FC</A>
<DD><A href="#Information_2_00_fc">Additional information for SDK 2.0 FC</A>
</DL>

<hr size=2 width="100%" align=center>

<DL>
  <DT><A href="#sdk_2_0_PR7">NITRO-SDK 2.0 PR7</A> (09/21/2004)
  <DD><A href="#note16-01">Note 16-01: (WM) Changes in the WM library</A>
  <DD><A href="#note16-02">Note 16-02: (FS) Corrected problems with loading compressed overlays</A>
  <DD><A href="#note16-03">Note 16-03: (CTRDG) Created an API for detecting the Game Pak being pulled out</A>
  <DD><A href="#note16-04">Note 16-04: (CARD) Created an API for detecting the Card being pulled out</A>
  <DD><A href="#note16-05">Note 16-05: (GX) Corrected the problem that occurs when creating the display list with G3C</A>
  <DD><A href="#note16-06">Note 16-06: (OS) RTC interrupt process</A>
  <DD><A href="#note16-07">Note 16-07: (MIC) Changed I/F of auto-sampling start function</A>
  <DD><A href="#note16-08">Note 16-08: (SND) Updated the sound library</A>
  <DD><A href="#note16-09">Note 16-09: (DevEnv) Included the tool for creating the test viewer of the banner file</A>
  <DD><A href="#note16-10">Note 16-10: (DEMO) Added the final ROM creation demo</A>
  <DD><A href="#KnownIssues_2_00_pr7">Known problems with SDK 2.0 PR7</A>
</DL>

<hr size=2 width="100%" align=center>

<DL>
  <DT><A href="#sdk_2_0_PR6">NITRO-SDK 2.0 PR6</A> (09/13/2004)
  <DD><A href="#note15-01">Note 15-01: (OS) Added functions that obtain the system information</A>
  <DD><A href="#note15-02">Note 15-02: (OS) Implementation of soft reset</A>
  <DD><A href="#note15-03">Note 15-03: (OS) Added OS_ClearAlloc() that destroys the memory allocation system</A>
  <DD><A href="#note15-04">Note 15-04: (OS) Changed the error display when the alarm is set</A>
  <DD><A href="#note15-05">Note 15-05: (MI) Added definition regarding DMA registers</A>
  <DD><A href="#note15-06">Note 15-06: (WM) Corrected the wireless control library and added features</A>
  <DD><A href="#note15-07">Note 15-07: (WM) Included the wireless strength icon</A>
  <DD><A href="#note15-08">Note 15-08: (WBT) Test release of the block transfer library</A>
  <DD><A href="#note15-09">Note 15-09: (SND) Updated the sound library</A>
  <DD><A href="#note15-10">Note 15-10: (DevEnv) Added support for the compressed resident module</A>
  <DD><A href="#note15-11">Note 15-11: (DevEnv) Startup of nitload by make run</A>
  <DD><A href="#note15-12">Note 15-12: (DevEnv) Provided ferret component that supports each hardware versions</A>
  <DD><A href="#note15-13">Note 15-13: (OS) Corrected OS_CheckHeap()</A>
  <DD><A href="#note15-14">Note 15-14: (MI) Corrected problems with runlength compression of ntrcomp.exe</A>
  <DD><A href="#note15-15">Note 15-15: (MI) Corrected the DMA processing</A>
  <DD><A href="#note15-16">Note 15-16: (WM/SND) Dealt with the problem with simultaneous use of the wireless and sound features</A>
  <DD><A href="#note15-17">Note 15-17: (MB) Corrected the problem with the return value of the MB_GetSegmentLength function</A>
  <DD><A href="#note15-18">Note 15-18: (MB) Corrected the malfunction of the Debug version of Multiboot sample</A>
  <DD><A href="#note15-19">Note 15-19: (CARD) Corrected the problem of calling the backup access function for the first time</A>
  <DD><A href="#note15-20">Note 15-20: (PRC) Corrected the stack overflow of the CharacterRecognition-1 demo</A>
  <DD><A href="#note15-21">Note 15-21: (OS) Added OS_TPrintf (a simplified version of printf)</A>
  <DD><A href="#KnownIssues_2_00_pr6">Known problems with SDK 2.0 PR6</A>
</DL>

<hr size=2 width="100%" align=center>

<DL>
  <DT><a href="#sdk_2_0_PR5">NITRO-SDK 2.0 PR5</a> (08/30/2004)
  <DD><a href="#note14-01">Note 14-01: (WM) <strong>Important</strong> Corrected the wireless control library and added features</a>
  <DD><a href="#note14-02">Note 14-02: (MI) <strong>Important</strong> Dealt with hardware restrictions related to the automatic DMA</a>
  <DD><a href="#note14-03">Note 14-03: (DevEnv) <strong>Important</strong> Included the component and library that support the hardware version</a>
  <DD><a href="#note14-04">Note 14-04: (DevEnv) Ended support for mongoose in the TEG environment</a>
  <DD><a href="#note14-05">Note 14-05: (DevEnv) Added files that begin with a dot (<code>.</code>) to the initial values used when specifying Reject in <CODE>makerom</CODE></a>
  <DD><a href="#note14-06">Note 14-06: (DevEnv) Changed to CodeWarrior version 0.6.1 to build the SDK</a>
  <DD><a href="#note14-07">Note 14-07: (DevEnv) Corrected the problem that code in the .itcm/.dtcm sections was not placed in ITCM/DTCM</a>
  <DD><a href="#note14-08">Note 14-08: (GX) Corrected problems with the mosaic size setting</a>
  <DD><a href="#note14-09">Note 14-09: (GX) Corrected problems with the definitions, such as <CODE>GX_InitEx()</CODE> in <CODE>gx.h</CODE></a>
  <DD><a href="#note14-10">Note 14-10: (CARD) Support for FLASH device</a>
  <DD><a href="#note14-11">Note 14-11: (CARD) Corrected the problem with calling <CODE>CARD_Init()</CODE> with interrupts prohibited</a>
  <DD><a href="#note14-12">Note 14-12: (CARD) Corrected the problem with calling <CODE>CARD_IdentifyBackup()</CODE></a>
  <DD><a href="#note14-13">Note 14-13: (MI) Changed how main memory access rights are switched to avoid a DMA startup delay</a>
  <DD><a href="#note14-14">Note 14-14: (OS) Corrected the Tick value retrieval function</a>
  <DD><a href="#note14-15">Note 14-15: (OS) Stopped the interrupt check flag automatic setting for V-Blank interrupt</a>
  <DD><a href="#note14-16">Note 14-16: (OS) Changed the location of DTCM in the TS environment</a>
  <DD><a href="#note14-17">Note 14-17: (OS) Calling <CODE>PM_Init()</CODE> inside <CODE>OS_Init()</CODE></a>
  <DD><a href="#note14-18">Note 14-18: (OS) Determining the proper operating environment using <CODE>OS_GetConsoleType()</CODE></a>
  <DD><a href="#note14-19">Note 14-19: (TP)  Error when determining whether the touch panel is touched</a>
  <DD><a href="#note14-20">Note 14-20: (PM) Added the RTC alarm as a trigger to awaken from sleep</a>
  <DD><a href="#note14-21">Note 14-21: (RTC) Operating the RTC in a fixed 24 hour notation</a>
  <DD><a href="#note14-22">Note 14-22: (DEMO) Corrected the problem with pressing the A button during application startup</a>
  <DD><a href="#note14-23">Note 14-23: (Doc) Added reference manuals for auxiliary tools such as <CODE>ntrcomp</CODE></a>
  <DD><a href="#KnownIssues_2_0_PR5">Known Problems in SDK 2.0 PR5</a>
</DL>

<hr size=2 width="100%" align=center>

<DL>
  <DT><a href="#sdk_2_0_PR4">NITRO-SDK 2.0 PR4</a> (08/11/2004)
  <DD><a href="#note13-01">Note 13-01: (WM) Corrected and added functions to the wireless control library</a>
  <DD><a href="#note13-02">Note 13-02: (MB) Added the DS Download Play (multiboot) library</a>
  <DD><a href="#note13-03">Note 13-03: (PM) Added the PM library</a>
  <DD><a href="#note13-04">Note 13-04: (MIC/TP) Added parallel operation of microphone sampling and the touch panel</a>
  <DD><a href="#note13-05">Note 13-05: (MIC) Added microphone support and preprocessing with IS-NITRO-DEBUGGER</a>
  <DD><a href="#note13-06">Note 13-06: (MIC) Corrected the <CODE>mic2wav</CODE> tool</a>
  <DD><a href="#note13-07">Note 13-07: (GX) Changed the LCD power management function</a>
  <DD><a href="#note13-08">Note 13-08: (GX) Added <CODE>G3*_MultTransMtx33()</CODE></a>
  <DD><a href="#note13-09">Note 13-09: (GX) Added functions to set the DMA number used by GX</a>
  <DD><a href="#note13-10">Note 13-10: (GX) Corrected problems with <CODE>GX_PowerGeometry()</CODE>, 
					<CODE>GX_Power3D()</CODE></a>
  <DD><a href="#note13-11">Note 13-11: (GX) Changed the write restriction to the register of 
					<CODE>GX_SetGraphicsMode()</CODE></a>
  <DD><a href="#note13-12">Note 13-12: (CARD) Released the official NITRO-CARD access API</a>
  <DD><a href="#note13-13">Note 13-13: (FS) Corrected the problem in which the file ID obtained by 
					<CODE>FS_ReadDir</CODE> did not match</a>
  <DD><a href="#note13-14">Note 13-14: (DevEnd) Corrected the problem when expanding makelcf/makerom 
					variables; added support for the variable definition files</a>
  <DD><a href="#note13-15">Note 13-15: (DevEnd) Output the autoload module information to the overlay name file</a>
  <DD><a href="#note13-16">Note 13-16: (DevEnv) Corrected the problem with failing to rename the 
					C++ library in the migw environment</a>
  <DD><a href="#note13-17">Note 13-17: (OS) Set up the V Blank counter</a>
  <DD><a href="#note13-18">Note 13-18: (PAD) Eliminated PAD_SetIrq() and PAD_ClearIrq()</a>
  <DD><a href="#note13-19">Note 13-19: (MI) Added DMA busy wait after synchronous DMA</a>
  <DD><a href="#note13-20">Note 13-20: (SND) Updated the sound libraries</a>
  <DD><a href="#note13-21">Note 13-21: (Demo) Corrected GX demo 3D_BoxTest</a>
  <DD><a href="#note13-22">Note 13-22: (Demo) Corrected GX demo LinesOver</a>
  <DD><a href="#note13-23">Note 13-23: (Demo) Corrected the output screen of the SPI demo spiMonkey</a>
  <DD><a href="#note13-24">Note 13-24: (DevEnv) Changed the sign setting of the char types</a>
  <DD><a href="#KnownIssues_2_0_PR4">Known Problems in SDK 2.0 PR4</a>
</DL>

<hr size=2 width="100%" align=center>

<DL>
  <DT><a href="#sdk_2_0_PR3+">NITRO-SDK 2.0 PR3plus</a> (07/29/2004)
  <DD><a href="#note12-01">Note 12-01: (DOC) Added and revised the WM Library Reference Manual</a>
  <DD><a href="#KnownIssues_2_0_PR3+">Known Problems in SDK 2.0 PR3 plus</a>
</DL>

<hr size=2 width="100%" align=center>

<DL>
  <DT><a href="#sdk_2_0_PR3">NITRO-SDK 2.0 PR3</a> (07/27/2004)
  <DD><a href="#note11-01">Note 11-01: (OS) Corrected a definition error in the system shared region</a>
  <DD><a href="#note11-02">Note 11-02: (DevEnv) Corrected the setting for the structure's padding warning</a>
  <DD><a href="#KnownIssues_2_0_PR3">Known Problems in SDK 2.0 PR3</a>
</DL>

<hr size=2 width="100%" align=center>

<DL>
  <DT><a href="#sdk_2_0_PR2">NITRO-SDK 2.0 PR2</a> (07/26/2004)
  <DD><a href="#note10-01">Note 10-01: (WM) Added the wireless control library</a>
  <DD><a href="#note10-02">Note 10-02: (DevEnv) Changed the memory map (changed the DTCM address) (only with TS)</a>
  <DD><a href="#note10-03">Note 10-03: (DevEnv) Added a parameter that absorbs the difference of DTCM</a>
  <DD><a href="#note10-04">Note 10-04: (DevEnv) Corrected the link error in the C++ exception table</a>
  <DD><a href="#note10-05">Note 10-05: (SVC) Updated the SVS library and reference manual</a>
  <DD><a href="#note10-06">Note 10-06: (OS) Improved the lock functions (1): standardized the lock ID type</a>
  <DD><a href="#note10-07">Note 10-07: (OS) Improved the lock functions (2): changed the name of the unlock function</a>
  <DD><a href="#note10-08">Note 10-08: (MI) Changed the name of the MI_GetCartridgeRomCycle* function (posted again)</a>
  <DD><a href="#KnownIssues_2_0_PR2">Known Problems in SDK 2.0 PR2</a>
</DL>

<hr size=2 width="100%" align=center>

<DL>
  <DT><a href="#sdk_2_0_PR1">NITRO-SDK 2.0 PR1</a> (07/20/2004)
  <DD><a href="#note09-01">Note 9-01: (DevEnv) Changed the library support and default target for the TS version</a>
  <DD><a href="#note09-02">Note 9-02: (DevEnv) Changed the file extension of the ROM binary files</a>
  <DD><a href="#note09-03">Note 9-03: (DevEnv) Changed the overlay method</a>
  <DD><a href="#note09-04">Note 9-04: (DevEnv) Changed the LCF file description</a>
  <DD><a href="#note09-05">Note 9-05: (DevEnv) Changed the make rule</a>
  <DD><a href="#note09-06">Note 9-06: (DevEnv) Corrected the generation rule of the nef and srl files</a>
  <DD><a href="#note09-07">Note 9-07: (DevEnv) Added the compile switch NITRO_CODEGEN_ALL</a>
  <DD><a href="#note09-08">Note 9-08: (SND) Updated the sound library</a>
  <DD><a href="#note09-09">Note 9-09: (FS) Corrected an error in FS_RegisterArchiveName</a>
  <DD><a href="#note09-10">Note 9-10: (FS) Corrected the improper display of a string while 
					debugging in the async demo thread</a>
  <DD><a href="#note09-11">Note 9-11: (FS) Corrected the problem of returning control prematurely 
					while FS_WaitAsync is still running</a>
  <DD><a href="#note09-12">Note 9-12: (GX) Corrected GX_SetBankForTex(), GX_LoadTexEx(), and GX_LoadTex()</a>
  <DD><a href="#note09-13">Note 9-13: (GX) Changed the clear color alpha default from 0 to 31 in the GX demo</a>
  <DD><a href="#note09-14">Note 9-14: (FX) Added FX_AtanIdx() and FX_Atan2Idx()</a>
  <DD><a href="#note09-15">Note 9-15: (FX) Added a matrix calculation API that does not send 
					the value to the geometry engine</a>
  <DD><a href="#note09-16">Note 9-16: (OS) Corrected the arena setting when NITRO_MEMSIZE is set to 8M</a>
  <DD><a href="#note09-17">Note 9-17: (OS) Improved thread-safety using functions related to 
					memory allocation, such as alloc and free</a>
  <DD><a href="#note09-18">Note 9-18: (OS) Added OS_JoinThread() and OS_IsThreadTerminated()</a>
  <DD><a href="#note09-19">Note 9-19: (OS) Corrected the DMA address check ASSERT</a>
  <DD><a href="#note09-20">Note 9-20: (OS) Changed the operation of OS_SetProtectionRegion()</a>
  <DD><a href="#note09-21">Note 9-21: (OS) Changed the function cost measurement profiler</a>
  <DD><a href="#note09-22">Note 9-22: (MI) Added functions to obtain the compression type and size of expanded data</a>
  <DD><a href="#note09-23">Note 9-23: (MI) Changed the names of the MI_GetCartridgeRomCycle* functions</a>
  <DD><a href="#note09-24">Note 9-24: (MI) Corrected ASSERT of MI_CpuCopyFast()</a>
  <DD><a href="#note09-25">Note 9-25: (MI) Changed the DMA parameter setting and stop processes</a>
  <DD><a href="#note09-26">Note 9-26: (CP) Changed how the Divider sets the divisor</a>
  <DD><a href="#note09-27">Note 9-27: (MIC) Extended the sampling types</a>
  <DD><a href="#note09-28">Note 9-28: (PRC) Added the pattern recognition API (test release)</a>
  <DD><a href="#note09-29">Note 9-29: (TP) Changed the precision of the data obtained from the touch panel</a>
  <DD><a href="#KnownIssues_2_0_PR1">Known Problems in SDK 2.0 PR1</a>
</DL>

<hr size=2 width="100%" align=center>

<DL>
  <DT><a href="#sdk_1_02_rc2">NITRO-SDK 1.2</a> (06/16/2004)
  <DD><a href="#note08-01">Note 8-01: (CP) Added the CP context switching process to the IRQ handler</a>
  <DD><a href="#note08-02">Note 8-02: (FX) Added and revised the constant definitions</a>
  <DD><a href="#note08-03">Note 8-03: (OS) Corrected the idle thread process</a>
  <DD><a href="#note08-04">Note 8-04: (SPI) Corrected the spiMonkey demonstration</a>
  <DD><a href="#note08-05">Note 8-05: (DevEnv) Corrected the problem reading makerom/makelcf variable values</a>
  <DD><a href="#KnownIssues_1_02_rc2">Known Problems in SDK 1.2</a>
</DL>

<hr size=2 width="100%" align=center>

<DL>
  <DT><a href="#sdk_1_02_rc1">NITRO-SDK 1.2 RC1</a> (06/10/2004)
  <DD><a href="#note07-01">Note 7-01: (GX) Changed the Main LCD/Sub LCD output destination switch flag</a>
  <DD><a href="#note07-02">Note 7-02: (MIC) Added the microphone API</a>
  <DD><a href="#note07-03">Note 7-03: (TP) Changed the maximum sampling rate</a>
  <DD><a href="#note07-04">Note 7-04: (TP) Corrected the problem of an interrupt being generated immediately after transmitting a touch panel command</a>
  <DD><a href="#note07-05">Note 7-05: (TP) Changed the auto sampling interface</a>
  <DD><a href="#note07-06">Note 7-06: (TP) Changed the TP_SetCallback() argument format</a>
  <DD><a href="#note07-07">Note 7-07: (FS) Corrected a problem in the size display after loading all in the async demo</a>
  <DD><a href="#note07-08">Note 7-08: (FS) Corrected a problem that prevented the overlay data cache from updating</a>
  <DD><a href="#note07-09">Note 7-09: (FS) Corrected a problem in the FS_SetDefaultDMA() function</a>
  <DD><a href="#note07-10">Note 7-10: (OS) Changed the IRQ handler specifications</a>
  <DD><a href="#note07-11">Note 7-11: (OS) Changed the default for the maximum thread count</a>
  <DD><a href="#note07-12">Note 7-12: (OS) Added OS_GetNumberOfThread()</a>
  <DD><a href="#note07-13">Note 7-13: (OS) Changed the arena configuration</a>
  <DD><a href="#note07-14">Note 7-14: (OS) Changed the protection region functions</a>
  <DD><a href="#note07-15">Note 7-15: (OS) Removed the Profile features from the OS library</a>
  <DD><a href="#note07-16">Note 7-16: (OS) Corrected the display of the call trace function</a>
  <DD><a href="#note07-17">Note 7-17: (OS) Added OS_GetConsoleType()</a>
  <DD><a href="#note07-18">Note 7-18: (OS) Changed how the debug functions, such as OS_Printf(), are handled in the FINALROM build</a>
  <DD><a href="#note07-19">Note 7-19: (OS) Changed TCM function names</a>
  <DD><a href="#note07-20">Note 7-20: (OS) Changed the OS demo structure</a>
  <DD><a href="#note07-21">Note 7-21: (GX) Corrected the GX demo</a>
  <DD><a href="#note07-22">Note 7-22: (GX) Eliminated restrictions on demos due to Ensata version upgrade</a>
  <DD><a href="#note07-23">Note 7-23: (GX) Changed the extended palette VRAM configuration name</a>
  <DD><a href="#note07-24">Note 7-24: (GX) Added support for multiple calls of GX_Init</a>
  <DD><a href="#note07-25">Note 7-25: (GX) Added GX_GetObj_* </a>
  <DD><a href="#note07-26">Note 7-26: (FX) Added the FX32_CONST() macro</a>
  <DD><a href="#note07-27">Note 7-27: (MI) Corrected MI_UncompressRL8() </a>
  <DD><a href="#note07-28">Note 7-28: (DevEnv) Added an explanation of makerom and makelcf</a>
  <DD><a href="#note07-29">Note 7-29: (DevEnv) Added a tool to rewrite data maintained in the main unit NVRAM</a>
  <DD><a href="#note07-30">Note 7-30: (DevEnv) Added the &ndash;g option during the build of the FINALROM version</a>
  <DD><a href="#note07-31">Note 7-31: (DevEnv) Corrected a bug that output a faulty error message with makerom</a>
  <DD><a href="#KnownIssues_1_02_rc1">Known Problems in SDK 1.2 RC1</a>
</DL>

<hr size=2 width="100%" align=center>

<DL>
  <DT><a href="#sdk_1_02_pr1">NITRO-SDK 1.2 PR1</a> (05/24/2004) 
  <DD><a href="#note6-01">Note 6-01: (DevEnv) Added support for CodeWarrior NITRO V0.5</a>
  <DD><a href="#note6-02">Note 6-02: (DevEnv) Changed the ROM binary creation tool from elftobin to makerom</a>
  <DD><a href="#note6-03">Note 6-03: (DevEnv) Added lcf ALIGN(32)</a>
  <DD><a href="#note6-04">Note 6-04: (DevEnv) Added support for addition procedures for files dependent on execution binary generation rules</a>
  <DD><a href="#note6-05">Note 6-05: (DevEnv) Added support for header include from compilers other than CodeWarrior</a>
  <DD><a href="#note6-06">Note 6-06: (DevEnv) Terminated IDE demo sample distribution</a>
  <DD><a href="#note6-07">Note 6-07: (ARM7) Added the ferret integrated component</a>
  <DD><a href="#note6-08">Note 6-08: (FS) Added the file system and overlay</a>
  <DD><a href="#note6-09">Note 6-09: (TP) Added touch panel functions</a>
  <DD><a href="#note6-10">Note 6-10: (CP) Added Divider and Square Root Unit interrupts and multi-threads</a>
  <DD><a href="#note6-11">Note 6-11: (GX) Added APIs for MtxFx22</a>
  <DD><a href="#note6-12">Note 6-12: (GX) Improved poor operation of command FIFO in the TEG board</a>
  <DD><a href="#note6-13">Note 6-13: (GX) Added GX_VRAM_ARM7_128_C to GX_SetBankForARM7()</a>
  <DD><a href="#note6-14">Note 6-14: (GX) Corrected problem when specifying GX_VRAM_BGEXTPLTT_01_F to the BG extended palette</a>
  <DD><a href="#note6-15">Note 6-15: (GX) Added a demo for procedure to synchronize to the Swapbuffer process on the geometry engine</a>
  <DD><a href="#note6-16">Note 6-16: (GX) Added transparent conversion matrix APIs to adjust scaleW</a>
  <DD><a href="#note6-17">Note 6-17: (GX) Changed the command FIFO reset process using the GX_Init function</a>
  <DD><a href="#note6-18">Note 6-18: (GX) Corrected a bug in fog mode control</a>
  <DD><a href="#note6-19">Note 6-19: (OS) Changed the thread system handling</a>
  <DD><a href="#note6-20">Note 6-20: (OS) Added OS_SPrintf()</a>
  <DD><a href="#note6-21">Note 6-21: (OS) Added TEG board memory byte access measures</a>
  <DD><a href="#note6-22">Note 6-22: (OS) Added  OS_WaitIrq(), OS_WaitAnyIrq(), and OS_WaitInterrupt()</a>
  <DD><a href="#note6-23">Note 6-23: (OS) Added ATTRIBUTE_ALIGN(x)</a>
  <DD><a href="#note6-24">Note 6-24: (OS) Extended the IDLE thread stack</a>
  <DD><a href="#note6-25">Note 6-25: (OS) Added OS_GetLockID() and OS_ReleaseLockID()</a>
  <DD><a href="#note6-26">Note 6-26: (OS) Added OS_SetSwitchThreadCallback()</a>
  <DD><a href="#note6-27">Note 6-27: (OS) Released Mutex with OS_ExitThread()</a>
  <DD><a href="#note6-28">Note 6-28: (OS) Changed the ARM7 component loop process</a>
  <DD><a href="#note6-29">Note 6-29: (OS) Corrected OS_SetProtectionRegion7() and OS_SetProtectionRegion7</a>
  <DD><a href="#note6-30">Note 6-30: (OS) Added the system clock definition</a>
  <DD><a href="#note6-31">Note 6-31: (OS) Changed OS_Panic() termination operation</a>
  <DD><a href="#note6-32">Note 6-32: (OS) Changed the OS demo structure</a>
  <DD><a href="#note6-33">Note 6-33: (OS) Changed the IRQ handler</a>
  <DD><a href="#note6-34">Note 6-34: (OS) Added the function call trace and function cost measurement mechanism</a>
  <DD><a href="#note6-35">Note 6-35: (OS) Added interrupt check flags for operations</a>
  <DD><a href="#note6-36">Note 6-36: (SND) Updated the sound library</a>
  <DD><a href="#KnownIssues_1_02_pr1">Known Problems in SDK 1.2 PR1</a>
</DL>

<hr size=2 width="100%" align=center>

<DL>
  <DT><a href="#_NITRO-SDK_Ver_1.0">NITRO-SDK 1.0</a> (04/05/2004)
  <DD><a href="#_Note_5-01">Note 5-01: Support for CodeWarrior NITRO V0.4</a>
  <DD><a href="#_Note_5-02">Note 5-02: Revised GX_HBlankOBJProc() / GXS_HBlankOBJProc()</a>
  <DD><a href="#_Note_5-03">Note 5-03: Revised G2_SetOBJAttr() / G2S_SetOBJAttr()</a>
  <DD><a href="#_Note_5-04">Note 5-04: Revised GX_DisableBankFor*()</a>
  <DD><a href="#_Note_5-05">Note 5-05: Revised NitroPostLinker.bat</a>
  <DD><a href="#_Note_5-06">Note 5-06: fs/file-1. Fixed Demo Link Bug</a>
  <DD><a href="#_Note_5-07">Note 5-07: Revised makerom (&szlig; version)</a>
  <DD><a href="#_Note_5-08">Note 5-08: Revised the lcf Template for makelcf (&szlig; version)</a>
  <DD><a href="#_NITRO-Known_Issues_in_SDK_Ver_1.0">Known Issues in NITRO-SDK Version 1.0</a>
</DL>

<hr size=2 width="100%" align=center>

<DL>
  <DT><a href="#sdk_1_00_rc1">NITRO-SDK 1.0</a> (03/30/2004) 
  <DD><a href="#_Note_4-01">Note 4-01: Fix of G3_Frustum() bug </a>
  <DD><a href="#_Note_4-02">Note 4-02: Fix of transfer error with GX_LoadTex() </a>
  <DD><a href="#note4-03">Note 4-03: Fix of GX_RegionCheck_Obj()</a>
  <DD><a href="#note4-04">Note 4-04: Fix of GX3_GetCommandFifoStatus()</a>
  <DD><a href="#note4-05">Note 4-05: Support for DTCM position change</a>
  <DD><a href="#note4-06">Note 4-06: Fix of codereset.h</a>
  <DD><a href="#note4-07">Note 4-07: Bug with exception vector set up</a>
  <DD><a href="#note4-08">Note 4-08: Addition of self-cancel in periodic alarm handle</a>
  <DD><a href="#note4-09">Note 4-09: Addition of OS_IsThreadAvailable()</a>
  <DD><a href="#note4-10">Note 4-10: Standardization of constant and address <span class=spelle>sustitution assembler display</a>
  <DD><a href="#note4-11">Note 4-11: Fix of G2_SetBG3ControlDCBump bug</a>
  <DD><a href="#note4-12">Note 4-12: Addition of decimal point definition</a>
  <DD><a href="#note4-13">Note 4-13: Standardization of macro FX_MUL32x64C and in-line function FX_Mul32x64c rounding up process</a>
  <DD><a href="#KnownIssues_1_00_rc1">Known Issues in SDK 1.0</a>
</DL>

<hr size=2 width="100%" align=center>

<DL>
  <DT><a href="#sdk_1_00_pr2">NITRO-SDK 1.0 PR2</a> (03/17/2004) 
  <DD><a href="#note3-01">Note 3-01: Addition of PXI Library</a>
  <DD><a href="#note3-02">Note 3-02: Addition of graphics samples</a>
  <DD><a href="#note3-03">Note 3-03: Addition of compression tool for MI file opening API</a>
  <DD><a href="#note3-04">Note 3-04: Addition of document about coexistence of NITRO-SDK and AGBSDK environments</a>
  <DD><a href="#note3-05">Note 3-05: Setup of OBJ and BG bank EFG</a>
  <DD><a href="#note3-06">Note 3-06: Fix of G3X_InitMtxStack problem</a>
  <DD><a href="#note3-07">Note 3-07: Addition of link to man geometry command cycle list</a>
  <DD><a href="#note3-08">Note 3-08: Creation of OS_Sleep()</a>
  <DD><a href="#note3-09">Note 3-09: Fix of thread switch bug</a>
  <DD><a href="#note3-10">Note 3-10: Creation of OS_ReadMessage()</a>
  <DD><a href="#note3-11">Note 3-11: Fix of IRQ check fragment</a>
  <DD><a href="#note3-12">Note 3-12: Fix of multiple V-count alarms</a>
  <DD><a href="#note3-13">Note 3-13: Fix of tick bug</a>
  <DD><a href="#note3-14">Note 3-14: Addition of time and tick conversion macro</a>
  <DD><a href="#note3-15">Note 3-15: Fix of bug with recovery from timer interrupt callback</a>
  <DD><a href="#note3-16">Note 3-16: Change to handling of FIQ in OS_DisableInterrupts(), etc.</a>
  <DD><a href="#note3-17">Note 3-17: Change of specifications for debugger exception handler call</a>
  <DD><a href="#note3-18">Note 3-18: Change to register name of ARM7</a>
  <DD><a href="#note3-19">Note 3-19: Fix of register table</a>
  <DD><a href="#note3-20">Note 3-20: Fix of manual</a>
  <DD><a href="#note3-21">Note 3-21: Fix of IRQ Table</a>
  <DD><a href="#KnownIssues_1_00_pr2">Known Issues with SDK 1.0 PR2</a>
</DL>

<hr size=2 width="100%" align=center>

<DL>
  <DT><a href="#_NITRO-SDK_Ver_1.0_PR1">NITRO-SDK Ver 1.0 PR1</a> (02/27/2004)
  <DD><a href="#note2-01">Note 2-01: Name Change to NITRO-SDK</a>
  <DD><a href="#note2-02">Note 2-02: Grouped Source According the Processors</a>
  <DD><a href="#note2-03">Note 2-03: Added an API and Demos to Support Sub LCD</a>
  <DD><a href="#note2-04">Note 2-04: Changed the ELF File Extension</a>
  <DD><a href="#note2-05">Note 2-05: Moved the Sample Code Directory, and Added Code for Auto Test</a>
  <DD><a href="#note2-06">Note 2-06: SDK Thumb Code Compile</a>
  <DD><a href="#note2-07">Note 2-07: Provided a Means of Switching ARM code / Thumb Code Generation at Function Level</a>
  <DD><a href="#note2-08">Note 2-08: Support for C++ in the SDK Library</a>
  <DD><a href="#note2-09">Note 2-09: Support for X, Y Buttons</a>
  <DD><a href="#note2-10">Note 2-10: Revisions Related to <CODE>make</CODE> Related Files</a>
  <DD><a href="#note2-11">Note 2-11: Revised Compound Statement Expressions in Macros.</a>
  <DD><a href="#note2-12">Note 2-12: Moved the Inline Assembler Functions That Were in Header Files to C source</a>
  <DD><a href="#note2-13">Note 2-13: Name Change: Macro CODEGEN_PROC to NITRO_PROC</a>
  <DD><a href="#note2-14">Note 2-14: Changed the ARM7 Binaries That Are Used for Linking in elftobin</a>
  <DD><a href="#note2-15">Note 2-15: Added a Mechanism for Setting IRQ Stack Size</a>
  <DD><a href="#note2-16">Note 2-16: Added a Mechanism to Display the Context at the Time That an Exception is Generated</a>
  <DD><a href="#note2-17">Note 2-17: Fixed a Bug That Occurred When a NULL Callback Was Set in MI_Dma*Async()</a>
  <DD><a href="#note2-18">Note 2-18: Added a Warning for DMA That Hits a TCM Region</a>
  <DD><a href="#note2-19">Note 2-19: Added a Process to Clear Memory at Start Time</a>
  <DD><a href="#note2-20">Note 2-20: Rounded Cache Related Function Argument Addresses</a>
  <DD><a href="#note2-21">Note 2-21: Added OS_CreateThread() Argument, Made Thread Priority Control More Flexible</a>
  <DD><a href="#note2-22">Note 2-22: Support for a Mechanism That Checks Thread Stack Leaks</a>
  <DD><a href="#note2-23">Note 2-23: Implemented Alarms and a 64-bit Clock Counter</a>
  <DD><a href="#note2-24">Note 2-24: Implemented a V-count Alarm</a>
  <DD><a href="#note2-25">Note 2-25: Added MI_DmaSend*(<span class=grame>), MI_CpuSend*()</a>
  <DD><a href="#note2-26">Note 2-26: Revised OS_StartTimer*() Assert Determination</a>
  <DD><a href="#note2-27">Note 2-27: Added CPU Memory Functions</a>
  <DD><a href="#note2-28">Note 2-28: Measures for a TEG Board Hardware Bug Related to Main Bus Access During the V-blank Period</a>
  <DD><a href="#note2-29">Note 2-29: Adjusted Light Parameters</a>
  <DD><a href="#note2-30">Note 2-30: Implemented Overflow Check for the Dynamic DL Creation Function Group</a>
  <DD><a href="#note2-31">Note 2-31: G3_Ortho() Bug Fix</a>
  <DD><a href="#note2-32">Note 2-32: G3_EndMakeDL() Did Not Return the Proper Size. Fixed</a>
  <DD><a href="#note2-33">Note 2-33: G2_Added an Argument to SetBG*<span class=grame>Control256x16Pltt()</a>
  <DD><a href="#note2-34">Note 2-34: Bug Fixes in G3CS_LoadTexMtxEnv(), G3CS_LoadTexMtxTexCoord()</a>
  <DD><a href="#note2-35">Note 2-35: API Support for the New Translucent Texture</a>
  <DD><a href="#note2-36">Note 2-36: Support for VecFx16 Type and Related API</a>
  <DD><a href="#note2-37">Note 2-37: Added a C Linkage Specification to the DEMO Library Header Files</a>
  <DD><a href="#KnownIssues_1_00">Known Issues in SDK 1.0</a>
</DL>

<hr size=2 width="100%" align=center>

<DL>
  <DT><a href="#20040120p1">January 20, 2004 irisSDK snapshot patch1</a> (02/04/2004)
  <DD><a href="#note1-01">Note 1-01: 3D related test code execution was slow. Fixed </a>
  <DD><a href="#note1-02">Note 1-02: VEC Mag overflow measures</a>
  <DD><a href="#note1-03">Note 1-03: Fixed MTX_Concat43()</a>
  <DD><a href="#note1-04">Note 1-04: Fixed definition of functions related to G2_SetBGxControl()</a>
  <DD><a href="#note1-05">Note 1-05: Fixed horizontal translation calculations for MTX_Inverse43()</a>
  <DD><a href="#note1-06">Note 1-06: Fixed definitions in GX_SetOBJVRamModeBmp()</a>
  <DD><a href="#note1-07">Note 1-07: Support of library for byte access </a>
  <DD><a href="#note1-08">Note 1-08: Fixed G2_SetBG3Priority() definitions</a>
  <DD><a href="#note1-09">Note 1-09: Fixed definition of macro GX_FX16PAIR</a>
  <DD><a href="#note1-10">Note 1-10: Support for IS_IRIS_EMULATOR in packaged library files</a>
  <DD><a href="#note1-11">Note 1-11: Additional file for ARM7 version: libstubsisd.a</a>
  <DD><a href="#note1-12">Note 1-12: Fixed definition of system reserved region sizw</a>
  <DD><a href="#note1-13">Note 1-13: Fixed G3_LightVector() setting command position in the GX sample program</a>
  <DD><a href="#note1-14">Note 1-14: Callback not called by MI_DmaCopy16Async(). Fixed</a>
  <DD><a href="#20040120p1_KnownIssues">Known issues in snapshot 20040120+Path1 </a>
</DL>

<p align=center style='text-align:center'>&nbsp;</p>


<!-- BEGINNING OF 1_0 NOTES -->



<HR>
<H2 style="line-height: 0"><A name="sdk_2_01" id="sdk_2_01">NITRO-SDK Version 2.1 Release</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2005/05/09)</P>
</DIV>


<H3><A name="note26-01" id="note26-01">Note 26-01: (CARD) Added validity testing for card access DMA channels</A></H3>
<P>We added DMA channel validity testing to the MI library in <a href="#note21-33">Note 21-33</a>, but in the CARD and FS libraries, the code that specifies channels is separated from the code that uses channels and the restrictions were not readily apparent. Accordingly, we added validity testing to the top of functions that request DMA channels in these libraries. We added a warning about this to the function reference.
</P>


<H3><A name="note26-02" id="note26-02">Note 26-02: (DevEnv) Added floating point library specification option</A></H3>
<P>We added a build switch that defines the floating point library (<code>CW_LIBFP</code>) and the ability to redefine it in the makefile. Also, the default library was changed from <code>FP_fullI_v5t_LE.a</code> to <code>FP_fastI_v5t_LE.a</code>.
</P>


<H3><A name="note26-03" id="note26-03">Note 26-03: (FS) Internal corrections in FINALROM version overlay function</A></H3>
<P>The FINALROM version overlay function called unnecessary debugging functions and expanded the code size during link. This was fixed.
</P>


<H3><A name="note26-04" id="note26-04">Note 26-04: (MB) Added sample demo</A></H3>
<P>We added a sample demo called multiboot-PowerSave that uses the <code>MB_SetPowerSaveMode</code> function to toggle the power save mode in the Single-Card Play parent.
</P>


<H3><A name="note26-05" id="note26-05">Note 26-05: (OS) Added extended language codes</A></H3>
<P>
We implemented a mechanism to add new language codes and added Chinese as an extended language code. We are currently drafting guidelines for the creation of applications that support Chinese.</P>


<H3><A name="note26-06" id="note26-06">Note 26-06: (SND) Added instrument release invalidation function</A></H3>
<P>
A feature was added so that the instrument will ignore the specified note length and continue to play to the end of the waveform data if <code>SND_BANK_DISABLE_RELEASE</code> <code>(=255)</code> is specified for the release field of the <code>SNDInstData</code> structure.


<H3><A name="note26-07" id="note26-07">Note 26-07: (WBT) Corrected sample demo.</A></H3>
<P>
The following revisions were made to the <code>$NitroSDK/build/demos/wireless_shared/wfs</code> sample module and the <code>$NitroSDK/build/demos/wbt/wbt-fs</code> sample demo:

<ul>
<li>
There was a problem where the program would stop when the <code>WFS_End</code> function was called from an interrupt handle. This was fixed. We added a note in the header file of the WFS sample module indicating that it cannot be called from an interrupt handler.
<li>
When <code>WFS_End</code> function was called after the WM library has ended, the port callback failed to release internally and execution stopped with an error, as made in the specifications. However, we changed the specification to simply ignore this section.
<li>
Check code is added so that, since the WFS sample module requires the thread system, the message is output and stops with a compile error if <code>SDK_NO_THREAD</code> is defined during the build.</P>
</ul>


<H3><A name="note26-08" id="note26-08">Note 26-08: (WM) Corrected sample demo.</A></H3>
<P>
With the samples that did not call the WcFinish function even though the WcInit function of the WC sample module could be called more than once, the correction was made so that these two functions are called properly. We revised the following demos so that the two functions are properly paired:
<ul>
<li>$NitroSDK/build/demos/wbt/wbt-fs
<li>$NitroSDK/build/demos/wvr/switchover
</ul>


<H3><A name="KnownIssues_2_01" id="KnownIssues_2_01">Known issues in SDK 2.1 release version</A></H3>
<P>There were none.</P>

<HR>
<H2 style="line-height: 0"><A name="sdk_2_01_rc" id="sdk_2_01_rc">NITRO-SDK Version 2.1 RC</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2005/04/21)</P>
</DIV>


<H3><A name="note25-01" id="note25-01">Note 25-01: (CARD) Added note about threads created with CARD Init</A></H3>
<P>The reference for the <code>CARD_Init</code> function did not mention the threads for asynchronous processing that are generated internally. We added a description.
</P>


<H3><A name="note25-02" id="note25-02">Note 25-02: (CTRDG) Added function to detect removal of cartridge device</A></H3>
<P>We added the functions <code>CTRDG_IsAgbCartridgePulledOut</code> and <code>CTRDG_IsOptionCartridgePulledOut</code>, which are used to detect the removal of the cartridge device. In <a href="changelog-oldver.html#note18-20">Note 18-20</a> for changes in NITRO-SDK 2.0 RC, descriptions were added to the reference but there were no implementations of the functions corresponding to the additions.
</P>


<H3><A name="note25-03" id="note25-03">Note 25-03: (CTRDG) Added reference description for cartridge bus lock and removal detection</A></H3>
<P>Clearly stated in each function reference that <code>CTRDG_IsExisting</code> function must be called periodically because the ARM7 will not automatically detect removal while the cartridge bus is locked.
</P>


<H3><A name="note25-04" id="note25-04">Note 25-04: (CTRDG) Corrected reference about cartridge state</A></H3>
<P>The additional text in the reference for <a href="#note23-01">Note 23-01</a>, which was released in NITRO-SDK 2.0 official release, was incorrect in saying that the manufacturer's code and game code are only obtained during initialization. The text was corrected.
</P>


<H3><A name="note25-05" id="note25-05">Note 25-05: (DevEnv) Changed memory map (Changed DTCM addresses)</A></H3>
<P>We revised the memory map and expanded the MainRAM area that is allocated to ARM9 by default. Previously the area allocated to DTCM started at 0x27C0000, but it now starts at 0x27E0000. Also, the MainRAM area allocated to ARM9 was expanded from 0x2000000&ndash;0x23BFFFF to 0x2000000&ndash;0x23DFFFF. (This increases its size by 128 KB.) The MainRAM  area allocated to ARM7 is now  0x27E0000&ndash;0x27FEFFF. When the main memory size was 4 MB, under the default protection region setting, the ARM7 program area from 0x23E0000&ndash;0x23FFFFF was enabled for reading and writing from the ARM9. We changed the position of protection unit 2 and the area is now protected. When the main memory size is 8 MB, the start address of the extended arena in main memory is now 0x23E0000 rather than 0x2400000. The size was expanded to 128 KB.
</P>


<H3><A name="note25-06" id="note25-06">Note 25-06: (FS) Improved validity checking for interrupts</A></H3>
<P>We added validity testing code to the FS library functions that cannot be called from inside interrupt handlers.
</P>


<H3><A name="note25-07" id="note25-07">Note 25-07: (GX) Corrected G3 FrustumW function</A></H3>
<P>In the function <code>G3_FrustumW</code>, the value of element <code>_23</code> of the matrix that stores the result was wrong. This problem was fixed.
</P>


<H3><A name="note25-08" id="note25-08">Note 25-08: (MATH) Added quicksort function</A></H3>
<P>A non-recursive quicksort function was added under the <code>MATH</code> category as <code>MATH_QSort</code>.
</P>


<H3><A name="note25-09" id="note25-09">Note 25-09: (MATH) Added checksum, CRC calculation functions</A></H3>
<P>We added functions that perform data checksum and CRC calculations. We also added references and demos for these functions.
</P>


<H3><A name="note25-10" id="note25-10">Note 25-10: (MIC) Corrected mic-2 sample demo</A></H3>
<P>We made the following changes to the <CODE>demos/os/favorite-color</CODE> demo. 
<ul>
<li>The cache was not invalidated when the sampling data was referenced in <code>demos/spi/mic-2</code>. This problem was corrected.
</ul>
</P>


<H3><A name="note25-11" id="note25-11">Note 25-11: (MB) Added option to automatically generate TGID in MB Init</A></H3>
<P>Added an option to automatically generate TGID passed as an argument to the <code>MB_Init</code> function by specifying the newly defined constant <code>MB_TGID_AUTO</code>. As a result, the <code>tgid</code> argument was expanded from a <code>u16</code> to a <code>u32</code>, but all other specifications are unchanged.
</P>


<H3><A name="note25-12" id="note25-12">Note 25-12: (MB) Added functions to set wireless drive parameters</A></H3>
<P>The following functions were added to allow the explicit external setting of parameters in the WM library that are used internally in the MB library.
<ul>
<li>MB_SetLifeTime
<li>MB_SetPowerSaveMode
</ul>
</P>


<H3><A name="note25-13" id="note25-13">Note 25-13: (MB) Corrected MBP sample demo.</A></H3>
<P>We made the following correction to the source code of the samples in the <code>$NitroSDK/build/demos/wireless_shared/mbp</code> directory: 
<ul>
<li>If the functions <code>MBP_GetChildMacAddress</code> and <code>MBP_GetChildInfo</code> were called for the AID of an unconnected child, a NULL was not returned. This problem was fixed.
</ul>
</P>


<H3><A name="note25-14" id="note25-14">Note 25-14: (OS) Corrected stack check processing for launcher thread</A></H3>
<P>The insertion position of the stack underflow detection code for launch threads initialized with <code>OS_InitThread</code> was 64 bytes lower than the bottom of the stack memory. This problem was fixed.
</P>


<H3><A name="note25-15" id="note25-15">Note 25-15: (OS) Corrected internal operation of OS_Sleep</A></H3>
<P>In the internal implementation of <code>OS_Sleep</code> function, the period from the setting of the alarm until thread-wait was not thread-safe. This problem was fixed.
</P>


<H3><A name="note25-16" id="note25-16">Note 25-16: (OS) Corrected internal operation of cache flash function</A></H3>
<P>As a result of internal implementation changes we made, which are described in <A href="changelog-oldver.html#note24-10">Note 24-10</a>, the operation of the <code>DC_FlushAll</code> function was no longer thread-safe. We corrected this. We also explained in the reference that the processing time of cache operation functions that use an area argument is proportional to the size of the area.
</P>


<H3><A name="note25-17" id="note25-17">Note 25-17: (OS) Corrected sample demo.</A></H3>
<P>In some of the sample demos in the OS library, interrupts were disabled while the tick system was used. This was fixed so that the <code>OS_EnableIrq</code> function is called properly.
</P>


<H3><A name="note25-18" id="note25-18">Note 25-18: (OS) Corrected references for format string functions</A></H3>
<P>The references for the following format string functions erroneously said that they do not perform output operations with the final ROM library:
<ul>
<li>OS_SPrintf
<li>OS_VSPrintf
<li>OS_SNPrintf
<li>OS_VSNPrintf
</ul>
</P>


<H3><A name="note25-19" id="note25-19">Note 25-19: (OS) Language codes temporary correspondence</A></H3>
<P>We added provisional support for extended language codes. We changed some of the tools, but there was no impact on the current applications. We plan to officially support the extended language codes in the next release.
</P>



<H3><A name="note25-20" id="note25-20">Note 25-20: (SND) Unified distributions of sound library</A></H3>
<P>
Previously, NITRO-SDK contained only the sound library files while NITRO-System  contained the sound library files, documentation, and demos. Starting with this release, everything will be included in NITRO-SDK. We have released the source files for the sound library in the <code>$NitroSDK/build/libraries/snd</code> directory and added sound library sample demos to the <code>$NitroSDK/build/demos/snd directory</code>. We also added function references for the sound library.
</P>


<H3><A name="note25-21" id="note25-21">Note 25-21: (SND) Added SND_PrepareSeq and SND_StartPreparedSeq functions</A></H3>
<P>
If sequence parameters are changed immediately after calling <code>SND_StartSeq</code> function, there was a possibility that starting the sequence and updating parameters may not be processed in the same frame. To fix this, we added the functions <code>SND_PrepareSeq</code> and <code>SND_StartPreparedSeq</code>. Parameter changes made between <code>SND_PrepareSeq</code> and <code>SND_StartPreparedSeq</code> are guaranteed to be processed at the time the sequence starts.
</P>


<H3><A name="note25-22" id="note25-22">Note 25-22:(WM) Changed internal operation</A></H3>
<P>We improved the process to disconnect used by the wireless library when a parent detects a problem with a child. Also, we changed the library's internal operation so that if a parent fails to disconnect from a child by using <code>WM_Disconnect</code> function, it will attempt to disconnect a prescribed number of times.
</P>


<H3><A name="note25-23" id="note25-23">Note 25-23: (WM) Added function to automatically generate TGID</A></H3>
<P>We added the function <code>WM_GetNextTgid</code>, which automatically generates TGIDs based on the RTC time settings.
</P>


<H3><A name="KnownIssues_2_01_rc" id="KnownIssues_2_01_rc">Known issues in SDK 2.1 RC</A></H3>
<P>
<ul>
<li>As described in <a href="#note25-18">Note 25-18</a>, the current version provisionally supports the extended language codes.
<li>We have confirmed that if the Thumb version of the ichneumon component is used, the program will not function. We are working to remedy this problem.
</ul>
</P>

<HR>
<H2 style="line-height: 0"><A name="sdk_2_01_pr" id="sdk_2_01_pr">NITRO-SDK Version 2.1 PR</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2005/04/07)</P>
</DIV>


<H3><A name="note24-01" id="note24-01">Note 24-01: (CARD) CARDRomHeader structure added</A></H3>
<P>Added the <code>CARDRomHeader</code> structure that represents the information in the ROM registration data to the CARD library.
</P>


<H3><A name="note24-02" id="note24-02">Note 24-02: (CARD) Internal check added to CARD_IdentifyBackup</A></H3>
<P>We added process that test-reads 1 byte in <code>CARD_IdentifyBackup</code> function. The result value of this test-read can be obtained by using <code>CARD_GetResultCode</code> function. In tandem with this change, the return value type was changed to <code>BOOL</code>. When calling the function, the access bus must be locked using <code>CARD_LockBackup</code> function.
</P>


<H3><A name="note24-03" id="note24-03">Note 24-03: (CARD) Added demo that explicitly specifies the ROM type</A></H3>
<P>In tandem with support for the one-time ROM build option (explained in <a href="#note24-04">Note 24-04</a>), we have added demos that specify mask ROM and one-time ROM. They are <code>card/card-mrom</code> and <code>card/card-1trom</code>.
</P>


<H3><A name="note24-04" id="note24-04">Note 24-04: (DevEnv) Support for one-time ROM build option</A></H3>
<P>In addition to mask ROM, one-time ROM is now supported as a build option for program ROM. <code>RomSpeedType</code> was added to the section parameters in the <code>makerom.exe</code> tool so that <code>MROM</code>, <code>1TROM</code> or <code>UNDEFINED</code> can be specified. Also, we added a <code>NITRO_ROMSPEED</code> build switch to the NITRO-SDK make environment so that <code>RomSpeedType</code> can be specified during building. If you don't specify anything, it is set to <code>UNDEFINED</code>. For details, see the demo in <a href="#note24-03">Note 24-03</a>. <br>
</P>


<H3><A name="note24-05" id="note24-05">Note 24-05: (DevEnv) SDK version format changes</A></H3>
<P>Deleted the definition of the <code>SDK_VERSION_PATCH </code>constant that was always 0 for the SDK version information defined in <code>version.h</code> header file. In tandem with this change, the 4-byte version information value format contained in the program's resident code was changed. Deleted 4 bits in the <code>SDK_VERSION_PATCH</code> field, and expanded the <code>SDK_VERSION_MINOR</code> field to 8 bits. It has been expanded in the lower bit direction. The <code>showversion</code> tool was changed to reflect these changes. Please note the changes if you develop tools or other applications that read the SDK  version information.
</P>


<H3><A name="note24-06" id="note24-06">Note 24-07: (GX) Corrected G3_GetDLSize function bug</A></H3>
<P>The <code>G3_GetDLSize</code> function sometimes returned a value that was 4 bytes larger than the actual display list size. This problem was fixed.
</P>


<H3><A name="note24-07" id="note24-07">Note 24-07: (MATH) Added function to calculate message digest values</A></H3>
<P>We added to the MATH category a message digest value calculation function that uses the standard message digest algorithms MD5 and SHA-1. Also, we added calculation functions that use the HMAC-MD5 and HMAC-SHA-1 keyed-hashing algorithms.
</P>


<H3><A name="note24-08" id="note24-08">Note 24-08: (MB) Added MB_GetGameEntryBitmap function</A></H3>
<P>We added the <code>MB_GetGameEntryBitmap</code> function, which gets the AID bitmap of the entered children in the game information being distributed.
</P>


<H3><A name="note24-09" id="note24-09">Note 24-09: (OS) Corrected card lock internal processing in OS_ResetSystem</A></H3>
<P>When a thread that locked the card bus and a lower priority thread called <code>OS_ResetSystem</code> function were running, reset internal process became deadlocked. This problem was corrected.
</P>


<H3><A name="note24-10" id="note24-10">Note 24-10: (OS) Corrected internal implimentation of Cache Flash</A></H3>
<P>We confirmed that when the cache line management state is valid and dirty, in rare instances, the CPU flush instruction failed to operate. The internal implementation of <code>DC_FlushRange</code> and <code>DC_FlushAll</code> functions, which provide this functionality in the SDK was changed so that it is achieved by a combination of the CPU's store and invalidating instructions. The function specifications have not changed.
</P>


<H3><A name="note24-11" id="note24-11">Note 24-11: (OS) Corrected sample demo.</A></H3>
<P>Made the following changes to the <code>demos/os/favorite-color</code> sample.
<UL>
<LI>Polygon rendering was not performed correctly in the ensata environment. We fixed this problem.
</UL>
</P>


<H3><A name="note24-12" id="note24-12">Note 24-12: (RTC) Fixed bug in date-writing function</A></H3>
<P>The functions <code>RTC_SetDate</code> and <code>RTC_SetDateAsync</code>, which change only the date, did not work correctly and did not change the date. This problem was fixed.
</P>


<H3><A name="note24-13" id="note24-13">Note 24-13: (Snd) Added function to get sound driver information</A></H3>
<P>We added functions that obtain sound driver data. The functions are shown below.
<UL>
<LI>SND_ReadDriverInfo
<LI>SND_ReadChannelInfo
<LI>SND_ReadPlayerInfo
<LI>SND_ReadTrackInfo
</UL>
</P>


<H3><A name="note24-14" id="note24-14">Note 24-14: (Snd) Added SND_COMMAND IMMEDIATE as a flag for SND_FlushCommand</A></H3>
<P><code>SND_COMMAND_IMMEDIATE</code> can be specified as an additional argument flag of the <code>SND_FlushCommand</code> function. When <code>SND_COMMAND_IMMEDIATE</code> is specified, issued commands will be processed without waiting for the next sound frame.
</P>


<H3><A name="note24-15" id="note24-15">Note 24-15: (Snd) Added SND_INST_NULL to SNDInstType</A></H3>
<P><code>SND_INST_NULL</code> was added as a value that can be taken for the type member of the <code>SNDInstData</code> structure that is used by the <code>SND_ReadInstData</code> function. Instrument data set to <code>SND_INST_NULL</code> will not make any sound.
</P>


<H3><A name="note24-16" id="note24-16">Note 24-16: (WM) Updated &quot;Description of wireless communication library&quot;</A></H3>
<P>Added the description about CLASS1, which is an internal state for &quot;Description of wireless communication library&quot; (<code>AboutWirelessManager.pdf</code>).
</P>


<H3><A name="note24-17" id="note24-17">Note 24-17: (WM) Fixed bug related to disconnection timing</A></H3>
<P>As a result of revisions in NITRO-SDK 2.0 RC5, if a child connected and disconnected before <code>WM_StartMP</code> function was called, the parent's ARM7 performs an invalid process. Although this problem was fixed in NITRO-SDK 2.0, it was not completely fixed. This is now completely fixed.
</P>


<H3><A name="note24-18" id="note24-18">Note 24-18: (WM) Fixed bug in WM_StartScanEx</A></H3>
<P>There was a problem where the <code>APIID</code> in the argument passed to the callback function specified by <code>WM_StartScanEx</code> function could not be differentiated from APIID of the <code>WM_StartScan</code> function because these two were the same. (As a result, the two APIs could not be used properly.) This problem is fixed.
</P>


<H3><A name="note24-19" id="note24-19">Note 24-19: (WM) Fixed bug related to disconnection processing</A></H3>
<P>Some bugs were found in NITRO-SDK 2.0 official release. If the machine being disconnected was unable to communicate, the disconnection would fail and the internal state of the wireless library would become inconsistent. Related to this, when a break was executed from the debugger during communications, other communicating parties  did not receive a message indicating normal disconnection due to a timeout. We fixed these bugs.
</P>


<H3><A name="note24-20" id="note24-20">Note 24-20: (WM) Added demo that uses WEP Key with DS wireless play</A></H3>
<P>With DS wireless play, WEP Key encryption can be used only when communicating over a connection. Added a demo that does this: <code>wm/wep-1</code>.
</P>


<H3><A name="KnownIssues_2_01_pr" id="KnownIssues_2_01_pr">Known issues in SDK 2.1 PR</A></H3>
<P>There were none.</P>

<HR>
<H2 style="line-height: 0"><A name="sdk_2_00" id="sdk_2_00">NITRO-SDK Version 2.0 Release</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2005/03/11)</P>
</DIV>


<H3><A name="note23-01" id="note23-01">Note 23-01: (CTRDG) Added information to references for AGB Game Pak state functions</A></H3>
<P>Clearly stated in the function references that the return value of <code>CTRDG_GetAgbMakerCode</code> and <code>CTRDG_GetAgbGameCode</code> functions is the value obtained when <code>CTRDG_Init</code> function is called. Also added that when using a Game Pak in development hardware, the Game Pak slot power must be set to ON before calling <code>CTRDG_Init</code> function.
</P>


<H3><A name="note23-02" id="note23-02">Note 23-02:(DevEnv) Standardized the source code forms</A></H3>
<P>The code style has been unified regarding indents and carriage returns in the library and demos.
</P>


<H3><A name="note23-03" id="note23-03">Note 23-03: (DevEnv) Added reference for compiled DS programs</A></H3>
<P>References for the DS programs included in <code>$NitroSDK/bin</code> are added to <code>$NitroSDK/man_en_US/romfiles</code> under the category [Built DS programs].
</P>


<H3><A name="note23-04" id="note23-04">Note 23-04: (DevEnv) Clarified argument ranges in the function reference</A></H3>
<P>Where necessary, the function reference now has descriptions of ranges of values that can be passed as arguments.
</P>


<H3><A name="note23-05" id="note23-05">Note 23-05: (DevEnv) Defined the macro SDK_WEAK_SYMBOL for the declaration of weak symbols</A></H3>
<P>The macro <code>SDK_WEAK_SYMBOL</code> is defined as a modifier for the declaration of weak symbols. In CodeWarrior, it is defined as: #define SDK_WEAK_SYMBOL __declspec(weak)
</P>


<H3><A name="note23-06" id="note23-06">Note 23-06: (FS) Fixed bug that occurred during loading of compressed overlay</A></H3>
<P>Due to the correction made in RC5, there was a problem where the process did not complete properly because of the internal determination error when the function that loads overlays was called in an application built by specifying <code>NITRO_COMPRESS</code>. This has been fixed.
</P>


<H3><A name="note23-07" id="note23-07">Note 23-07: (MI) Added an alignment option for data compression</A></H3>
<P>Added the option <code>-A4</code> that adjusts the ending with 0s to make the output file size to be multiples of 4 when compressing data with <code>ntrcomp</code>. 
</P>


<H3><A name="note23-08" id="note23-08">Note 23-08: (PRC) ASSERT statements in functions were modified</A></H3>
<P>In the function <code>PRC_GetRecognizedEntriesEx_Superfine</code>, the conditions to determine validity for <code>SDK_ASSERT</code>  were too strict. These were modified to be appropriate.</P>


<H3><A name="note23-09" id="note23-09">Note 23-09: (PRC) Return value types changed</A></H3>
<P>The return values of the following function groups were changed from <code>void</code> to <code>BOOL</code>, so that they  indicate whether it succeeded or failed .
<UL>
<LI><code>PRC_InitPrototypeDB*</code>
<LI><code>PRC_InitInputPattern*</code>
<LI><code>PRC_ResampleStrokes_*</code>
</UL>
</P>


<H3><A name="note23-10" id="note23-10">Note 23-10: (WM) Fixed bug related to disconnection timing</A></H3>
<P>Due to the correction made in RC5, there was a problem where the parent's ARM7 performed invalid process if a child connected or disconnected before <code>WM_StartMP</code> function was called. This problem is fixed. This problem does not usually occur in applications that call <code>WM_StartMP</code> function immediately after <code>WM_StartParent</code> function succeeds.
</P>


<H3><A name="note23-11" id="note23-11">Note 23-11: (WM) Fixed bug that occurred when minPollBmpMode was used in WM_StartMPEx</A></H3>
<P>Due to changes made in RC5, there was a problem where send was not performed properly if <code>minPollBmpMode</code> in the <code>WM_StartMPEx</code> function was set to TRUE. This problem was fixed.</P>


<H3><A name="note23-12" id="note23-12">Note 23-12: (WM) Communications content is no longer erased</A></H3>
<P>Under certain signal conditions, although this occurred rarely, communication content was erased. This problem was fixed.
</P>


<H3><A name="note23-13" id="note23-13">Note 23-13: (WM) Send queue for port communications was reduced</A></H3>
<P>Previously, the send queue for port communications had 64 levels. This was changed to 32 levels in order to reduce memory usage by the wireless communications library. For one pair of Data Sharing, the send queue is at most two levels.
</P>


<H3><A name="note23-14" id="note23-14">Note 23-14: (WM) Changed WMPortSendCallback structure</A></H3>
<P>The structure passed to the callback for <code>WM_SetMPData*</code> functions has been changed. Previously, <code>destBitmap</code> was specified, but for AID of the disconnected DS system, the bit value that corresponded to the <code>restBitmap</code> field was indeterminate. This has been changed so that it is always 0. In addition, a <code>sentBitmap</code> field that stores an AID bitmap of a partner capable of sending was newly added. To determine if any DS systems did not receive the transmission because they were not connected or disconnected, compare the <code>destBitmap</code> field with the <code>sentBitmap</code> field.</P>


<H3><A name="note23-15" id="note23-15">Note 23-15: (WM) Revisions and improvements to status check</A></H3>
<P>The status check for the ARM7 wireless communications drivers have been improved. As a result, the callback for the following functions can return the <code>WM_ERRCODE_ILLEGAL_STATE</code> error.
<UL>
<LI>WM_MeasureChannel
<LI>WM_StartParent
<LI>WM_StartScan
<LI>WM_StartConnect
<LI>WM_EndMP
<LI>WM_EndParent
</UL>
Also, corrected range checking for <code>wepkeyid</code> in <code>WM_SetWEPKeyEx</code> function.
</P>


<H3><A name="note23-16" id="note23-16">Note 23-16: (WM) Revised return value for WM_EndKeySharing</A></H3>
<P>Previously, <code>WM_EndKeySharing</code> function always returned an error. This was fixed.</P>


<H3><A name="note23-17" id="note23-17">Note 23-17: (WM) Corrected WH sample demo.</A></H3>
<P>We made the following revisions to the sample source code in <code>$NitroSDK/build/demos/wireless_shared/wh</code>:
<UL>
<LI>Added processing to cause the initial TGID value to change at each startup as described in the guidelines.
<LI>Added ability to determine MB flag state for receive beacon.
<LI>Added function <CODE>WH_SetUserGameInfo</CODE>, which sets user game info for the parent's beacon.
</UL>
</P>


<H3><A name="KnownIssues_2_00" id="KnownIssues_2_00">Known issues in SDK 2.0 release version</A></H3>
<P>There were none.</P>




<HR>
<H2 style="line-height: 0"><A name="sdk_2_00_rc5" id="sdk_2_00_rc5">NITRO-SDK Version 2.0 RC5</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2005/02/25)</P>
</DIV>


<H3><A name="note22-01" id="note22-01">Note 22-01: (ARM7) Added and deleted components</A></H3>
<P>A new component, ichneumon, arranges the execution codes for wireless functionality in VRAM. For details, see <code>AboutComponents.pdf</code>, which was also added. The idle and ferret components, which were provided with NITRO-SDK through 2.0 RC4, are no longer supported.</P>



<H3><A name="note22-02" id="note22-02">Note 22-02: (CHT) Corrected sample demo.</A></H3>
<P>In the demo that demonstrates the use of the PictoChat functionality, there was a spelling error in the name of the function that enables/disables the PictoChat functionality in WC, which is the common wireless control module.</P>


<H3><A name="note22-03" id="note22-03">Note 22-03: (DevEnv) Revised source code to support pedantic warning options</A></H3>
<P>We revised the source code in the library and demos so that some pedantic warning options are supported. We improved the section that converted integer types that are the same size, but do not both have a symbol.
</P>


<H3><A name="note22-04" id="note22-04">Note 22-04: (FS) Added overlay-staticinit demo</A></H3>
<P>Added a new sample demo <code>overlay-staticinit</code>, which demonstrates the explicit addition of a static initializer in the C/C++ source.</P>


<H3><A name="note22-05" id="note22-05">Note 22-05: (FS) Corrected internal malfunction of archive suspended state</A></H3>
<P>Previously, when an archive was unloaded and then loaded, the internal state would partially change to suspended, and asynchronous commands that were issued repeatedly and held would not be executed. This bug was fixed.</P>


<H3><A name="note22-06" id="note22-06">Note 22-06: (FS) Corrected internal error detection in FS_LoadOverlayImage</A></H3>
<P>If the file that corresponds to the specified overlay was opened successfully during the internal process of the <code>FS_LoadOverlayImage</code> and <code>FS_LoadOverlayImageAsync</code> function, TRUE was always returned without reflecting the result of the next <code>FS_ReadFile</code> function. This has been changed to reflect the result.
</P>


<H3><A name="note22-07" id="note22-07">Note 22-07: (GX) Correction of type returned by GX_GetOBJVRamModeBmp</A></H3>
<P>The return value of <code>GX_GetOBJVRamModeBmp</code> function was changed from a <code>GXOBJVRamModeChar</code> type to a <code>GXOBJVRamModeBmp</code> type.</P>


<H3><A name="note22-08" id="note22-08">Note 22-08: (GX) Deleted invalid member in GXBg23ControlAffine structure</A></H3>
<P>The <code>GXBg23ControlAffine</code> structure contained the invalid member <code>colorMode</code>. Affine BG is fixed to 256 colors so this member is invalid. The <code>colorMode</code> definition was deleted from the <code>GXBg23ControlAffine</code> structure.</P>


<H3><A name="note22-09" id="note22-09">Note 22-09: (GX) Fixed bug in G2_GetBG3Control* and  G2S_GetBG3Control* functions</A></H3>
<P>When <code>G2_GetBG3Control*</code> and <code>G2S_GetBG3Control*</code> functions were called, access to incorrect addresses occurred. This problem was fixed.</P>



<H3><A name="note22-10" id="note22-10">Note 22-10: (GX) Added function group that tries to allocate VRAM</A></H3>
<P>The newly added WVR library (for details, see Note 22-40) and the ichneumon component (for details, see Note 22-01) allow you to use the ARM7 wireless library in VRAM. While the wireless library is being used, the VRAM bank cannot be used for anything else. The previously available <code>GX_SetBankFor*</code> function group was changed so that if a VRAM bank that has been locked by the WVR library is reallocated, <code>OS_Panic</code> is called and the operation stops. Also, the <code>GX_TrySetBankFor*</code> function group, which tries to allocate VRAM banks separately was newly added. Note that with these new additions, <code>OS_Init</code> function needs be called before calling <code>GX_Init</code> function.</P>


<H3><A name="note22-11" id="note22-11">Note 22-11: (MATH) Fixed problem with in-lining of MATH_CountLeadingZeros using code32.h</A></H3>
<P>The <code>MATH_CountLeadingZeros</code> function is replaced by an inline function using the ARM's <code>clz</code> instruction when outputting ARM code and a function equivalent to the <code>clz</code> instruction when outputting Thumb code. However, when the default code was set to Thumb code using <code>NITRO_CODEGEN=THUMB</code> and output code was switched using <code>#include &lt;nitro/code32.h&gt;</code>, the <code>MATH_CountLeadingZeros</code> function was not switched to an inline function. This bug was fixed.
</P>


<H3><A name="note22-12" id="note22-12">Note 22-12: (MB) Added interface for setting user data in the beacon of a DS download play parent.</A></H3>
<P>The following functions were added as interfaces that allow the user application to place data in the beacon transmitted by the DS download play parent. A fake multiboot child machine using <code>MB_FakeInit</code> can use this interface to receive specific accompanying information about the user from the parent before a connection is made. The presence or absence of this data will not affect the operation of a DS download child at IPL.</P>
<UL>
<LI>MB_SetSendVolatCallback
<LI>MB_SetUserVolatData
<LI>MB_GetUserVolatData
</UL>
<P>
</P>

<H3><A name="note22-13" id="note22-13">Note 22-13:(MI) Added Compression Function</A></H3>
<P>The following new functions can compress data in a DS application at runtime:</P>
<UL>
<LI>MI_CompressRL
<LI>MI_CompressLZ
<LI>MI_CompressHuffman
</UL>
<P>
</P>


<H3><A name="note22-14" id="note22-14">Note 22-14: (MI) Added function for setting the AGB Game Pak ROM access cycle</A></H3>
<P>The <code>MI_SetAgbCartridgeFastestRomCycle</code> function was added. This function sets the ROM access cycle for AGB Game Paks. It sets 8-4 access in the DS and is equivalent to 3-1 weight in the AGB.</P>


<H3><A name="note22-15" id="note22-15">Note 22-15: (MI) Resolved problem with multiplex DMA during startup</A></H3>
<P>&quot;Note 21-33: (MI) Dealt with multiple DMA bug,&quot; after using DMA0, a dummy empty DMA transfer is performed, but new processing performs a dummy empty DMA transfer also at <code>OS_Init</code> to handle the first DMA transfer that uses DMA0.</P>


<H3><A name="note22-16" id="note22-16">Note 22-16: (MIC) Automatic sampling engine was optimized</A></H3>
<P>The ARM7 processing of the microphone's automatic sampling engine is now optimized for the ARM7. This change fixed the problem with freezing that occurred when a sampling rate of 32 KHz was used in the mic-1 demo.</P>


<H3><A name="note22-17" id="note22-17">Note 22-17: (OS) Link to Interrupt Overview page added</A></H3>
<P>A link to the Interrupt Overview page was added to the OS Overview page. The Interrupt Overview page was added in NITRO-SDK2.0 RC4, but there was no link to it.</P>


<H3><A name="note22-18" id="note22-18">Note 22-18: (OS) Added functions to control thread scheduling</A></H3>
<P>Functions that pause and restart thread rescheduling were added to the OS library. They are <code>OS_DisableScheduler</code> and <code>OS_EnableScheduler</code>.</P>


<H3><A name="note22-19" id="note22-19">Note 22-19: (OS) Fixed problem with cache lockdown functions</A></H3>
<P>The functions <code>DC_LockdownRange</code> and <code>IC_LockdownRange</code>, which locked the cache to prevent its destruction, left some regions unlocked. This problem was fixed.</P>


<H3><A name="note22-20" id="note22-20">Note 22-20: (OS) Added functions to release locked cache</A></H3>
<P>The following functions were added. They release locked blocks in the cache and make it possible to update the cache again.</P>
<UL>
<LI>DC_UnlockdownAll
<LI>DC_Unlockdown
<LI>IC_UnlockdownAll
<LI>IC_Unlockdown
</UL>
<P>
</P>


<H3><A name="note22-21" id="note22-21">Note 22-21: (OS) Fixed cache problem with OS_ResetSystem</A></H3>
<P>Process was added so that the OS_ResetSystem function internally calls <code>DC_WaitWriteBufferEmpty</code> after calling <code>DC_FlushAll</code>. This is because the cache content remaining before reset could overwrite the program data loaded by <code>OS_ResetSystem</code>.</P>


<H3><A name="note22-22" id="note22-22">Note 22-22: (OS) Added OS_GetITCMAddress function</A></H3>
<P>Added the function <code>OS_GetITCMAddress</code>, which obtains the base address of instruction TCM. The return value of this function is always the constant 0x01FF8000.</P>



<H3><A name="note22-23" id="note22-23">Note 22-23:(PM) Changed the recovery process after transitioning from LCD OFF state to sleep mode.</A></H3>
<P>If sleep mode was entered from LCD Off mode, an error occurred with the graphics mode state, and the screen was not displayed in some cases, after the Nintendo DS was restored from Sleep mode. Now, the DS will return to LCD Off mode. This will have no effect on the restore process if the DS entered Sleep mode from Active mode.</P>


<H3><A name="note22-24" id="note22-24">Note 22-24: (SND) Changed distributions of sound library</A></H3>
<P>The sound library distributed with NITRO-SDK is now the 02/22/2005 version.</P>


<H3><A name="note22-25" id="note22-25">Note 22-25: (WM) Fixed packet duplication problem during sequential communications</A></H3>
<P>During sequential MP communications using ports 8 though 15, packets would be duplicated under certain conditions. This problem was fixed.</P>
<UL>
<LI>Sequential communication is in use.
<LI>More than one packet with the same port number is packed and sent in one MP transmission.
<LI>The transmission described in 2 reaches the destination but fails to return.
</UL>
<P>
When all of the above conditions were met, an identical packet was received in the next transmission as a new packet. This bug would appear as freezing and synchronization problems during DataSharing. If multiple packets are not packed into one payload, this problem will not occur. Accordingly, the problem will not occur if double mode is not used or if the max transmission size set with WM_SetParentParam only allows one DataSharing packet to be sent at a time.</P>


<H3><A name="note22-26" id="note22-26">Note 22-26: (WM) Clarification of restrictions during sequential communication using minPollBmpMode</A></H3>
<P>Added description of restrictions to reference for <code>WM_StartMPEx</code> function. If sequential communication is used when the <code>minPollBmpMode</code> argument is set to TRUE with this function, you should periodically send &quot;keep alive&quot; data to all the children over all the ports used for sequential communication so that children not receiving over 60 frames of data will still be considered alive.</P>


<H3><A name="note22-27" id="note22-27">Note 22-27: (WM) Fixed problem with restBitmap member in WM_PortSendCallback structure</A></H3>
<P>When <code>WM_SetMPDataToPort*</code> transmits unsuccessfully, the <code>WM_ERRCODE_SEND_FAILED</code> acknowledgement callback is passed a <code>restBitmap</code> that contains invalid members. This problem was fixed.</P>


<H3><A name="note22-28" id="note22-28">Note 22-28: (WM) Fixed problem with WM_Reset function</A></H3>
<P>If <code>WM_Reset</code> were called during wireless communication when the parent was connected to a child, in some cases, processing would not be completed for a long period (normally 4 seconds, but it can be changed using <code>WM_SetLifeTime</code>) depending on conditions. This problem was fixed.</P>


<H3><A name="note22-29" id="note22-29">Note 22-29: (WM) Fixed operation of WM_IsBssidEqual and WM_CopyBssid and added 16-bit version</A></H3>
<P><code>WM_IsBssidEqual</code> and <code>WM_CopyBssid</code> implicitly required arguments with addresses that were aligned to 16-bit boundaries, and thus they did not operate correctly with odd-numbered addresses. This bug was fixed. We also added the new functions <code>WM_IsBssidEqual16</code> and <code>WM_CopyBssid16</code>, which have the same functionality as the old versions.</P>


<H3><A name="note22-30" id="note22-30">Note 22-30: (WM) Added warning about order of WM asynchronous function  callbacks and intermediate acknowledgements</A></H3>
<P>With <code>WM_StartParent</code> and <code>WM_StartConnect</code>, the event acknowledgement following a successful connection is sometimes called before the callback indicating successful completion of asynchronous processing. A warning to this effect was added to the reference manual.</P>


<H3><A name="note22-31" id="note22-31">Note 22-31: (WM) Fixed problem with callback after resend</A></H3>
<P>When a resend occurred while data was being sent in a specific pattern, the data that was supposed to be sent would vanish and the callback indicating completion of transmission was not sent. This problem was fixed. This problem can occur when using broadcast communication and communication to certain children at the same time.</P>


<H3><A name="note22-32" id="note22-32">Note 22-32: (WM) Corrected WH sample demo bug.</A></H3>
<P>We made the following revisions to the sample source code in <code>$NitroSDK/build/demos/wireless_shared/wh</code>:</P>
<UL>
<LI><code>WH_SetReceiver</code> now uses <code>WM_ERRCODE_SUCCESS</code> to compare the return value when calling <code>WM_SetPortCallback</code>.
</UL>


<H3><A name="note22-33" id="note22-33">Note 22-33: (WM) Corrected WFS sample demo bug.</A></H3>
<P>We fixed the following problem with the demo source code in <code>$NitroSDK/build/demos/wireless_shared/wfs</code>.</P>
<UL>
<LI><code>WFS_InitParent</code> and <code>WFS_InitChild</code> would update the internal state before initialization processing was completed and this caused problems during MP communications callbacks. This problem was fixed. This problem does not occur when initializing WFS after the WM state is READY and before it is PARENT/CHILD.
<LI>If a child sent several ReadFile requests with differing parameters, the parent would stop responding to a random child in some cases. This problem was fixed.
</UL>


<H3><A name="note22-34" id="note22-34">Note 22-34:(WM) Added New Function</A></H3>
<P>The following APIs were added to provide processing under more precise settings.</P>
<UL>
<LI>WM_StartScanEx
<LI>WM_StartConnectEx
<LI>WM_SetWEPKeyEx
</UL>
When we added <code>WM_StartConnectEx</code>, we in-lined the existing <code>WM_StartConnect</code> function. When building with previous versions of NITRO-SDK, object files and library files that internally call <code>WM_StartConnect</code> will generate a &quot;function undefined&quot; error during linkage with the program. You must rebuild these files.

<H3><A name="note22-35" id="note22-35">Note 22-35: (WM) Improved internal operation during start of MP communications</A></H3>
<P>When starting MP communications with <code>WM_StartMP(Ex)</code>, in some cases, the midstream acknowledgement of MP communication was called before the callback of the function was called. This was fixed. We changed the internal operation so that MP-related midstream acknowledgements will not occur before the callback of <code>WM_StartMP(Ex)</code>. This change caused the operation of the ARM7 to stop in some rare instances if a child connected and disconnected repeatedly. This problem was fixed. Also, we found that if a child disconnected from the parent when <code>WM_StartMP(Ex)</code> was called but before the callback was called, the library would malfunction in some cases. This problem was fixed.</P>


<H3><A name="note22-36" id="note22-36">Note 22-36: (WM) Fixed problem with internal operation at parent startup</A></H3>
<P>In rare instances, a parent Nintendo DS using wireless communication would fail to send a beacon even after it successfully became a parent. This was fixed.</P>


<H3><A name="note22-37" id="note22-37">Note 22-37: (WM) Changed callback for WM_SetMPData* functions</A></H3>
<P>Previously, the proper <code>WM_SetMPData*</code> function was not sent a callback regarding the transmit data left in the transmit queue at the end of communication. Now a callback is always returned. As a result of this change, all asynchronous APIs for WM now return at least one callback.</P>


<H3><A name="note22-38" id="note22-38">Note 22-38: (WM) Corrected problem that occurred when parent near connection capacity connected with additional children</A></H3>
<P>We confirmed that problems with library operation could occur after a wireless parent nearing its connection capacity connected with additional children, causing it to exceed its connection capacity. This problem was fixed.
</P>


<H3><A name="note22-39" id="note22-39">Note 22-39: (WM) Official release of description document</A></H3>
<P>The description document for the wireless communication library was officially released as <code>docs/TechnicalNotes/AboutWirelessManager.pdf</code>.
</P>


<H3><A name="note22-40" id="note22-40">Note 22-40: (WVR) Wireless driver drive control library added</A></H3>
<P>With the addition of the ichneumon component (details are in Note 22-01), we also added the WVR library, which deploys the wireless executable code in VRAM, starts/stops it and removes it, when this component is in use.</P>



<H3><A name="KnownIssues_2_00_rc5" id="KnownIssues_2_00_rc5">Known Issues in SDK 2.0 RC5</A></H3>
<P>There were none.</P>


<HR>
<H2 style="line-height: 0"><A name="sdk_2_00_rc4" id="sdk_2_00_rc4">NITRO-SDK Version 2.0 RC4</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2005/01/14)</P>
</DIV>

<H3><A name="note21-01" id="note21-01">Note 21-01: (CHT) Added PictoChat-related libraries</A></H3>
<P>Created a CHT library to handle the PictoChat-related API group. The following functions are included in the CHT library:</P>
<UL>
<LI>CHT_IsPictochatParent
<LI>CHT_GetPictochatRoomNumber
<LI>CHT_GetPictochatClientNum
</UL>
<P>As of January 13, 2005, there is no description of how to use the PictoChat-related library in the DS Program Guidelines. If you are considering using this library, first contact NOA support.</P>

<H3><A name="note21-02" id="note21-02">Note 21-02: (MATH) Created MATH category</A></H3>
<P>
<code>MATH</code> was created as a category for mathematical functions. <code>MATH_ILog2</code> is included, in addition to functions <code>min</code> and <code>max</code>. <code>MATH_ILog2</code> calculates log2(x) in integer range at high speed on the ARM9.
</P>


<H3><A name="note21-03" id="note21-03">Note 21-03:(MATH) Added function for random numbers.</A></H3>
<P>
The following functions have been added as random number libraries with the linear congruential method.
</P>
<UL>
<LI>MATH_InitRand16
<LI>MATH_InitRand32
<LI>MATH_Rand16
<LI>MATH_Rand32
</UL>
<P>
Also, <code>$NitroSDK/build/demos/math/rand_lc</code> was added as a demo.
</P>


<H3><A name="note21-04" id="note21-04">Note 21-04: (MB) Fixed the bug in the pseudo Single-Card Play child device</A></H3>
<P>In the pseudo Single-Card Play child device library <code>MB_FakeChild</code>, there was a bug that cut communication with a FATAL error when an MP communication error, which can be retried, occurred. This bug was fixed.</P>


<H3><A name="note21-05" id="note21-05">Note 21-05: (MB) Fixed the bug in internal thread when MB library ends</A></H3>
<P>When set to use internal thread with <code>MB_ReadSegment</code> function call, the state management of internal threads did not occur correctly when ending library with the <code>MB_End</code> function, and operation after reinitialization was abnormal. This bug was fixed.</P>


<H3><A name="note21-06" id="note21-06">Note 21-06: (MB) Fixed internal operation when MB library ends</A></H3>
<P>
When terminating the MB library with the <code>MB_End</code> function or the <code>MB_EndToIdle</code> function, incorrect operation occurred after MB library termination due to its timing and to MB internal events that occur during the termination process. This bug was fixed.
</P>


<H3><A name="note21-07" id="note21-07">Note 21-07: (MB) Added a demo to pre-deliver as-needed data for entry child</A></H3>
<P>Added <code>MBP_USING_PREVIOUS_DOWNLOAD</code> switch in the following source used by the multiboot demo.</P>
<UL>
<LI>$NitroSDK/build/demos/wirelessShared/mbp
</UL>
<P>When this switch is ON, starts download of as-needed preceding data for entered child device. Using the sequence with this switch ON, it may be possible to keep to a minimum the download wait time, depending on the timing of child connection.</P>


<H3><A name="note21-08" id="note21-08">Note 21-08: (WM) Added a function to wireless library</A></H3>
<P>Added the function <code>WM_IsExistAllowedChannel</code> for confirming the presence or absence of a usable channel for wireless communication. This function does not depend on the internal state of the WM library, and only determines the existence of a permitted channel.</P>


<H3><A name="note21-09" id="note21-09">Note 21-09: (WM) Added stricter exclusive control to WM asynchronous function group</A></H3>
<P>For the WM asynchronous function group, operation is not guaranteed for calls of other functions during asynchronous processing. However, for the <code>WM_SetMPData( ToPort(Ex) )</code> function only, it is possible to reserve send data by consecutive calls. In this case, the actual data to send may break if you consecutively call over ten times. For this reason, we fixed it so that it performs stricter exclusion processing. As a result of the fix, the method was changed so that <code>WM_ERRCODE_FIFO_ERROR</code> is explicitly returned by <code>WM_SetMPData( ToPort(Ex) )</code> when performing a send requests where data is likely to break.</P>


<H3><A name="note21-10" id="note21-10">Note 21-10: (WM) Fixed power management setting of MP communication</A></H3>
<P>
In MP communication, the power save time of the child device was, on rare occasions, longer than normal. This bug was fixed.
</P>


<H3><A name="note21-11" id="note21-11">Note 21-11: (WM) Improved WFS sample</A></H3>
<P>
In the sample demo with FS using wireless, the internally-set receive callback function was not cleared when <code>WFS_End</code> is called, and the internal callback function was called unintentionally. This bug was fixed.
</P>


<H3><A name="note21-12" id="note21-12">Note 21-12: (WM) Fixed the demo that determines channel used by parent device</A></H3>
<P>
The demo was fixed so that it decides the channel using a random number when there are multiple channels using the same wave. This is in order to better distribute channels to use when the parent device decides the channel in the wireless demo.

This process is reflected in the following demos:
</P>

<UL>

<LI>$NitroSDK/build/demos/mb/mbm
<LI>$NitroSDK/build/demos/wireless_shared/wh
</UL>


<H3><A name="note21-13" id="note21-13">Note 21-13:(FS) Updated Feild System Document</A></H3>
<P>
Fully updated the content of the document <code>AboutFileSystem.rtf</code>, which describes the file system library, and added it as <code>AboutFileSystem.pdf</code>.
</P>


<H3><A name="note21-14" id="note21-14">Note 21-14: (GX) Added functions that read drawing register</A></H3>
<P>
Added Get functions that read drawing register. The functions are shown below.
</P>
<UL>
<LI>GX*_GetVisibleWnd
<LI>GX*_GetVisiblePlane
<LI>GX*_GetOBJVRamModeChar
<LI>GX*_GetOBJVRamModeBmp
<LI>GX*_GetMasterBrightness
<LI>GX*_GetDispCnt
<LI>G2*_GetWndOutsidePlane
<LI>G2*_GetWndOBJInsidePlane
<LI>G2*_GetWnd1InsidePlane
<LI>G2*_GetWnd0InsidePlane
<LI>G2*_GetOBJAffine
<LI>G2*_GetBG0Control
<LI>G2*_GetBG1Control
<LI>G2*_GetBG2ExtMode
<LI>G2*_GetBG2Control*
<LI>G2*_GetBG3Control*
</UL>

<H3><A name="note21-15" id="note21-15">Note 21-15: (GX) Eliminated the definition of VRAM expansion flag of bitmap OBJ for sub 2D engine</A></H3>
<P>
In the sub 2D engine, there was a bug where VRAM extension flag of a non-existent bitmap OBJ was defined as the define value. The following definitions were eliminated.
</P>
<UL>
<LI>REG_GXS_DB_DISPCNT_EXOBJ_BM_MASK
<LI>REG_GXS_DB_DISPCNT_EXOBJ_BM_SHIFT
</UL>
<P>
Also, the <code>GXS_SetOBJVRamModeBmp</code> function was fixed so that it checks, using <code>ASSERT</code>, arguments that use this flag.
</P>


<H3><A name="note21-16" id="note21-16">Note 21-16: (GX) Distinguished transfer method depending on data size</A></H3>
<P>Fixed so that, during data transfer with GX, data is copied by the CPU without using DMA when the data size is small. Transfer by synchronous process is normally processed on the CPU for transfers under 28 bytes for 16-bit copies, and under 48 bytes for 32-bit copies.</P>


<H3><A name="note21-17" id="note21-17">Note 21-17: (GX) Fixed ASSERT bug when using GX_SetBankForBGEx</A></H3>
<P>When performing VRAM bank settings using the <code>GX_SetBankForBGEx</code> function, the warning by <code>ASSERT</code> did not appear even when loading data in an incorrect address during the DEBUG build. This bug was fixed.</P>


<H3><A name="note21-18" id="note21-18">Note 21-18: (GX) Added the GX_ResetCapture function</A></H3>
<P>
The capture enable flag set with the <code>GX_SetCapture</code> function is usually automatically reset after completion of capture. However, the <code>GX_ResetCapture</code> function was also added as a separate cancellation function that can reset. However, be aware that you cannot abort a capture that is already in progress.
</P>


<H3><A name="note21-19" id="note21-19">Note 21-19:(CARD,CTRDG) Improved Forced Stop Processing</A></H3>
<P>In the force stop process performed when hot swap of DS Game Card or Game Pak is detected, the wave send sometimes didn't stop completely during wireless communication. Also, it was sometimes unclear whether the LED was illuminated. These bugs have been fixed.</P>


<H3><A name="note21-20" id="note21-20">Note 21-20: (CARD) Eliminated the CARD_ReadRomID function</A></H3>
<P>
The <code>CARD_ReadRomID</code> function has been eliminated because there is no purpose in using it from a user application.
</P>


<H3><A name="note21-21" id="note21-21">Note 21-21: (CARD) Added a function for setting the NITRO-CARD access permission state</A></H3>
<P>Added a function for getting and setting the access permission state in order to prevent child device programs started with wireless download from carelessly accessing the NITRO-CARD. When applications not started from the NITRO-CARD access the NITRO-CARD, you must call the <code>CARD_Enable</code> function after deciding according to the rules in the Programming Guidelines.</P>


<H3><A name="note21-22" id="note21-22">Note 21-22: (TP) Fixed the behavior of the TP_GetLatestRawPointInAuto function</A></H3>
<P>In the <code>TP_GetLatestRawPointInAuto</code> function, all values sampled in the interval of the previous one frame were treated as touch OFF when they were touch ON and INVALID. It was fixed so that in this situation also the validity value is set and returned as touch ON.</P>


<H3><A name="note21-23" id="note21-23">Note 21-23: (TP) Improved the countermeasures for noise the touch panel receives from the LCD</A></H3>
<P>
When performing touch panel sampling at a specific timing, there was a combination, depending on the hardware, where a lot of noise from the LCD was picked up. For this reason, we improved the countermeasures against noise during sampling.
</P>


<H3><A name="note21-24" id="note21-24">Note 21-24: (MIC) Added an API for adjusting the sampling rate during auto-sampling</A></H3>
<P>
Added the following APIs that dynamically change the sampling rate without stopping sampling while auto-sampling is running.
</P>
<UL>
<LI>MIC_AdjustAutoSampling
<LI>MIC_AdjustAutoSamplingAsync
</UL>
<P>Also, fixed part of the sample demo mic-1, and made the sample also use this API.</P>


<H3><A name="note21-25" id="note21-25">Note 21-25: (OS) Added an interrupt check flag for application (2nd notice)</A></H3>
<P>
The interrupt check flags OS_IE_USER_FLAG0 and OS_IE_USER_FLAG1 were only available on the ARM7. These flags were added in &quot;Note 6-35: (OS) Added interrupt check flags for applications&quot; (NITRO-SDK Version 1.2 PR1). These are now also available on the ARM9.
</P>


<H3><A name="note21-26" id="note21-26">Note 21-26: (OS) Added OS_DestroyThread function</A></H3>
<P>Added <code>OS_DestroyThread()</code>, which specifies and terminates a thread. (This function was originally prepared as an internal function.))
</P>
<P>Be careful when using this function, as it is a little risky to terminate another thread without notice.</P>


<H3><A name="note21-27" id="note21-27">Note 21-27: (OS) Eliminated OS demo interrupt-key-1, and modified WaitIrq-2</A></H3>
<P>
&quot;Note 13-18: (PAD) Eliminated PAD_SetIrq() and PAD_ClearIrq()&quot; (NITRO SDK 2.0 PR4 release), use of key interrupts was prohibited. Therefore, interrupt-key-1 (key interrupt demo) in the OS demo has been eliminated. Furthermore, <code>WaitIrq-2</code>, which used key interrupts, was changed so that it uses timer interrupts.
</P>


<H3><A name="note21-28" id="note21-28">Note 21-28: (OS) Added OS_EnableMainExArena() and OS_DisableMainExArena()</A></H3>
<P>
Up to now, in order to use extended main memory arena, it was necessary to make OS library with <code>NITRO_MEMSIZE=8M</code> specified. However, it is now possible to declare whether or not to use extended main memory arena by specifying <code>OS_EnableMainExArena()</code> and <code>OS_DisableMainExArena()</code> before <code>OS_Init()</code> (<code>OS_InitArena()</code> when not using <code>OS_Init()</code>).

However, extended main memory arena can never be used when operating in an environment (including actual equipment) with only 4 MB of main memory installed.
</P>


<H3><A name="note21-29" id="note21-29">Note 21-29: (OS) Fixed OS_DisableWriteBufferForProtectionRegion()</A></H3>
<P>
There were mistakes in the <code>OS_DisableWriteBufferForProtectionRegion()</code> function, and it behaved the same as the <code>OS_EnableWriteBufferForProtectionRegion()</code> function. This has been fixed.
</P>


<H3><A name="note21-30" id="note21-30">Note 21-30: (OS) Added and modified the heap function</A></H3>
<P>
Added the following functions related to heaps.
</P>
<UL>
<LI>OS_GetAllocatedSize
<LI>OS_GetTotalFreeSize
<LI>OS_GetMaxFreeSize
<LI>OS_ClearHeap
<LI>OS_FreeAllToHeap
</UL>
<P>Also, changed the type of <code>OS_CheckHeap()</code> from long to s32.</P>


<H3><A name="note21-31" id="note21-31">Note 21-31: (MI) Added support for streaming expansion of compressed data</A></H3>
<P>Supported streaming expansion of compressed data. By using this function, it is possible to perform expansion with a smaller buffer while reading LZ-compressed data, Run Length compressed data, or Huffman-compressed data from a Game Card. The following demo has been added as a sample that actually performs streaming expansion of data:</P>
<UL>
<LI>$(NITROSDK_ROOT)/demos/mi/UnComp_Stream_BmpBG
</UL>


<H3><A name="note21-32" id="note21-32">Note 21-32: (MI) Fixed the bug in MI_SendGXCommandAsync*()</A></H3>
<P>
For <code>MI_SendGXCommandAsyncFast()</code> and <code>MI_SendGXCommandAsync()</code>, the volatile specification was not appropriate and caused the termination wait to work improperly when the specified DMA was already in use. This has been fixed.
</P>


<H3><A name="note21-33" id="note21-33">Note 21-33: (MI) Resolved problem with multiplex DMA</A></H3>
<P>Created restrictions on source address when using DMA0 to deal with the hardware bug when there are multiple DMAs. Specifically, made it impossible to specify 0x<em>mmnnnnnn</em> (<em>mm</em> = 0x04 and 08-ff, <em>nnnnnn</em> is arbitrary) in source address of DMA0. These restrictions also apply for source address when transfer ends.</P>
<P>Also, dummy empty DMA transfer is performed after using DMA0.</P>
<P>There are no restrictions on DMA1 through DMA3.</P>


<H3><A name="note21-34" id="note21-34">Note 21-34: (PXI) Modified the PXI initialization process</A></H3>
<P>Changed order of PXI control register clear and PXI interrupt setting from &quot;interrupt setting -&gt; register clear&quot; to &quot;register clear -&gt; interrupt setting&quot;.</P>
<P>This was done because with the previous order, data remained in the PXI FIFO register when setting an interrupt, and an interrupt occurred at that point.</P>


<H3><A name="note21-35" id="note21-35">Note 21-35: (DevEnv) Added a size check option for clone boot to makerom</A></H3>
<P>In applications using the clone boot function, added functionality to makerom that determines at time of ROM image creation whether or not the region for adding authenticator with the attachsign tool can be allocated in/on the ROM image.</P>
<P> This function is enabled by adding <code>-A</code> as the start option of makerom. When using a makefile, it is best to set option <code>-A</code> for <code>MAKEROM_FLAGS</code> as follows:</P>
<BLOCKQUOTE>
MAKEROM_FLAGS = -A</BLOCKQUOTE>

<H3><A name="note21-36" id="note21-36">Note 21-36: (DevEnv) Standardized the document format</A></H3>
<P> Until now, the documents under <code>$NitroSDK/docs/TecnicalNotes</code> were in various formats such as doc and rtf. These have been converted and standardized to pdf format.
</P>


<H3><A name="note21-37" id="note21-37">Note 21-37: (DEMO) Added the tips/MyBuildMessage demo</A></H3>
<P>Provided demo in <code>$NitroSDK/build/demos/tips/MyBuildMessages</code> that changes link message and compile during/when <code>make -s</code>.
</P>


<H3><A name="note21-38" id="note21-38">Note 21-38: (TOOL) Reduced the size of the emuchild output file</A></H3>
<P>The <code>emuchild.exe</code> that prearranges signature to binary when using clone boot normally output full-sized files. However, to reduce the size of output files, it was changed so as to exclude data after the static region of the ARM9 and 7. Use the added <code>-f</code> option to output full-sized binary.</P>


<H3><A name="note21-39" id="note21-39">Note 21-39: (SND) Changed distributions of sound library</A></H3>
<P>
The sound library distributed with NITRO-SDK is now the 12/27/2004 version.
</P>

<H3><A name="KnownIssues_2_00_rc4" id="KnownIssues_2_00_rc4">Known Issues in SDK 2.0 RC4</A></H3>
<P>There were none.</P>



<HR>
<H2 style="line-height: 0"><A name="sdk_2_00_rc3" id="sdk_2_00_rc3">NITRO-SDK Version 2.0 RC3</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2004/11/29)</P>
</DIV>

<H3><A name="note20-01" id="note20-01">Note 20-01: (MB) Added pseudo Single-Card Play child function</A></H3>
<P>The function was added to allow a pseudo Single-Card Play child device to be entered into the Single-Card Play parent device in the application that is running from a DS card. By using this feature, it is possible to have both the Single-Card Play child device and the Multi-Card Play child device in the wireless play.</P>
<P>Also, as a demo program, the fake_child demo that makes an entry to the Multiboot-Model parent device was added to the following folder.</P>
<BLOCKQUOTE>$NitroSDK/build/demos/mb/fake_child</BLOCKQUOTE>

<H3><A name="note20-02" id="note20-02">Note 20-02: (MB) Corrected the problem of the MB_GetParentSystemBufSize() function</A></H3>
<P>In NITRO-SDK 2.0 RC2, there was a problem that the buffer size that was returned by the <code>MB_GetParentSystemBufSize()</code> function was smaller than the actual value by <code>WM_SYSTEM_BUF_SIZE</code> bytes. This problem was solved. However, <code>MB_SYSTEM_BUF_SIZE</code> that is defined in <code>nitro/mb.h</code> for the same buffer size is not affected by this problem.</P>

<H3><A name="note20-03" id="note20-03">Note 20-03: (MB) Expanded the features of the MB_ReadSegment() function</A></H3>
<P>Expanded the feature so that it is possible to specify a buffer length value that is smaller than the return value of the  <code>MB_GetSegmentLength()</code> function which would be passed as an argument to the <code>MB_ReadSegment()</code> function. The smallest size is defined as <code>MB_SEGMENT_BUFFER_MIN</code>. For details on the instance where this extended function is used, see the reference for the <code>MB_ReadSegment()</code> function.</P>

<H3><A name="note20-04" id="note20-04">Note 20-04: (MB) Changed the names of the MB_StartParentEx() and MB_EndEx() functions</A></H3>
<P>
To integrate with other categories, the current <code>MB_StartParentEx()</code> and <code>MB_EndEx()</code> functions were changed to <code>MB_StartParentFromIdle()</code> and <code>MB_EndToIdle()</code>. The old names have been eliminated.

</P>

<H3><A name="note20-05" id="note20-05">Note 20-05: (MB) Added the MB_DisconnectChild() function</A></H3>
<P>There was a problem that caused inconsistency in the internal state of the MB library when a child was disconnected from a parent by using the <code>WM_Disconnect()</code> function while distributing Single-Card Play data. <code>MB_DisconnectChild()</code> function which allows for the safe disconnection of a child even during MP communication.</P>

<H3><A name="note20-06" id="note20-06">Note 20-06: (MB) Eliminated the parent receive buffer size change</A></H3>
<P>The following problems were found when the receive buffer size setting was changed with the Single-Card Play parent.</P>
<UL>
<LI>Child's nickname in <code>MBUserInfo</code> cannot be received.
<LI>While one parent is distributing multiple files, the files that were registered the second or later cannot be downloaded.
</UL>
<P>For this reason, the specification was changed so that the receive buffer size of the MB parent cannot be changed. Because of this, the argument that sets the receive buffer size in the following functions was eliminated.</P>
<UL>
<LI>MB_SetParentCommSize()
<LI>MB_SetParentCommParam()
</UL>

<H3><A name="note20-07" id="note20-07">Note 20-07: (MB) Added clone boot sample.</A></H3>
<P>Added a sample clone boot that illustrates the creation procedure of the clone boot program.</P>

<H3><A name="note20-08" id="note20-08">Note 20-08: (MB) Corrected the problem of retries when reconnecting to the Multiboot-Model parent</A></H3>
<P>There was a problem that  caused the retry to fail if the connection to the parent failed even once when reconnecting to a parent after a child booted in the multiboot-Model demo.</P>
<P>This problem was solved as shown below:</P>
<UL>
<LI>In <code>wireless-shared/wh/wh.c</code>, a correction was made to change to the <code>WH_SYSSTATE_CONNECT_FAIL</code> state properly when the connection to a parent failed.
<LI>A correction was made to always reset the state with <code>WM_Reset()</code> before retrying the connection if the connection failed.
</UL>
<P>Check the points above if you create an application by using this demo as an example.</P>

<H3><A name="note20-09" id="note20-09">Note 20-09: (MB) Added a document about the Single-Card Play procedure</A></H3>
<P>Added a document regarding the Single-Card Play procedure, reconnection with the Single-Card Play parent, and performing a clone boot in <code>$NitroSDK/docs/TecnicalNotes/AboutMultiBoot.doc</code>.</P>

<H3><A name="note20-10" id="note20-10">Note 20-10: (WM) Corrected the ARM7 wireless library</A></H3>
<P>In the release and debug versions of the mongoose component, the work area that is required for operating the driver cannot be allocated in some cases. Also, there was a problem with the process of reusing the mongoose work area in all versions. When the APIs were called in a specific order and the connection and disconnection were repeated, the work area may run out and the connection process may not work properly. These bugs have been fixed.</P>

<H3><A name="note20-11" id="note20-11">Note 20-11: (WM) Introduced the MP communication life time</A></H3>
<P>When the ARM7 on a child device freezes because of a change to the halt state while performing communication, the child device's wireless hardware automatically continues to return Null and the generated error cannot be detected by the application on the parent device. To deal with this issue, the internal process was changed to cut off the connection if a child device continues to return a Null value for a certain period of time.</P>
<P>When the ARM7 on a parent device freezes because of a change to the halt state, the parent device's wireless hardware automatically continues to keep sending a beacon and the generated error cannot be detected by the application on the child device. A change was made to automatically disconnect if the no MP frames are received from the parent device for a certain period of time. The default value is set to 4 seconds on both the parent and child devices.</P>
<P>In addition to this change, the <code>mpLifeTime argument</code> was added to <code>WM_SetLifeTime()</code>.
</P>
<P>Normally, the Null response or MP frame send skip occurs when the load on the ARM7 is temporarily increased. They do not occur continuously.</P>

<H3><A name="note20-12" id="note20-12">Note 20-12: (WM) Added the &quot;Wireless Communication Tutorial&quot;</A></H3>
<P>Published the &quot;Wireless Communication Tutorial&quot;  &ndash; a tutorial for creating the wireless communication program based on the wireless communication program sample dataShare-Model that uses the WM library.</P>

<H3><A name="note20-13" id="note20-13">Note 20-13: (FS) Added the FS_LoadOverlayImageAsync() function</A></H3>
<P>Added the <code>FS_LoadOverlayImageAsync()</code> function that loads overlays asynchronously.</P>

<H3><A name="note20-14" id="note20-14">Note 20-14: (FS) Eliminated the FS_RegisterOverlayToDebugger() function</A></H3>
<P>The feature of the <code>FS_RegisterOverlayToDebugger()</code> function that registers overlays that were loaded asynchronously to the debugger was integrated into <code>FS_StartOverlay()</code>. Because of this, it is not necessary to call the <code>FS_RegisterOverlayToDebugger()</code> function explicitly. To maintain compatibility, this API was left as an empty function.</P>

<H3><A name="note20-15" id="note20-15">Note 20-15: (GX) Added the GX_GetVCountEqVal() function and changed other VCOUNT match interrupt related API</A></H3>
<P>The <code>GX_GetVCountEqVal()</code> API is provided to obtain the current setting of the VCOUNT match interrupt. Also, the name of the related APIs <code>GX_SetVCounterEqVal()</code> and <code>GX_IsVCounterEq()</code> were changed to <code>GX_SetVCountEqVal()</code> and <code>GX_IsVCountEq()</code>. The old API names can be used by defining a different name in the macro.</P>

<H3><A name="note20-16" id="note20-16">Note 20-16: (GX) Added the GX_SetBankForBGEx() function</A></H3>
<P>The <code>GX_SetBankForBGEx()</code> function was added as a function to use the combination that cannot allocate consecutive addresses such as VRAM-A and VRAM-B for the VRAM bank setting for the BG. By using this function, VRAM-EFG is allocated to 0x6000000-0x6017FFF and the biggest one of the VRAM-ABCD is allocated to 0x6020000-0x607FFFF.</P>
<P><code>demo/gx/UnitTours/2D_CharBg_BankEx</code> was added as a demo that uses this function.</P>

<H3><A name="note20-17" id="note20-17">Note 20-17: (CARD) Changed the card removal post-processing function CARD_TerminateForPulledOut()</A></H3>
<P>Changed the process that prevents the <code>CARD_TerminateForPulledOut()</code> function (that is called by default after a card removal is detected) from stopping by using the <code>OS_Terminate()</code> function to stopping normally if the cover is open and to forcibly turn the power OFF if the cover is closed.</P>

<H3><A name="note20-18" id="note20-18">Note 20-18: (MI) Added the Difference Filter Restoration function</A></H3>
<P>Added the following functions that restore the data that was filtered with ntrcomp by using runtime.</P>
<UL>
<LI>MI_UnfilterDiff8()
<LI>MI_UnfilterDiff16()
</UL>
<P><code>MI_COMPRESSION_DIFF</code> was added to the data type that is obtained with the <code>MI_GetCompressionType()</code> function.</P>

<H3><A name="note20-19" id="note20-19">Note 20-19: (MI) Added the Memory Clear Process function only for startup</A></H3>
<P>The function which CPU clears memory was defined in <code>crt0.c</code>, and other libraries (OS and MI) were using this function. When a Nintendo DS multiboot child device cancels out of the data receive process, there were instances in which this region was destroyed. The memory clear function that is used in crt0 and the memory clear function that is used by other libraries were separated.</P>

<H3><A name="note20-20" id="note20-20">Note 20-20:(OS) Corrected problem with VAlarm</A></H3>
<P>If multiple alarms were set to VAlarm, there were some instances in which the order of the alarm was not controlled properly depending on the V count that was set, the number of lines allowed for the delay, or the timing in which the interrupt is generated. Because of this problem, the automatic sampling of the touch panel during the wireless communication was not performed properly in some cases. This bug was fixed.</P>

<H3><A name="note20-21" id="note20-21">Note 20-21: (OS) Made debug functions to weak symbols</A></H3>
<P>The following OS functions for debugging were made to be the weak symbols. If the user defined the function with the same name, that function will have priority.</P>
<UL>
<LI>OS_PutChar()
<LI>OS_SPrintf()
<LI>OS_VSPrintf()
<LI>OS_SNPrintf()
<LI>OS_VSNPrintf()
<LI>OS_VPrintf()
<LI>OS_TVPrintf()
<LI>OS_Printf()
<LI>OS_TPrintf()
<LI>OS_Terminate()
<LI>OS_Halt()
</UL>
<P>
The entities of <code>OS_Panic()</code>, <code>OS_Warning()</code>, <code>OS_TPanic()</code>, and <code>OS_TWarning()</code>, which are <code>OSi_Panic()</code>, <code>OSi_Warning()</code>, <code>OSi_TPanic()</code>, and <code>OSi_TWarning()</code> respectively, were also made to be weak symbols.</P>

<H3><A name="note20-22" id="note20-22">Note 20-22: (SND) Corrected the problem that stopped the SND_InvalidateWaveData() function from generating some sounds</A></H3>
<P>There was a problem in which the <code>SND_InvalidateWaveData()</code> function stopped the generation of other sounds that are not related. Because of this problem, if the sound data in the memory was deleted while in the surround mode, the sound was not generated until the surround mode was stopped. This bug was fixed.</P>

<H3><A name="note20-23" id="note20-23">Note 20-23: (MIC) Corrected the problem in which the MIC_GetLastSamplingAddress() function did not return the accurate address</A></H3>
<P>
The following are problems in the <code>MIC_GetLastSamplingAddress()</code> function.</P>
<UL>
<LI>The return value shifts 2 bytes with 16-bit sampling
<LI>An indeterminate value is returned occasionally if it is called immediately after the <code>MIC_StartAutoSampling()</code> function.
</UL>
<P>
These problems were corrected, and there was a specification change for the <code>MIC_GetLastSamplingAddress()</code> function to return the memory location that stores the last sampled data, or return a value of NULL if the data was not sampled even once.
</P>

<H3><A name="note20-24" id="note20-24">Note 20-24:(PRC) Changed identifier name</A></H3>
<P>Of the pattern recognition APIs, the identifier names that contained the word &quot;regularize&quot; were changed to &quot;normalize.&quot;</P>
<BLOCKQUOTE>Member variables of the structures PRCInputPatternParam<BR> PRCPrototypeDBParam<BR> PRCPrototypeList were changed. </BLOCKQUOTE>
<P>The structure member variables of each of these have changes. Also, the constant value in the C program which is output by <code>$NitroSDK/tools/bin/pdic2c.pl</code> was changed to <code>PDIC_NORMALIZE_SIZE</code>.</P>

<H3><A name="note20-25" id="note20-25">Note 20-25: (WM) Enhanced the WM_SetMPDataToPort*() argument check</A></H3>
<P>To prevent allocating the same buffer to the <code>sendBuf</code> argument of <code>WM_StartMP*()</code> and the <code>sendData</code> argument of <code>WM_SetMPDataToPort*()</code>, changes were made to generate an error if these two buffers are the same.</P>

<H3><A name="KnownIssues_2_00_rc3" id="KnownIssues_2_00_rc3">Known problems with SDK 2.0 RC3</A></H3>
<P>This note pertains to the GX_SetBankForBGEx() function that is described in &quot;Note 20-15: (GX).&quot; The GX_GetVCountEqVal() function was added and the other VCOUNT match interrupt related API was changed with this version. The region check will not be performed for the DEBUG build. When the invalid address was written, it will not be stopped by ASSERT. These problems will be fixed in the next or later versions to be released.</P>

<HR>
<H2 style="line-height: 0"><A name="sdk_2_00_rc2" id="sdk_2_00_rc2">NITRO-SDK Version 2.0 RC2</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2004/11/04)</P>
</DIV>

<H3><A name="note19-01" id="note19-01">Note 19-01: (WM) Changed the return value of WM_GetAllowedChannel() when an error occurs</A></H3>
<P>In <code>WM_GetAllowedChannel()</code>, when an error occurs (<code>WM_Init()</code> was not called in advance), the return value, which was previously 0, is now 0x8000.</P>
<P>This allows you to distinguish between this error and the error that occurs when there is no available channel (return value of 0x0000).</P>

<H3><A name="note19-02" id="note19-02">Note 19-02: (WM) Changed part of the internal specifications of the WM_End library termination function</A></H3>
<P>The <code>WM_End()</code> function used to perform the library force quit process and memory release after the user callback was called. But we changed the method so that all end processes are completed before the callback is called.</P>
<P>This change is in response to requests from people who want to call the next <code>WM_Initialize()</code> function in the callback for the <code>WM_End()</code> function.</P>

<H3><A name="note19-03" id="note19-03">Note 19-03: (WM) Changed WMDisconnectCallback structure</A></H3>
<P>We added a new structure that is passed to the callback for <code>WM_Disconnect()</code> and <code>WM_DisconnectChildren()</code>. This structure is similar to the <code>WMCallback</code> structure, but has additional members, which contain an AID bitmap of the devices that requested the disconnect and an AID bitmap of the devices that were disconnected.</P>
<P>The member variables at the beginning of the newly created <code>WMDisconnectCallback</code> structure match those of previous <code>WMCallback</code> structure and the new structure can be treated as a <code>WMCallback</code> structure.</P>

<H3><A name="note19-04" id="note19-04">Note 19-04: (WM) Corrected initialization of WM_Reset()</A></H3>
<P>When <code>WM_Reset()</code> was called after MP communication was established, the automatic processing for MP communication would not be reset.</P>
<P>We corrected this bug and now the automatic processing is always reset. This may reduce the processing burden.</P>


<H3><A name="note19-05" id="note19-05">Note 19-05: (WM) Corrected processing at end of data sharing</A></H3>
<P>If MP communication occurred between <code>WM_EndDataSharing()</code> and <code>WM_EndMP()</code>, erroneous processing occurred in some cases. This bug was corrected.</P>
<P>Please note that if <code>WM_EndDataSharing()</code> is called immediately before calling <code>WM_StartDataSharing()</code>, a problem may occur.</P>

<H3><A name="note19-06" id="note19-06">Note 19-06: (WM) Changed upper limit of data size in data sharing</A></H3>
<P>When using data sharing with libraries before RC1, the maximum shared data size multiplied by the number of shared machines was 252 bytes. We expanded this value to 508 bytes. As a result, the size of the <code>WMDataSharingInfo</code> structure has increased by 1K byte. To return to the previous state, change <code>WM_DS_DATA_SIZE_508</code> in <code>wm.h</code> to <code>#undef</code>.</P>

<H3><A name="note19-07" id="note19-07">Note 19-07: (MB) Corrected invalid nameLength problem in MBUserInfo</A></H3>
<P>When setting <code>MBUserInfo</code>, which is an argument of <code>MB_Init()</code>, the termination of the user name was indicated by a NULL, and even when the <code>nameLength</code> variable was changed, the change was not reflected on the child screen.</P>
<P>This bug was fixed.</P>

<H3><A name="note19-08" id="note19-08">Note 19-08: (MB) Added MB_StartParentEx() and MB_EndEx()</A></H3>
<P>We added <code>MB_StartParentEx()</code>, which can be called even when the wireless library is in the idle state, and <code>MB_EndEx()</code>, which sets the wireless library to the idle state and then stops. They correspond to the standard <code>MB_StartParent()</code> and <code>MB_End()</code>. In other respects, they can be used in the same way as the standard functions.</P>

<H3><A name="note19-09" id="note19-09">Note 19-09: (MB) Added warning to MB_UnregisterFile() reference</A></H3>
<P>If a multiboot parent running the MB library calls <code>MB_RegisterFile()</code> and <code>MB_UnregisterFile()</code> alternately to dynamically change a saved program, if the GGID of the program before the change matches the GGID of the program after the change, the change is not detected on the IPL side.</P>
<P>We have added a warning about this to the reference for <code>MB_UnregisterFile()</code>.</P>

<H3><A name="note19-10" id="note19-10">Note 19-10: (MB) Added a demo that surveys the channel signal usage</A></H3>
<P>We added a demo that surveys signal usage during MB preprocessing for multiboot. It is in <code>$NitroSDK/build/demos/mb/mbm</code>. Because <code>MBM_MeasureChannel()</code> will get the optimal channel and then turn off power to the wireless system, after obtaining the callback, you should begin multiboot processing from <code>MB_Init()</code> as usual.</P>

<H3><A name="note19-11" id="note19-11">Note 19-11: (MB) Implemented new method to set the tgid value in the multiboot demo</A></H3>
<P>In the multiboot sample demo's parent operations, we changed the tgid setting value, which is used to manage wireless connection sessions, so that when possible, it changes each time the power is turned ON. The minute and second values from the current time obtained with RTC are used as tgid values.</P>

<H3><A name="note19-12" id="note19-12">Note 19-12: (MB) Changed part of the internal specifications of the MB_End library termination function</A></H3>
<P>In the <code>MB_End()</code> function, library end processing such as memory release was performed after the user callback was called. Revised it so that all end processing is completed before the callback is called.</P>
<P>This revision is the same as <A href="#note19-05">Note 19-05</a>, and is to deal with the situation where MB re-initialization is performed in the <code>MB_End()</code> user callback. This corrected a problem where the documentation and actual operation did not match.</P>

<H3><A name="note19-13" id="note19-13">Note 19-13: (WBT) Corrected error in wbt-fs sample demo that occurred during disconnect</A></H3>
<P>When connection with parent failed during child's file access in the wbt-fs sample demo, file operations invoked thereafter would fail to complete. This problem was fixed.</P>

<H3><A name="note19-14" id="note19-14">Note 19-14: (WBT) Corrected wbt-fs sample demo</A></H3>
<P>During caching of received data in the wbt-fs sample demo, some areas that should have been flushed were invalidated.</P>
<P>This problem was fixed.</P>

<H3><A name="note19-15" id="note19-15">Note 19-15: (WBT) Corrected WBT library</A></H3>
<P>Two problems with the <code>WBTlibrary</code> were corrected.</P>
<UL>
<LI>When <code>WBT_GetBlockInfo()</code> was called when a block was not stored on the other machine, the <code>WBTBlockInfo</code> structure that was returned by the callback would have unpredictable values. The structure now returns with all members cleared to zero.
<LI>The <code>WBT_GetBlockInfo()</code> function had higher priority than <code>WBT_GetBlock()</code> and this would sometimes cause a deadlock. This was fixed by reducing the priority of <code>WBT_GetBlockInfo()</code>.
</UL>

<H3><A name="note19-16" id="note19-16">Note 19-16: (FS) Added the FS_RegisterOverlayToDebugger() function</A></H3>
<P>We added the function <code>FS_RegisterOverlayToDebugger()</code> to the FS library. This function is used to notify the debugger of an overlay load when you use a series of low-level functions (such as file read) to load an overlay module rather than using high-level functions, such as <code>FS_LoadOverlay()</code>.</P>
<P>If you use <code>FS_GetOverlayFileID()</code>, <code>FS_ReadFile()</code> and <code>FS_StartOverlay()</code> in combination to load an overlay, call this function before calling <code>FS_StartOverlay()</code>, so that you will be able to trace the operation in the debugger.</P>
<P>We added a demo, <code>$NitroSDK/build/demos/fs/overlay</code>, which contains an example of the function's usage.</P>

<H3><A name="note19-17" id="note19-17">Note 19-17: (OS) Changed V-count alarm processing</A></H3>
<P>We changed the routine for alarms resulting from the V-count (VAlarm). Previously, the &quot;first VAlarm in the loop resulting from an interrupt&quot; only calls a handler when the V-count was the precisely the specified value. This resulted in processing delays in the wireless library and other libraries that relied on this feature.</P>
<P>The &quot;first VAlarm in the loop resulting from an interrupt,&quot; is, as its name suggests, a VAlarm handler called by a V-count interrupt. After this handler is called, the call count of other registered alarms is checked and handlers are called if necessary.</P>
<P>This processing was changed so that the VAlarm handler called by the interrupt is called even when the V-count exceeds the specified value. The amount that the V-count can exceed this value (the delay) can be set by the programmer. (If the call is not in time, it will be performed in the next frame.))</P>
<P>One argument (<code>delay</code>) was added to the VAlarm configuration function, <code>OS_SetVAlarm()</code>, for this purpose.</P>
<P>Previously, the function call was:</P>
<BLOCKQUOTE>OS_SetVAlarm( alarm, vcount, handler, arg );</BLOCKQUOTE>
<P>Now it is:</P>
<BLOCKQUOTE><code>OS_SetVAlarm( alarm, vcount, <strong>delay</strong>, handler, arg );</code></BLOCKQUOTE>
<P>&sbquo;&AElig;&sbquo;&Egrave;&sbquo;&egrave;&sbquo;&Uuml;&sbquo;&middot;BFor details see the reference for <code><A href="os/valarm/OS_SetVAlarm.html">OS_SetVAlarm()</A></code>.</P>
<P>There has always been a way to specify a delay with a periodic VAlarm, but with an interrupt-triggered VAlarm, the delay did not work. Now you can specify the precise delay for the alarm.</P>
<P><code>OS_SetVAlarm()</code> now has one more argument, but if you want to use the previous function call and not specify a delay, use the same arguments and call <code>OS_SetOneTimeVAlarm()</code> instead of <code>OS_SetVAlarm()</code>. This function will set the delay to 10. (Internally, the delay has always been treated as being 10.))</P>
<P>The maximum value for the delay is <code>OS_VALARM_DELAY_MAX</code>. If this value is specified, the specified VAlarm handler will be called no matter how much time elapses.</P>

<H3><A name="note19-18" id="note19-18">Note 19-18: (OS) Added function to get owner information (favorite color)</A></H3>
<P></a> We added the following color information definitions and functions. We also added a reference.</P>
<UL>
<LI>OS_GetFavoriteColor()
<LI>OS_GetFavoriteColorTable()
<LI><code>OS_FAVORITE_COLOR_</code> enumerated constants
<LI><code>OS_FAVORITE_COLOR_VALUE_</code> color value constants
</UL>

<H3><A name="note19-19" id="note19-19">Note 19-19: (OS) Fixed function cost profiler</A></H3>
<P>An error occurred when cost calculations were performed with the function cost profiler <code>OS_CalcThreadStatistics()</code> and a thread other than the current thread was targeted. The cost buffer is cleared after the cost calculation results are stored in the statistics buffer. However, the current thread's buffer was cleared rather than the targeted thread's buffer. This has been fixed.</P>

<H3><A name="note19-20" id="note19-20">Note 19-20: (OS) Corrected OS_SetTick ()</A></H3>
<P>There was a problem with the tick value setting function (<code>OS_SetTick()</code>). The other interrupt request flags were disabled. This has been fixed.</P>
<P>This function could affect the operation of alarm systems in use. Please be careful when using <code>OS_SetTick()</code> in an application.</P>

<H3><A name="note19-21" id="note19-21">Note 19-21: (OS) Corrected OS_ResetSystem()</A></H3>
<P>The reset function, <code>OS_ResetSystem()</code>, does not initialize the hardware, so you must explicitly stop the hardware functions or confirm that they are stopped before calling this function. For safety reasons, we have added code to the function that stops several hardware functions.</P>
<UL>
<LI>When the card bus is locked, the function now waits for it to become unlocked. (ARM9 only)
<LI>The function now stops all DMA.
<LI>The function masks all interrupts except for PXI interrupts in use so that the reset will reach the ARM7.
<LI>Because part of reset processing takes place in main memory, the reset process would not work correctly when this section was corrupted.
</UL>
<P>This problem was also fixed.</P>

<H3><A name="note19-22" id="note19-22">Note 19-22: (OS) Fixed data section transfer to DTCM</A></H3>
<P>There was a problem when an autoload was performed using a data section created in DTCM. This has been fixed.</P>

<H3><A name="note19-23" id="note19-23">Note 19-23: (CARD) Added the CARD_GetRomHeader function</A></H3>
<P>The function <code>CARD_GetRomHeader</code> was added. This function allows the program initiated by wireless download to obtain ROM header information stored in the DS CARD that is currently inserted.</P>

<H3><A name="note19-24" id="note19-24">Note 19-24: (CARD) Added detection of automatically initiated DMA during Game Card access</A></H3>
<P>The card library and upper-level library functions did not check for possible conflicts with other automatically initiated DMA during DS CARD access. Code that checks for this was added.</P>

<H3><A name="note19-25" id="note19-25">Note 19-25: (ARM7) Added detection of Game Card/Game Pak removal to ferret</A></H3>
<P>When ferret was used as an ARM7 component there was no way to detect whether the Game Card or Game Pak was removed.

We added this feature to ferret.</P>
<P>This detection feature is valid only the TS edition of the library.</P>

<H3><A name="note19-26" id="note19-26">Note 19-26: (PM) Corrected LCD state during restore from sleep</A></H3>
<P>Correction of NITRO-SDK 2.0 RC1 &quot;Note 18-16: (PM) Eliminating ghost images during sleep mode&quot; caused the following problem. As a result of the fix of the ghost image problem, when the machine was woken up after being transitioned into sleep mode by <code>PM_GoSleepMode()</code>, the GX library's status changed from its pre-sleep status, and this caused the LCD to restore incorrectly in some cases. This was fixed and now the LCD will restore correctly after being in sleep mode.</P>

<H3><A name="note19-27" id="note19-27">Note 19-27: (MI) Corrected address checking during DMA</A></H3>
<P>The debug MI library uses an <code>ASSERT</code> to check whether the transfer address for DMA is included in ITCM and DTCM. The ITCM start address was 0x00000000. This was changed to the regular value of 0x01FF8000.</P>

<H3><A name="note19-28" id="note19-28">Note 19-28: (MI) Corrected MI_DmaFill*()</A></H3>
<P>The function <code>MI_DmaFill*()</code>, which uses DMA to fill memory with a uniform value, would sometimes transfer values incorrectly when an interrupt was generated during execution. This problem was corrected and <code>MI_DmaFill*()</code> is now an interrupt-safe function.</P>

<H3><A name="note19-29" id="note19-29">Note 19-29: (GX) Changed names of G3X_IsLineBufferOverflow() and G3X_ResetLineBufferOverflow()</A></H3>
<P>Two function names were changed. They are functions relating to the underflow (lines over) flag of the rendering engine's line buffer.</P>
<BLOCKQUOTE><code>G3X_IsLineBufferOverflow()</code> and <code>G3X_ResetLineBufferOverflow()</code></BLOCKQUOTE>
<P>were changed to</P>

<BLOCKQUOTE><code>G3X_IsLineBufferUnderflow()</code> and <code>G3X_ResetLineBufferUnderflow()</code> </BLOCKQUOTE>
<P>&sbquo;&Eacute;&permil;&uuml;&ndash;&frac14;&sbquo;&micro;&sbquo;&Uuml;&sbquo;&micro;&sbquo;&frac12;B</P>

<H3><A name="note19-30" id="note19-30">Note 19-30: (GX) Corrected error in register definition</A></H3>
<P>The following constants in <code>$NitroSDK/include/nitro/hw/ARM9</code> were declared incorrectly.</P>
<UL>
<LI>REG_EDGE_COLOR_2_OFFSET
<LI>REG_EDGE_COLOR_3_OFFSET
<LI>REG_G3_TEXCOORD_INTEGER_SHIFT
<LI>REG_REG_G3X_VTXRAM_COUNT_VTXCNT_SIZE
<LI>REG_G3X_VTXRAM_COUNT_VTXCNT_MASK
</UL>
<P>They were corrected.</P>

<H3><A name="note19-31" id="note19-31">Note 19-31: (GX) Corrected clearing problem with G3X_InitTable table</A></H3>
<P>When the table in <code>G3X_initTable</code> was cleared to zero, the last 16 bytes in the toon table were not cleared.</P>
<P>This bug was fixed.</P>

<H3><A name="note19-32" id="note19-32">Note 19-32: (SND) Changed distributions of sound library</A></H3>
<P>The sound library distributed with NITRO-SDK is now the NITRO-SYSTEM 10/12/2004 version. The update was also added to patches after 2.0RC1plus3.</P>

<H3><A name="note19-33" id="note19-33">Note 19-33: (CTRDG) Added references for CTRDG_IsNumberID() and CTRDG_IsBitID()</A></H3>
<P>Added reference information for <code>CTRDG_IsNumberID()</code> and <code>CTRDG_IsBitID()</code>, which check if specified peripheral devices are installed in the Game Pak.</P>

<H3><A name="note19-34" id="note19-34">NOte 19-34: (DevEnv) Included IPL GUI version of mb_child and WMTestTool for checking wireless connections</A></H3>
<P>Included mock-production version IPL <code>mb_child</code> program under <code>$NitroSDK/bin/ARM9-TS/Rom</code>. The name of the previous one was changed to <code>mb_child_simple.srl</code>.</P>
<P>Also, included in the same directory <code>WMTestTool.srl</code>, which is a tool for testing wireless. You can use the following test modes. We are currently preparing detailed manuals.</P>
<UL>
<LI>Aging test -- Can be used to get MacAddress.
<LI>Scan test -- Can be used to confirm GGID.
<LI>ScanEx test -- Can be used to confirm GGID (and for comparing efficiency with normal Scan)
<LI>MeasureChannel test -- Can  be used in MeasureChannel.
<LI>Noise mode -- Makes it difficult to communicate with noise occurring.
</UL>

<H3><A name="KnownIssues_2_00_rc2" id="KnownIssues_2_00_rc2">Known problems with SDK 2.0 RC2</A></H3>
<P>There were none.</P>

<HR>
<H2 style="line-height: 0"><A name="sdk_2_00_rc1" id="sdk_2_00_rc1">NITRO-SDK Version 2.0 RC1</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2004/10/07)</P>
</DIV>

<H3><A name="note18-01" id="note18-01">Note 18-01: (WM) Changes in WM library</A></H3>
<P>Note: </strong> Due to the <A href="wm_changes_041006.txt">changes with WM library</a> in version 2.0 RC1, programs with 2.0 FC or older versions cannot be compiled as is. Following are some major updates. </B></P>
<P>Deleted the test mode operation functions <code>WM_StartTestMode()</code> and <code>WM_StopTestMode()</code>.</P>
<P>The specification of <code>WM_GetAllowedChannel()</code> was that even though it was a synchronous function, it did not return a valid value unless it was in IDLE state after executing <code>WM_PowerOn()</code>. However, this specification had a potential for confusing the library users, so the changes were made to return a valid value any time after it was initialized with the <code>WM_Init()</code> function.</P>
<P>Noise was added when using the sound library to play high pitched sounds during the wireless communication. This issue was improved significantly.</P>
<P>The specification was changed to disconnect the device when an unrecoverable and fatal error occurred with the wireless communication protocol due to the influence by other wireless communication devices other than Nintendo DS. The application receives the same notification as normal disconnection, so there is no need to write corresponding codes.</P>
<P>An unique setting value that is required for each Nintendo DS system during the wireless communication is kept internally in Nintendo DS. If this setting value is destroyed for some reason, the communication cannot be executed properly. Therefore, the program stops automatically if the wireless setting value is destroyed when there was an attempt for the wireless communication.</P>
<P>6) For game group ID, both u16[2] type definitions and u32 type definitions are used. It caused confusion, so they were standardized as u32 types.

&OElig;^&sbquo;&Eacute;&ldquo;Ecirc;&ecirc;&sbquo;&micro;&sbquo;&Uuml;&sbquo;&micro;&sbquo;&frac12;BInterface changes in APIs were executed for the following.</P>
<UL>
<LI><code>WMParentParam</code> structure
<LI><code>WM_SetGameInfo()</code> function
<LI><code>MB_Init()</code> function
</UL>
<P>Due to this change, sample demos that perform the wireless communication were updated.</P>
<P>The argument <code>ignoreFatalError</code> was added to <code>WM_StartMPEx()</code>. Normally, FALSE should be given.</P>
<P>The maximum value of the maximum numbers of bytes that can be sent by parent or child that is specified with <code>WMParentParam</code> increased from 508 bytes to 512 bytes. However, the 5600-microsecond limitation required for MP communication has not been changed, so the number of bytes must be set within the limits. The value of <code>MB_COMM_PARENT_SEND_MAX</code> in MB library is not changed.</P>
<P>As the distance between the parent and child increases while <code>minPollBmpMode</code> of <code>WM_StartMPEx</code> is set to TRUE, the communication was disconnected with the return value of <code>WM_GetLinkLevel</code> set to the maximum level of 3. This problem was solved. At the same time, the behavior of the radio receive strength that is taken by <code>WM_GetLinkLevel</code> was changed. The frequency of the value change became slow.</P>
<P>Both the u16[3] type definitions and u8[6] type definitions were used for MAC addresses, and it was causing confusions. This was standardized as u8[6] types. Interface changes in APIs were executed for the following.</P>
<UL>
<LI><code>WM_SetDCFData</code> function
<LI><code>WMStartParentCallback</code> structure
<LI><code>WMStartScanCallback</code> structure
<LI><code>WMPortRecvCallback</code> structure
<LI><code>WMScanParam</code> structure
</UL>
<P>Due to this change, sample demos that perform the wireless communication were updated.</P>
<P>For all of the wireless sample demos that use the setting value that exceeds the required time for MP communication as it is defined in the programming guidelines, made changes to use the value within the proper range.</P>

<H3><A name="note18-02" id="note18-02">Note 18-02: (WB) Corrected the problem that the mb_child.srl program had stopped processing the maximum number of characters</A></H3>
<P>With <code>mb_child.srl</code>, when the user name of the parent was 10 characters, it did not work properly. This problem was corrected.</P>

<H3><A name="note18-03" id="note18-03">Note 18-03: (MB) Changed the download sequence of the multiboot-Model demo</A></H3>
<P>Previously, according to the display sequence confirmation, when IPL was downloaded, this demo waited until the parent completed the boot preparation after the data transfer. It was changed to wait for all children before the data transfer.</P>

<H3><A name="note18-04" id="note18-04">Note 18-04: (MB) Changed the display characters of the mb_child.srl program to English</A></H3>
<P>The <code>program mb_child.srl</code>, which is used by children for multiboot, used Japanese characters for display, but it was changed to display in English.</P>

<H3><A name="note18-05" id="note18-05">Note 18-05: (WBT) Added the WBT_CancelCurrentCommand function</A></H3>
<P>Added the <code>WBT_CancelCurrentCommand</code> function that is used for canceling the file receiving operation that is being processed with the <code>WBT_GetBlock</code> function.</P>

<H3><A name="note18-06" id="note18-06">NOte 18-06: (DEMO) Dealt with warning in WM demo bell</A></H3>
<P>The warning &quot;Failed sound alarm OS_SendMessage&quot; was output in the ball demo, but it was changed not to be output.</P>
<P>This warning indicates that the sound process on ARM7 is being executed properly. When playing 44kHz sounds on all of the 16 channels at 3 octaves higher, this warning may be output because the heavy load on CPU processes. Do not play the sound that can cause the heavy load on the CPU processes.</P>

<H3><A name="note18-07" id="note18-07">Note 18-07: (DEMO) Changed the user name process in the multiboot demo</A></H3>
<P>Changes were made so that the user name used by the parent for the mb/multiboot demo process is obtained from the owner information in the Nintendo DS system.</P>
<P>However, the fixed value is used, as it was done previously in the old environment which the <code>OS_GetOwnerInfo()</code> function cannot use, such as TS and TEG of <code>TS_VERSION</code> &lt; 200 and <code>NVRAM_FORMAT</code> &lt; 100.</P>

<H3><A name="note18-08" id="note18-08">Note 18-08: (DevEnv) Included the NITRO-SDK version display tool</A></H3>
<P>Included the tool <A href="tools/showversion.html">showversion</a> that displays the NITRO-SDK version that is embedded in ROM file. Valid only with NITRO-SDK 2.0 FC or later versions. For details on restrictions, see the reference manual.</P>

<H3><A name="note18-09" id="note18-09">Note 18-09: (DevEnv) Included the final version of the banner display tool</A></H3>
<P>Included the final version of the banner display tool. Compared to the last version, fonts that can be used are changed.</P>

<H3><A name="note18-10" id="note18-10">Note 18-10: (DevEnv) Linked the description of the resident area name of lsf file and the module compression process</A></H3>
<P>When the application-specific lsf file is being used, the segment name in the resident module and srl/nef target name are set differently, an error was generated during the module compression process when <code>NITRO_COMPRESS</code> is enabled.</P>
<P>By correcting the lcf template file to output the intermediate file <code>component.files</code> from the description of lsf file, and to use compstatic to reference that file, the description of the resident area name in lsf file and the module compression process are linked.</P>

<H3><A name="note18-11" id="note18-11">Note 18-11: (OS) Changed the protection region setting for main memory</A></H3>
<P>Previously, the size of the protection region for main memory was always set to 4 MB at startup, and the protection region setting was set to 8 MB only if SDK 8M was defined when <code>OS_InitArenaEx()</code> was called (called in <code>OS_Init()</code>) and 8 MB memory was mounted.</P>
<P>However, if there was an attempt to use autoload to transfer the module to the extended memory region, that transfer occurred before <code>OS_InitArenaEx()</code>, and it was not possible to proceed because of exception that was generated.</P>
<P>Because of that, the rules regarding the protection region size for main memory have been changed.</P>
<UL>
<LI>For startup, the size of the protection region for main memory becomes 8 MB.
<LI>When <code>OS_InitArenaEx()</code> is called, if SDK 4M is defined or the amount of mounted memory is 4 MB, the region size changes to 4 MB.
</UL>
<P>This change allowed the transfer to the extended memory region.</P>

<H3><A name="note18-12" id="note18-12">Note 18-12: (OS) Sound stopping process when reset</A></H3>
<P>Changes were made to stop the sound playback with ARM7 when <code>OS_ResetSystem()</code> is called.</P>

<H3><A name="note18-13" id="note18-13">Note 18-13: (OS) Corrected OS_CreateThread()</A></H3>
<P>These were added to the thread initialization executed by <code>OS_CreateThread()</code>.</P>
<UL>
<LI>Initialization of profiler member. It is referenced when using profile features.
<LI>Initialization of joinQueue member. It is referenced when using <code>OS_ExitThread()</code>, <code>OS_JoinThread()</code>, and <code>OS_DestroyThread()</code>.
</UL>

<H3><A name="note18-14" id="note18-14">Note 18-14: (OS) Corrected Function Trace Profiler</A></H3>

<P>There was an error with the buffer underflow check that is performed by one of the profile features, <code>PROFILE_EXIT</code>, which is a function trace. This has been fixed. Also, the register for detecting underflow was not displayed properly, and it was corrected.</P>

<H3><A name="note18-15" id="note18-15">Note 18-15: (PM) Corrected the LCD switching function PM_SetLCDPower()</A></H3>
<P>When using <code>PM_SetLCDPower()</code> to switch the LCD status, LED was forcibly turned ON. However, it was changed so that the LED status does not change.</P>

<H3><A name="note18-16" id="note18-16">Note 18-16: (PM) Corrected to avoid residual image when entering sleep</A></H3>
<P>When entering sleep, the image displayed before entering sleep sometimes stayed displayed. Changes were made to wait for one frame after the screen output was turned off to avoid residual images.</P>

<H3><A name="note18-17" id="note18-17">Note 18-17: (PM) Corrected the IRQ mask return process during sleep</A></H3>
<P>There was an error with the IRQ mask return process on ARM7 after the sleep process. Depending on the cause for awakening from sleep, the cause was left as valid even when awakening from sleep after the necessary IRQ causes were enabled. To be more precise, the card removal check after sleep was not detected by card interrupts. This problem was solved.</P>

<H3><A name="note18-18" id="note18-18">Note 18-18: (PM) Added callback call process for sleep</A></H3>
<P>Added APIs for calling callbacks for sleep. They can be registered for before changing into sleep mode and after awakening from sleep mode. In addition, multiple callbacks can be registered.</P>
<UL>
<LI>PM_AppendPreSleepCallback()
<LI>PM_PrependPreSleepCallback()

<LI>PM_AppendPostSleepCallback()
<LI>PM_PrependPostSleepCallback()
</UL>

<H3><A name="note18-19" id="note18-19">Note 18-19: (CARD) Corrected the processing of multiple card initialization calls</A></H3>
<P>When <code>CARD_Init()</code> was called twice, the FIFO Callback overridden warning was given. (It calls <code>FS_Init()</code> and <code>CARD_Init()</code>, so it is the same when calling <code>CARD_Init()</code> and <code>FS_Init()</code>.) It was corrected so that the warning is not given.</P>

<H3><A name="note18-20" id="note18-20">Note 18-20: (CTRDG) Added cartridge functions</A></H3>
<P>The following cartridge functions are now the official release, and references were added.</P>
<UL>
<LI>CTRDG_IsAgbCartridgePulledOut.html
<LI>CTRDG_IsOptionCartridgePulledOut.html
<LI>CTRDG_GetAgbMakerCode.html
<LI>CTRDG_GetAgbGameCode.html
</UL>

<H3><A name="note18-21" id="note18-21">Note 18-21: (RTC) Changed the method for monitoring RTC alarm</A></H3>
<P>Previously, there was a problem that RTC alarm interrupt was not generated properly because of the conflict between the interrupt for generating RTC alarm and IS-NITRO-EMULATOR hardware. To deal with this problem, the temporary measure was taken to make ARM7 execute polling to monitor the RTC alarm status at fixed intervals. Since the hardware conflict issue was solved with IS-NITRO-DEBUGGER software version 1.11, the polling method was abolished and changed to the method that handles interrupts.</P>

<H3><A name="note18-22" id="note18-22">Note 18-22: (RTC) Corrected the problem with consistency of date and day of the week</A></H3>
<P>There was a possibility of causing inconsistency between the date structure that can be obtained with functions such as <code>RTC_GetDate()</code>, and the day of the week in the calendar. This problem was fixed.</P>

<H3><A name="note18-23" id="note18-23">Note 18-23: (GX) Added use of clear image for clear depth image by itself</A></H3>
<P>To use only the clear depth image without allocating VRAM to the clear color image slot, the following settings were added.</P>
<UL>
<LI>GX_CLEARDEPTH_A
<LI>GX_CLEARDEPTH_B
<LI>GX_CLEARDEPTH_C
<LI>GX_CLEARDEPTH_D
</UL>
<P>When using these settings, all of the clear images are cleared with 0x0000, and the alpha value is also set to 0. With this setting, the texture image slot 2 is disabled, so make sure that VRAM is not allocated to this slot.</P>
<P>A demo that uses these settings is added to <code>demos/gx/ClearDepthOnly</code>.</P>

<H3><A name="KnownIssues_2_00_rc1" id="KnownIssues_2_00_rc1">Known problems with SDK 2.0 RC1</A></H3>
<P>There were none.</P>

<HR>
<H2 style="line-height: 0"><A name="sdk_2_00_fc" id="sdk_2_00_fc">NITRO-SDK Version 2.0 FC</A></H2>
<DIV style="text-align: right">
<P style="line-height: 0">(2004/09/30)</P>
</DIV>

<H3><A name="note17-01" id="note17-01">Note 17-01: (WBT) Official release of the wireless block transfer library</A></H3>
<P>The test release version of the wireless block transfer library (WBT) became the official release. There are references and samples <code>wbt-1</code> and <code>wbt-fs</code>.</P>

<H3><A name="note17-02" id="note17-02">Note 17-02: (WM/TP) Corrected the problem that the wireless processes stopped the auto sampling of the touch panel</A></H3>
<P>There was a problem that stopped the auto-sampling process of the touch panel when starting the wireless process. This has been fixed.</P>

<H3><A name="note17-03" id="note17-03">Note 17-03: (WM) Changes in WM library</A></H3>
<P>Corrected the problem that the exclusive control of the data sharing function was not executed.</P>
<P>There was a problem that stopped auto-sampling when starting the wireless communication with the auto-sampling of the touch panel enabled. This has been fixed.</P>
<P>When calling wireless asynchronous APIs at different threads at the same time, the result of the process became invalid. This problem was solved.</P>
<P>There was a problem with the exclusive control of send/receive for data sharing, and in rare cases data sharing was stopped. This has been fixed.</P>
<P>The specification was changed so that when a recoverable error occurs during send/receive of the data sharing, <code>WM_StepDataSharing</code> keeps returning <code>WM_ERRCODE_FAILED</code>.</P>
<P>6) There was a possibility that the child was not recognizing the parent properly when <code>WM_StartScan</code> was executed. This was solved. To be more precise, when the beacon without the Gameinfo information is obtained, the GameInfo obtained by the preceding<code>WM_StartScan</code> is carried over, and by referencing GameInfo directly without evaluating <code>gameInfoLength</code>, the wrong parent information is obtained. To deal with this problem, changes were made so that when a parent was found with <code>WM_StartScan</code> and it was the beacon without GameInfo, GameInfo is zero-cleared. In additional, the sample demo was changed to actually check the evaluation.</P>

<H3><A name="note17-04" id="note17-04">Note 17-04: (DEMO) Corrected multiboot-Model demo</A></H3>
<P>With the multiboot-Model demo, when a child reconnects to the parent, the channel of the parent changed unexpectedly and the connection could not be established.</P>
<P>When using a cable to connect IS-NITRO-EMULATOR hardware, all channels can be used for connections, and this problem occurs when using the actual wireless feature.</P>
<P>This bug was fixed.</P>

<H3><A name="note17-05" id="note17-05">Note 17-05: (DevEnv) Corrected makebanner tool</A></H3>
<P>In the makebanner tool that was added in 2.0 PR 6 to generate banner files, there was a problem that caused the first line of the description in the banner spec file to be ignored. This problem occurred when the first line in the banner spec file was not a comment line. This has been fixed.</P>
<P>When the character code in the banner spec file was not correct, the empty file was output without generating errors. This problem was solved and changed the description regarding the character code of the reference to &quot;UTF-16LE with BOM.&quot;</P>

<H3><A name="note17-06" id="note17-06">Note 17-06: (DevEnv) Corrected the LIBSYSCALL process and changed the storage location of libsyscall.a</A></H3>
<P>Even though <code>libsyscall.a</code> that is embedded in the final ROM was specified with the make variable <code>LIBSYSCALL</code>, due to the link order of linkers and <code>libsyscall.a</code> was linked as in the default setting.</P>
<P>To avoid relying on the link order specification when specifying <code>LIBSYSCALL</code>, the storage location of the default <code>libsyscall.a</code> was separated from other SDK libraries. By doing so, <code>libsyscall.a</code> files that are specified with <code>LIBSYSCALL</code> is linked preferentially, not according to the link order specification.</P>
<P>The default <CODE>libsyscall.a</CODE> is now stored in the following location. <CODE>libsyscall.a</CODE> is common for Debug/Release/ROM versions.</P>
<BLOCKQUOTE><CODE>$NitroSDK/lib/ARM9-TS/etc/libsyscall.a</CODE></BLOCKQUOTE>
<P>The CodeWarrior IDE users must change the storage location of <code>libsyscall.a</code> in the project file as needed.</P>

<H3><A name="note17-07" id="note17-07">Note 17-07: (DevEnv) Corrected the compression process of overlay with NITRO_COMPRESS</A></H3>
<P>When using the compstatic tool to perform the overlay compression process, a problem occurred and in some cases the proper compressed data was not generated. This bug was fixed.</P>

<H3><A name="note17-08" id="note17-08">Note 17-08: (DevEnv) Changed the font set in banner file</A></H3>
<P>The font set used in banner file was replaced with an updated version. Note that some characters were deleted.</P>
<P>For details regarding banner files, see the guidelines documents regarding the IPL banners.</P>

<H3><A name="note17-09" id="note17-09">Note 17-09: (DevEnv) Restricting the location of the banner file in ROM spec file and counter measures.</A></H3>
<P>If the beginning of the banner file stored in ROM was not 512-byte aligned, it does not operate properly. If the value that is smaller than 512 bytes was specified with the <code>AlignAll</code> command in the spec file, a problem may occur.</P>
<P>To avoid this problem, changes were made so that the operation of Segment All is 512-byte aligned without using the value set with <code>AlignAll</code>.</P>
<P>Note that when the <code>AlignAll</code> command is not being used, it is necessary to insert Align 512 before the <code>BannerFile</code> command.</P>

<H3><A name="note17-10" id="note17-10">Note 17-10: (GX) Corrected bug in register definition</A></H3>
<P>There were some errors in the definition values regarding the hardware register map. These values are not used in SDK, and they will not affect the operation of SDK directly.</P>
<BLOCKQUOTE>REG_GX_VRAMCNT_C_MST_SIZE REG_GX_VRAMCNT_C_MST_MASK REG_GX_VRAMCNT_D_MST_SIZE REG_GX_VRAMCNT_D_MST_MASK REG_GX_VRAMCNT_E_MST_SIZE REG_GX_VRAMCNT_E_MST_MASK</BLOCKQUOTE>
<P>This bug was fixed.</P>

<H3><A name="note17-11" id="note17-11">Note 17-11: (MI) Corrected MI_SendGXCommandAsyncFast</A></H3>
<P>Changes were made so that a separate <code>MI_SendGXCommandAsyncFast()</code> can be started from the DMA callback that was started by <code>MI_SendGXCommandAsyncFast()</code>.</P>

<H3><A name="note17-12" id="note17-12">Note 17-12: (MI) Corrected MI_SendGXCommand()</A></H3>
<P><code>MI_SendGXCommand()</code> was using the automatic DMA, and there was a possibility of conflicting with another automatic DMA. Because of this, <code>MI_SendGXCommand()</code> was made to loop with immediate DMA and the automatic startup was eliminated. The former <code>MI_SendGXCommand()</code> was changed to <code>MI_SendGXCommandFast()</code>, but this includes automatic DMA and should be used with caution.</P>

<H3><A name="note17-13" id="note17-13">Note 17-13: (FS) Corrected the problem of calling FS_GetPathName()</A></H3>
<P>When the <code>FS_GetPathName()</code> function is called, there is a possibility of stopping by <code>SDK_ASSERT</code> because of the errors in the internal process.</P>
<P>This problem was fixed.</P>

<H3><A name="note17-14" id="note17-14">Note 17-14: (OS) Added initialization function to be called by OS_Init()</A></H3>
<P>A change was made on the ARM9 side to call <code>CARD_Init()</code> from <code>OS_Init()</code>.</P>

<H3><A name="note17-15" id="note17-15">Note 17-15: (CARD) Changed the card removal detection process</A></H3>
<P>Corrected the card removal detection process. Previously, some parts such as the card removal during sleep were not working properly.</P>

<P>Previously, to detect card removal, the <code>CARD_IREQ</code> interrupt was checked by ARM9, but the new method uses polling with ARM7. Normally it checks whether the <code>CARD_IREQ</code> interrupt is generated, but when the ROM header information is referenced and then that card uses the <code>CARD_IREQ</code> interrupt, it is done by loading the card ID. When the removal is detected, ARM7 notifies ARM9.</P>

<H3><A name="note17-16" id="note17-16">Note 17-16: (TP) Changed the validity conditions</A></H3>
<P>As a countermeasure for the coordinate jumping which occurs when the pen is released, the conditions that becomes INVALID were changed, and the determination is based on the stricter rules. There may be a possibility of increasing the number of cases where the INVALID flags become on.</P>

<H3><A name="KnownIssues_2_00_fc" id="KnownIssues_2_00_fc">Known problems with SDK 2.0 FC</A></H3>
<UL>
<LI>When <code>NITRO_COMPRESS</code> is specified for <code>make</code>, an error is generated when the base names (the part without the file extension) for the <code>.nef</code> file and the <code>.sbin</code> file, which is the binary for the resident module.
<LI>If the user name for the parent in <code>mb_child.srl</code> is 10 characters, it does not work properly.
</UL>

<H3><A name="Information_2_00_fc" id="Information_2_00_fc">Additional information for SDK 2.0 FC</A></H3>
<H4>Additional information for using the Game Pak</H4>
<P>To recover from sleep by the IREQ interrupts of the Game Pak, it may recover, not only by the removal of the Game Pak, but also by the interrupt from the Game Pak device whose IREQ interrupt is being used for other things.</P>
<P>Consequently, to make the system wake up from sleep by the removal of the Game Pak, proceed only when the Game Pak inserted in the slot is the one expected in the application. Otherwise, do not specify <code>PM_TRIGGER_CARTRIDGE</code> for the trigger for waking from sleep.</P>

<HR>
<a name="sdk_2_0_PR7">
<h2>NITRO-SDK Version 2.0 PR7</h2></a>

<p align=right>(09/21/2004)</p>


<a name="note16-01"><h3>Note 16-01: (WM) Changes in the WM library</h3></a>

<p><ol>
<li>For multiboot parents, there was a problem that a certain parent was more difficult to be found when there are multiple parents. This problem was corrected.</p>
<li>Regarding the compatibility between the wireless library and sound library, a communication problem occurred when using the sound library for heavy load processing while the wireless library is communicating. This problem was solved by giving priority to the wireless library processes over sounds.</p>
<li>With WM library, when the data that was going to be passed to the <code>WM_Initialize</code> function was left in cache in dirty state, it affected the operation of the WM library. This problem was solved.</p>
<li>Up to the version PR6, if <code>minPollBmpMode</code> in <code>WM_StartMPEx</code> was set to TRUE with a parent and the parent communicated with only a certain child for a fixed period of time, other children were disconnected because of the timeout. Especially if the sequential communication was being used at ports with number 8 or higher and some children were forcibly disconnected, the above mentioned problem occurred easily. To solve this problem, change was made so that during the MP communication both the parent and children transmit Keep Alive frame with the number of sendable bytes set to 0, only if <code>minPollBmpMode</code> is set to TRUE.</p>
<li>Corrected the problem that the value that was smaller than the necessary size was returned because of the calculation error in <code>WM_GetMPReceiveBufferSize</code> and <code>WM_MP_SIZE_PARENT_RECEIVE_BUFFER</code>.</p>
<li>Added the "wireless communication time calculation sheet" to the reference. The time required for MP commutation is calculated from the maximum send size of the parent and child.</p>
<li>For the notification of port receiving callback to <code>WM_STATECODE_CONNECTED</code>, <code>DISCONNECTED</code>, changes were made so that aid is always the AID of the connection targets. Its own AID is assigned to <code>myAid</code>.</p>
<li>Added a simplified document regarding the wireless to <code>docs/TechnicalNotes/WirelessManager.doc</code>. A draft was released.</p>
</ol></p>


<a name="note16-02"><h3>Note 16-02: (FS) Corrected problems with loading compressed overlays</h3></a>

<p>When loading an overlay with the program that was built by specifying <code>NITRO_COMPRESS</code>, the entire BSS region was not cleared and the variable of the initial value 0 was not initialized properly. This problem was solved.</p>


<a name="note16-03"><h3>Note 16-03: (CTRDG) Created an API for detecting the Game Pak being pulled out</h3></a>
<p>A system that calls the callback when the Game Pak was pulled out while playing the game. It becomes valid if the Game Pak library was initialized with <code>CARD_Init()</code>. With the default setting, it does not do anything.</p>


<a name="note16-04"><h3>Note 16-04: (CARD) Created an API for detecting the Card being pulled out</h3></a>
<p>A system that calls the callback when the Card was pulled out while playing the game. With the default setting, both processors become the halt state and stop.</p>


<a name="note16-05"><h3>Note 16-05: (GX) Corrected the problem that occurs when creating the display list with G3C</h3></a>
<p>When creating a display list that was packed with G3C, indeterminate data was written because of the processes that deal with the geometry FIFO hardware problems. This problem was solved.</p>


<a name="note16-06"><h3>Note 16-06: (OS) RTC interrupt process</h3></a>
<p>Previously, the RTC interrupt process was emulated by polling at ARM7 because of the conflict problem with IS-NITRO-DEBUGGER. The change was made only with the <code>FinalRom</code> library, and now the RTC interrupt of the NITRO hardware is used.</p>

<p>With the Debug version and Release version, the RTC interrupt is emulated by polling, as it was done with previous versions.</p>


<a name="note16-07"><h3>Note 16-07: (MIC) Changed I/F of auto sampling start function</h3></a>
<p>The <code>MIC_StartAutoSampling</code> and <code>MIC_StartAutoSamplingAsync</code> functions used I/F that specifies the structure directly at the parameter. To cut down on the stack usage, it was changed to the I/F that specifies a pointer to the structure.</p>


<a name="note16-08"><h3>Note 16-08: (SND) Updated the sound library</h3></a>
<p>The sound library included with NITRO-SDK became the 09/16/2004 version.</p>


<a name="note16-09"><h3>Note 16-09: (DevEnv) Including the tool for creating the test viewer of the banner file</h3></a>
<p>Included an addbanner tool for creating the test viewer of the banner file. This tool creates the ROM file that displays the banner information on NITRO screens.</p>


<a name="note16-10"><h3>Note 16-10: (DEMO) Added the final ROM creation demo</h3></a>
<p>Added the demo that creates the final ROM. This demo shows an example of the process that incorporates files that are necessary to be included in the final ROM.</p>

<p>The information in this demo is as of the time of the SDK release. The rules regarding the submission of final ROM may change after the release, so check the latest information on the company's support web site.</p>


<a name="KnownIssues_2_00_pr7"><h3>Known problems with SDK 2.0 PR7</h3></a>
<p>Reference for the attachsign tool is not complete.</p>

<br><br>

<HR>
<a name="sdk_2_0_PR6">
<h2>NITRO-SDK Version 2.0 PR6</h2></a>

<p align=right>(09/13/2004)</p>


<a name="note15-01"><h3>Note 15-01: (OS) Added functions that obtain the system information</h3></a>
<p>Added functions that obtain the owner information that is saved in the Nintendo DS system. It allows to obtain the owner information that the end user edited by using the IPL program in the system.</p>

<p>Also, the function that obtains the MAC address of the wireless hardware in the system was added. The MAC address is set to a different value for each hardware system, and it can be used with an application that does not use the wireless feature.</p>

<p>These are the three functions that were newly added.</p>
<ul>
  <li><code>OS_GetOwnerInfo()</code>
  <li><code>OS_GetOwnerRtcOffset()</code>
  <li><code>OS_GetMacAddress()</code>
</ul>


<a name="note15-02"><h3>Note 15-02: (OS) Implementation of soft reset</h3></a>
<p>Implemented soft reset, and the program can be restarted from the entry point. It is possible to assign any u32 value at the reset time and pass it to the rerun module. This function does not initialize the hardware. Because of this, the processes such as automatic DMA must be terminated before calling this function.</p>
<p>However, the first 16 KB of the ROM data that was loaded at the startup is not reloaded at reset time, and the execution cannot be done if this part is destroyed. The library does not determine it, so it is necessary to make sure that it is not destroyed by the software.</p>
<p>When the system has been started as a child by multiboot, the system cannot be restarted with <code>OS_ResetSystem()</code>. To proceed safely, call <code>OS_Panic()</code> inside <code>OS_ResetSystem()</code> to stop. (after outputting a message, it becomes an infinite loop, except the FINALROM version). If there are any problems with the operation, determine if it is the multiboot child by using <code>MB_IsMultiBootChild()</code> and switch cases.</p>


<a name="note15-03"><h3>Note 15-03: (OS) Added OS_ClearAlloc() that destroys the memory allocation system</h3></a>
<p>Added the <code>OS_ClearAlloc()</code> function that destroys the memory allocation system after it was build in arena with <code>OS_InitAlloc()</code>. After calling <code>OS_ClearAlloc()</code>, a new memory allocation system can be built in the same arena.</p>


<a name="note15-04"><h3>Note 15-04: (OS) Changed the error display when the alarm is set</h3></a>
<p>When there is an attempt to set a new alarm by using the alarm structure that is being used with alarm and V-count alarm, it stops with <code>OS_Panic()</code> regardless of the build method. Previously it stopped only the DEBUG build and others entered infinite loop.</p>


<a name="note15-05"><h3>Note 15-05: (MI) Added definition regarding DMA registers</h3></a>
<p>Added the bit definition of the DMA registers in <code>$NitroSDK/include/nitro/mi/dma.h</code>. Previously it was defined in the header file in the library construction tree, but the location has been changed to make it accessible from an application.</p>


<a name="note15-06"><h3>Note 15-06: (WM) Corrected the wireless control library and added features</h3></a>
<ol>
  <li>Divided the processes for initializing and stopping the library, and added function group to provide detailed control.
      <p>Added functions are shown below.</p>

<TABLE>
<TR>
  <TH colspan="2" align="left">When Initializing</TD>
</TR>
<TR>
  <TD width="120"><code>WM_Init</code></TD>
  <TD>Synchronous function that initializes the work buffer required for the library.</TD>
</TR>
<TR>
  <TD width="120"><code>WM_Enable</code></TD>
  <TD>Changes the wireless hardware to be the usage permitted state. It also starts the LED to blink.</TD>
</TR>
<TR>
  <TD width="120"><code>WM_PowerOn</code></TD>
  <TD>Starts up the wireless hardware and executes initialization that is necessary.</TD>
</TR>
</TABLE>
<p></p>
<TABLE>
<TR>
  <TH colspan="2" align="left">When Stopping</TD>
</TR>
<TR>
  <TD width="120"><code>WM_PowerOff</code></TD>
  <TD>Shuts down the wireless library.</TD>
</TR>
<TR>
  <TD width="120"><code>WM_Disable</code></TD>
  <TD>Changes the wireless hardware to be the usage prohibited state. It also stops the blinking of the LED.</TD>
</TR>
<TR>
  <TD width="120"><code>WM_Finish</code></TD>
  <TD>Synchronous function that stops the library and releases the work buffer.</TD>
</TR>
</TABLE>

<p>To reduce the battery power consumption, try not to start up the wireless hardware until immediately before the startup of the actual wireless communication (<code>WM_PowerOn</code>). Also, when the wireless communication is not needed (<code>WM_PowerOff</code>), shut down the wireless hardware.</p>
  <li>There was a problem with the wireless communication while the sound is being played because the wireless library DMA and the sound library DMA compete in ARM7. There are still some restrictions on the use of sounds, but the problem that the wireless communication was dissolved. This is also explained in "Note 15-16: (WM/SND) Dealt with the problem with simultaneous use of the wireless and sound features."</p>
  <li>Fixed the bug that caused the callback of <code>WM_SetMPDataToPort()</code> to return a success value even if the transmission was not complete due to the weak radio wave signals. This change solved the rare problem that stopped the data sharing.</p>
  <li>There was a problem with the process when <code>pollBitmap</code> (Poll map) was not being sent to itself, and it was causing a problem when the target child for the communication was switched by <code>pollBitmap</code>. This problem was solved.</p>
  <li>Added restriction for starting the communication as the parent so that the <code>WM_INVALID_PARAMETER</code> error is returned when a specified value is larger than the size of the data that can be transmitted with one MP communication. Added a feature to debug output the warning when the transfer data size is larger than the recommended value, as it is explained in the programming guide line.</p>
  <li>With the child's application, when the state value, which is the argument for the callback to <code>WM_StartMP()</code>, was set to <code>WM_STATECODE_MP_IND</code>, it only passed <code>WM_ERRCODE_SUCCESS</code> as errcode. With NITRO-SDK 2.0 PR6 and later versions, <code>WM_ERRCODE_INVALID_POLLBITMAP</code> is returned when itself was not included in pollBitmap of MP.</p>
<p>This situation occurs frequently when there are more than two children in the MP communication, and it should not be treated as unrecoverable error.</p>
  <li>With the child's application, <code>WM_ERRCODE_SUCCESS</code>, <code>WM_ERRCODE_TIMEOUT</code>, and <code>WM_ERRCODE_FAILED</code> were passed as errcode when the state value, which is the argument for the callback to <code>WM_StartMP()</code>, was set to <code>WM_STATECODE_MP_IND</code>. It was corrected as shown below.</p>
    <ul><li>Made changes to return <code>WM_ERRCODE_INVALID_POLLBITMAP</code> when itself is not included in pollBitmap at the corresponding MP frame. This occurs frequently when more than 2 children are used for the MP communication, and it should not be treated as unrecoverable error.
        <li>Previously, <code>WM_ERRCODE_FAILED</code> was returned when itself was included in pollBitmap with MPACK (in other words, when the parent could not receive the reply). This was changed to return <code>WM_ERRCODE_SEND_FAILED</code>.
    </ul></p>
  <li>Previously, <code>WM_ERRCODE_SUCCESS</code>, <code>WM_ERRCODE_TIMEOUT</code>, and <code>WM_ERRCODE_FAILED</code> were used as the errcode that was passed to the callback of <code>WM_SetMPData()</code> and <code>WM_SetMPDataToPort()</code>. However, <code>WM_ERRCODE_TIMEOUT</code> and <code>WM_ERRCODE_FAILED</code> were combined into <code>WM_ERRCODE_SEND_FAILED</code>. In doing so, <code>WMPortSendCallback.destBitmap</code> now includes the bitmap of aid for the child that needs to retry after the communication failure. (the child that was disconnected during the communication is not included in destBitmap.)</p>
  <li>Changed the procedure for calling the callback every time the MP communication ends at the parent when the state value in the callback of <code>WM_StartMP()</code> was set to <code>WM_STATECODE_MPEND_IND</code>. 
Previously, the order of callbacks was:</p>
    <ol><li>Transmission complete callback (callback of <code>WM_SetMPDataToPort()</code>)
        <li><code>WM_STATECODE_MPEND_IND</code> (callback of <code>WM_StartMP()</code>)
        <li>Port receiving callback (each callback registered with <code>WM_SetPortCallback()</code>)
    </ol>
<p>However, the order was changed to:</p>
    <ol><li>Port receiving callback (each callback registered with <code>WM_SetPortCallback()</code>)
        <li>Transmission complete callback (callback of <code>WM_SetMPDataToPort()</code>)
        <li><code>WM_STATECODE_MPEND_IND</code> (callback of <code>WM_StartMP()</code>)
    </ol></p>
<p>This change was made so that data that reflects the latest receive data is transmitted immediately when the standard structure such as executing the next <code>WM_SetMPDataToPort()</code> by the callback of <code>WM_SetMPDataToPort()</code> is used for the program.</p>
  <li>Added the <code>WM_SetMPDataToPortEx()</code> function. User defined data can be added to the argument of the transmission complete callback.</p>
  <li>The maximum send size of the child processed with <code>WMParentParam</code> was set to the size that was 2 bytes smaller than the specified value. This problem was solved. <code>parentMaxSize</code> and <code>childMaxSize</code> were the parameters that specify the maximum size of user data to be transmitted. There is no need to count the size of the control data in the wireless library.</p>
  <li>To use key sharing with NITRO-SDK 2.0 PR5, it was necessary to explicitly add the value that is used for key sharing to the maximum send bytes. It was changed so that the maximum send bytes were automatically expanded by the amount of data used for key sharing by setting TRUE with <code>WMParentParam.KS_Flag</code>.</p>
  <li>The argument <code>ksFlag</code> was added to each of the function macros of <code>WM_SIZE_MP_PARENT_SEND_BUFFER</code>, <code>WM_SIZE_MP_PARENT_RECEIVE_BUFFER</code>, <code>WM_SIZE_MP_CHILD_SEND_BUFFER</code>, and <code>WM_SIZE_MP_CHILD_RECEIVE_BUFFER</code>.
To calculate the buffer size for key sharing, specify TRUE, if not FALSE, to ksFlag.</p>
  <li>Corrected the problem that the child connection information was not reset properly when <code>WM_Reset</code> was called.</p>
  <li>Added <code>WM_SetMPFrequency</code> that changes the frequency of MP communication dynamically.</p>
</ol>


<a name="note15-07"><h3>Note 15-07: (WM) Included the wireless strength icon</h3></a>
<p>Included the icon in the following location to indicate the strength of wireless communication. For more rules and regulations, see the guidelines for the wireless communication.</p>
<code>$NitroSDK/data/wl_icons</code>


<a name="note15-08"><h3>Note 15-08: (WBT) Test release of the block transfer library</h3></a>
<p>Test released WBT, the library that enables the block transfer protocol between a parent and a child by using the MP communication of the wireless library (WM).</p>

<p>The following problems have been found in this test release.</p>
<ul>
  <li>DEBUG version of WBT demo does not work properly.
  <li>WBT library does not include reference for the release of 2.0 PR 6.
</ul>


<a name="note15-09"><h3>Note 15-09: (SND) Updated the sound library</h3></a>
<p>The sound library that is distributed with NITRO-SDK became the 09/02/2004 version.</p>


<a name="note15-10"><h3>Note 15-10: (DevEnv) Added support for the compressed resident module</h3></a>
<p>Added feature for compressing the resident module that is loaded with IPL. Because of this, ROM capacity and the initial load size for the startup can be reduced.</p>

<p>In the make system of SDK, this feature is automatically enabled if a value is set to the macro variable <code>NITRO_COMPRESS</code>.  Consider the tradeoffs in the extraction time before using this feature. When the compression is enabled in SDK, the following processes are executed.</p>

<ol>
  <li>With compstatic command, executes the compression process of the region excluding the header part of the resident module execution binary.
  <li>Stores the obtained compressed module file to ROM by the makerom command, in the same way as the normal module files.
  <li>The compressed module is extracted in <code>crt0.c</code> after it was executed.
</ol>

<p>It is possible to compress the overlay module in the same way as the resident module. Extraction of the overlay module is integrated into the related APIs, so there is no need to be conscious about the processing when you access the module via API.</p>

<p>In order to implement this process, the following tool files have been changed from NITRO-SDK 2.0 PR5. When using an unique rsf file and <code>lcf.template</code> file, these files need to be changed.</p>

<ul>
  <li><code>$NitroSDK/include/nitro/specfiles/ROM-TS.rsf</code>
  <li><code>$NitroSDK/include/nitro/specfiles/ARM9-TS.lcf.template</code>
</ul>

<p>This compression and extraction processes can be applied to the execution module in the ROM file that is passed to the multiboot child.</p>


<a name="note15-11"><h3>Note 15-11: (DevEnv) Startup of nitload by make run</h3></a>
<p>Changes were made to startup nitload of the sample program that is included in the IS-NITRO-DEBUGGER package by specifying run for the <code>make</code> command target.</p>


<a name="note15-12"><h3>Note 15-12: (DevEnv) Provided ferret component that supports each hardware versions</h3></a>
<p>Included ferret (ARM7 component without the wireless features) that supports each TS versions of the hardware such as IS-NITRO-EMULATOR. Normally, there should not be any problems with using mongoose (ARM7 component with the wireless feature), so there is no need to use ferret in the TS environment unless you need to compile the source for the TEG environment without any changes.</p>


<a name="note15-13"><h3>Note 15-13: (OS) Corrected OS_CheckHeap()</h3></a>
<p>Previously, it was made to get out of the function with interrupts prohibited when the heap check was executed in <code>OS_CheckHeap()</code> and the check failed. This problem was corrected.</p>


<a name="note15-14"><h3>Note 15-14: (MI) Corrected problems with runlength compression of ntrcomp.exe</h3></a>
<p>There was a problem with the runlength compression routine at tools/bin/ntrcomp, and the 129 to 130 bytes at the end of file were not extracted properly if the uncompressed data block size at the end of file was 129 to 130 bytes.
This problem has been changed.</p>


<a name="note15-15"><h3>Note 15-15: (MI) Corrected the DMA processing</h3></a>
<p>With the process that checks to make sure that multiple automatic DMAs are not started, the ones that are started and the ones that are not started were treated the opposite way. This was corrected so that the check is executed properly.</p>


<a name="note15-16"><h3>Note 15-16: (WM/SND) Dealt with the problem with simultaneous use of the wireless and sound features</h3></a>
<p>With NITRO-SDK 2.0 PR5, there was a problem that the wireless feature did not work properly when the wireless and sound features were used at the same time. This problem was solved.</p>

<p>However, because of the DMA hardware specification, there is a possibility of interrupting the sound when the playback causes a large burden on the data transfer, such as playing the waveform data with the sampling rate of 44kHz at the pitch that is 3 octaves higher.</p>


<a name="note15-17"><h3>Note 15-17: (MB) Corrected the problem with the return value of the MB_GetSegmentLength function</h3></a>
<p>A problem was found and the return value of the <code>MB_GetSegmentLength</code> function was smaller that the size that was actually required. This problem was solved.</p>


<a name="note15-18"><h3>Note 15-18: (MB) Corrected the malfunction of the Debug version of Multiboot sample</h3></a>
<p>There was a problem with the Debug version of the MB demo Multiboot sample in NITRO-SDK 2.0 PR5, and the startup was stopped with GX error. Also with the Debug version, there was a problem that caused the improper operation in the interrupt hander during the downloading process due to the lack of stack area.</p>


<a name="note15-19"><h3>Note 15-19: (CARD) Corrected the problem of calling the backup access function for the first time</h3></a>
<p>When the backup access function of CARD was called, the function failed only at the first time it was called. This problem was solved.</p>


<a name="note15-20"><h3>Note 15-20: (PRC) Corrected the stack overflow of CharacterRecognition-1 demo</h3></a>
<p><code>CharacterRecognition-1</code> demo in NITRO-SDK 2.0 PR5 was not working properly due to the stack overflow. This problem was solved.</p>


<a name="note15-21"><h3>Note 15-21: (OS) Added OS_TPrintf (simplified version of printf)</h3></a>
<p>Added console output functions such as <code>OS_TPrintf</code> that reduces the stack consumption size by using <code>OS_VSNPrintf</code>.  With <code>OS_TPrintf</code>, the code usage and stack usage are reduced by removing floating points from the usable format.</p>

<p>Usable formats depend on <code>OS_VSNPrintf</code>. For details, see the <code>OS_VSNPrintf</code> manual.</p>


<a name="KnownIssues_2_00_pr6"><h3>Known problems with SDK 2.0 PR6</h3></a>
<p>Reference for compstatic and attachsign tools is not complete.</p>

<br><br>

<HR>
<a name="sdk_2_0_PR5">
<h2>NITRO-SDK Version 2.0 PR5</h2></a>

<p align=right>
(8/30/2004)</p>



<h3><a name="note14-01">Note 14-01</a>: (WM) [Important] Corrected the wireless control library and added features</h3>
<ol>
<li>Changed the data structure that the parent broadcasts<br />
The user name and game name were deleted from the system reserved region. The developer region was also expanded from 64 bytes to the maximum of 112 bytes. The user name and game name are stored in the developer region, when needed.</li><BR /><BR />

<li>Added a feature to notify the 24-byte child information when a child connects to the parent<br />
The contents of the 24-byte child information was opened to developers so that a child can notify the parent of the application-specific information. In addition, the <CODE>WM_StartConnect()</CODE> function and the interface of the <CODE>WMStartParentCallback</CODE> structure were changed.</li><BR /><BR /><BR />

<li>Added features to control the details of multi-port (MP) communication<br />
Until SDK-PR4, it was possible to execute one MP communication per frame (one picture frame) or continuous transfer regardless of the frames. The feature that executes multiple times of MP communication per frame is now available.<br />
Along with this change, the interface of the WM_StartMP function has changed. Also, added the <CODE>WM_StartMPEx()</CODE> function to allow detailed settings.</li><BR /><BR />

<li>Extended the feature that changes the data broadcast by the parent during the communication<br />
Added feature that changes the parent attribute, such as receiving entry and accepting multiboot, during the communication.<br />
Along with this change, the interface of the <CODE>WM_SetGameInfo()</CODE> function has changed.</li><BR /><BR />

<li>Added single-function APIs as shown below
  <ul>
  <li><CODE>WM_DisconnectChildren</CODE><br />
&nbsp;&nbsp;&nbsp;&nbsp;The parent disconnects all of the children that are connected.</li>
  <li><CODE>WM_GetMPSendBufferSize</CODE><br />
&nbsp;&nbsp;&nbsp;&nbsp;Calculates the size of the send buffer required for MP communication.</li>
  <li><CODE>WM_GetMPReceiveBufferSize</CODE><br />
&nbsp;&nbsp;&nbsp;&nbsp;Calculates the size of the receive buffer required for MP communication.</li>
  <li><CODE>WM_GetAllowedChannel</CODE><br />
&nbsp;&nbsp;&nbsp;&nbsp;Obtains a channel that was permitted during the communication.</li>
  <li><CODE>WM_SetEntry</CODE><br />
&nbsp;&nbsp;&nbsp;&nbsp;Switches between the parent accepting or rejecting the connection request from a child.</li>
  <li><CODE>WM_GetLinkLevel</CODE><br />
&nbsp;&nbsp;&nbsp;&nbsp;Obtains the link strength of the communication with the communication target.</li>
  <li><CODE>WM_ConvGgid*</CODE><br />
&nbsp;&nbsp;&nbsp;&nbsp;Converts the game group ID.</li>
  </ul>
</li><BR />

<li>Corrected the sample demos<br />
Sample demos were changed due to the specification change to WM libraries. The sample &quot;ball&quot; was not guaranteed to work in SDK-PR4, but the sample works correctly in SDK-PR5.</li><BR /><BR />

<li>Corrected a problem with the <CODE>WM_Disconnect()</CODE> function<br />
A child was not disconnected properly when CODE>WM_Disconnect()</CODE> was called by a child.<br />
This problem is fixed.</li>
</ol>



<h3><a name="note14-02">Note 14-02</a>: (MI) [Important] Dealt with hardware restrictions related to the automatic DMA</h3>

<p>Added processes to deal with hardware restrictions or generate warnings for the automatic DMAs that do not process immediately, listed below:</p>
<PRE>    V-blank startup
    H-blank startup
    Display synchronization
    Work RAM display
    Memory Card data
    Game Pak DMA
    Geometry Command FIFO
</PRE>

<p>The automatic DMAs cannot be used together. When an attempt was made to start multiple DMAs, it was stopped with <CODE>OS_Panic()</CODE>. However, H-blank startup DMA and V-blank startup DMA can be used together.</p>

<p>Also, the following corrections were made to the Geometry Command FIFO DMA.</p>
<ul>
<li>The synchronous version of <CODE>MI_SendGXCommand()</CODE> was moved to ITCM.</li>

<li>The asynchronous version of <CODE>MI_SendGXCommandAsync()</CODE> was changed so it does not use the automatic DMA of the Geometry Command to make it possible to use it with other automatic DMAs. The asynchronous transfer became possible by controlling the immediate DMA using software interrupts.</li>

<li>In the asynchronous version in SDK 2.0 PR4 or earlier, <CODE>MI_SendGXCommandAsync()</CODE>, which uses the automatic DMA, was changed to <CODE>MI_SendGXCommandAsyncFast()</CODE>.</li>
</ul>



<h3><a name="note14-03">Note 14-03</a>: (DevEnv) [Important] Included the component and library that support the hardware version</h3>

<p>Included the mongoose component and <CODE>libspi.</CODE>, a library that support each version of TS hardware. To switch the component and library in the make system of SDK, set the TS board version number for the environment variable NITRO_TS_VERSION. If the NITRO_TS_VERSION is not set, then NITRO_TS_VERSION=100 (IS-NITRO-EMULATOR hardware version D) is selected.</p>

<p>To create an application that supports IS-NITRO-EMULATOR hardware version E, it needs to be set as NITRO_TS_VERSION=200.</p>

<p>The supported components and libraries are shown below.</p>
<TABLE width="720">
<TR>
  <TD width="187"><STRONG>TS version number</STRONG></TD>
  <TD width="525"><STRONG><CODE>mongoose/libspi.a</CODE> file names that correspond (e.g. for ARM and Release versions)</STRONG></TD>
</TR>
<TR>
  <TD width="187">0</TD>
  <TD width="525">
<CODE>$NitroSDK/component/mongoose/ARM7-TS/Release/mongoose_sub_TS0.*</CODE><BR />
<CODE>$NitroSDK/lib/ARM9-TS/Release/libspi_TS0.a</CODE>
  </TD>
</TR>
<TR>
  <TD width="187">100</TD>
  <TD width="525">
<CODE>$NitroSDK/component/mongoose/ARM7-TS/Release/mongoose_sub_TS100.*</CODE><BR />
<CODE>$NitroSDK/lib/ARM9-TS/Release/libspi_TS100.a</CODE>
  </TD>
</TR>
<TR>
  <TD width="187">200-</TD>
  <TD width="525">
<CODE>$NitroSDK/component/mongoose/ARM7-TS/Release/mongoose_sub_TS200.*</CODE><BR />
<CODE>$NitroSDK/lib/ARM9-TS/Release/libspi_TS200.a</CODE>
  </TD>
</TR>
</TABLE>



<h3><a name="note14-04">Note 14-04</a>: (DevEnv) Ended support for mongoose in the TEG environment</h3>

<p>Due to the increasing size of the source code, it is increasingly difficult to support the wireless component of mongoose in the TEG environment. Because of this, support for this feature has been terminated.</p>



<h3><a name="note14-05">Note 14-05</a>: Added files that begin with a dot &quot;.&quot; to the initial values used when specifying Reject in <CODE>makerom</CODE></h3>

<p>Corrected <CODE>makerom</CODE>, and added file names and file directory names that start with a dot &quot;.?*&quot; to the initial values used for Reject (or with wildcard it is &quot;.?*&quot;) By doing so, files in the <CODE>.svn</CODE> directory, which is the control directory of the version management system Subversion, are not added to the ROM file.</p>

<p>As in the previous version of makerom, in order to add the files that start with &quot;.?*&quot; to the ROM file system, Reject must be reset at the beginning of the <CODE>RomSpec</CODE> section in the <CODE>rsf</CODE> file.</p>

<PRE>    Reject CVS vssver.scc
</PRE>

<p>If you were already using the file name that begins with &quot;.&quot;, pay special attention.</p>



<h3><a name="note14-06">Note 14-06</a>: Changed to CodeWarrior version 0.6.1 to build the SDK</h3>

<p>NITRO SDK PR5 uses version 0.6.1 of CodeWarrior for building the SDK binary file. CodeWarrior 0.6.1 is included in the SDK.</p>



<h3><a name="note14-07">Note 14-07</a>: (DevEnv) Corrected the problem that code in the .itcm/.dtcm sections was not placed in ITCM/DTCM</h3>

<p>In the <CODE>ARM9-TS.lcf.template</CODE> file, the way the .itcm/.dtcm sections were placed was different from what was expected in <CODE>makelcf</CODE>, and the codes defined in the .itcm/.dtcm sections were not placed in the autoload section of ITCM/DTCM.</p>

<p><CODE>Makelcf</CODE> was corrected, and in case an Object/Library description did not limit the section, the section placed by this description is now limited to the basic section used by the compiler (such as text, .rodata, .data, and .sdata). It does not include sections such as .itcm/.dtcm that were newly defined in theNITRO-SDK.</p>



<h3><a name="note14-08">Note 14-08</a>: (GX) Corrected problems with the mosaic size setting</h3>

<p>When setting the mosaic size, there were problems with <CODE>G2*_SetBGMosaicSize()</CODE>, which clears the OBJ mosaic, and <CODE>G2*_SetOBJMosaicSize()</CODE>, which clears the BG mosaic.</p>

<p>These problems are fixed.</p>



<h3><a name="note14-09">Note 14-09</a>: (GX) Corrected problems with the definitions, such as <CODE>GX_InitEx()</CODE> in <CODE>gx.h</CODE></h3>

<p>In <CODE>$NitroSDK/include/nitro/gx.h</CODE>, <CODE>GX_InitEx()</CODE> and <CODE>GX_GetDefaultDMA()</CODE> were not declared as inline functions. This problem was corrected.</p>



<h3><a name="note14-10">Note 14-10</a>: (CARD) Support for FLASH device</h3>

<p>The CARD module now supports FLASH device as well as EEPROM device. With sub board and flash card, this can be used on the retail product and the debugger.</p>



<h3><a name="note14-11">Note 14-11</a>: (CARD) Corrected the problem with calling <CODE>CARD_Init()</CODE> with interrupts prohibited</h3>

<p>There was a problem when calling <CODE>CARD_Init()</CODE> with interrupts prohibited, the control was not returned from the function.</p>

<p>This problem is fixed.</p>



<h3><a name="note14-12">Note 14-12</a>: (CARD) Corrected the problem with calling <CODE>CARD_IdentifyBackup()</CODE></h3>

<p>After calling <CODE>CARD_IdentifyBackup()</CODE> and its process has completed, the callback function that was specified with the last executed CARD asynchronous function was called again.</p>

<p>This problem is fixed.</p>



<h3><a name="note14-13">Note 14-13</a>: (MI) Changed how main memory access rights are switched to avoid a DMA startup delay</h3>

<p>When executing a DMA transfer using either the Main memory display startup DMA mode or the H-Blank DMA mode, the access right priority must be &quot;ARM9.&quot; Otherwise, the display may not appear properly due to a delay in the DMA automatic startup when ARM7 tries to access the main memory. The access right priority is specified with <code>MI_SetMainMemoryPriority()</code>.</p>

<p>Changes were made so that switching access rights is done with <code>gx/UnitTours/2D_BmpBg_MainRam</code> and <code>gx/UnitTours/Window_HDMA</code>, which use these DMAs. Also, the same information was added to the related reference manuals.</p>



<h3><a name="note14-14">Note 14-14</a>:  (OS) Corrected the Tick value retrieval function</h3>

<p>If the Tick value was obtained while the compiler optimization level was at or above a certain level, an correct value could not be obtained when the timer interrupt used with the Tick value was issued at a specfic time.</p>

<P>This problem is fixed.</P>



<h3><a name="note14-15">Note 14-15</a>: (OS) Stopped the interrupt check flag automatic setting for V-Blank interrupt</h3>

<p>In NITRO-SDK 2.0 PR4, the interrupt check flag (<CODE>IrqCheckFlag</CODE>) was automatically set to ON during V-Blank. This change was cancelled in the ARM9 library, and it was returned to the previous setting.</p>

<p>Regarding the operation to turn <CODE>IrqCheckFlag</CODE> ON internally in the OS, <CODE>IrqCheckFlag</CODE> can be called multiple times without causing any problems, so there are no problems with <CODE>IrqCheckFlag</CODE> being turned on every time V-Blank is called in the application. However, it was the cause of the malfunction for the application that turns on <CODE>IrqCheckFlag</CODE> once every two frames during the V-Blank process in order to update the status at the timing of 30 frames per second.</p>

<p>This is equivalent of the <CODE>IrqCheckFlag</CODE> patch in version 2.0 PR4.</p>



<h3><a name="note14-16">Note 14-16</a>: (OS) Changed the location of DTCM in the TS environment</h3>

<p>As announced in <a href="#note10-02">Note: 10-02</a>, the DTCM addresses have changed, but there was one part that was not changed.</p>

<p>This part was fixed. As a result of this change, DTCM is always <CODE>0x27c0000</CODE>, regardless of the environment.</p>



<h3><a name="note14-17">Note 14-17</a>: (OS) Calling <CODE>PM_Init()</CODE> inside <CODE>OS_Init()</CODE></h3>

<p><CODE>PM_Init()</CODE> is now called from inside <CODE>OS_Init()</CODE> of ARM9.</p>



<h3><a name="note14-18">Note 14-18</a>: (OS) Determining the proper operating environment using <CODE>OS_GetConsoleType()</CODE></h3>

<p>When using IS-NITRO-DEBUGGER, if the Game Pak slot power was on, the result of the operating environment obtained by <CODE>OS_GetConsoleType()</CODE> was returned as <CODE>IS-NITRO-EMULATOR</CODE>, which was a wrong result.</p>

<p>This problem is fixed, so the function returns <CODE>IS-NITRO-DEBUGGER</CODE>, a correct result</p>



<h3><a name="note14-19">Note 14-19</a>: (TP) Error when determining whether the touch panel is touched</h3>

<p>A hardware problem was found in determining whether the touch panel is being touched. If the coordinate value was measured when it was halfway between being touched and not being touched, sometimes it became a correct value.</p>



<h3><a name="note14-20">Note 14-20</a>: (PM) Added the RTC alarm as a trigger to awaken from sleep</h3>

<p>Now the RTC alarm can serve as a trigger to awaken from sleep.</p>



<h3><a name="note14-21">Note 14-21</a>: (RTC) Operating the RTC in a fixed 24 hour notation</h3>

<p>In previous versions, 12- or 24-hour time notation can be selected for the notation display format. Since the 24-hour notation is used in the boot menu, the time format has been fixed to 24-hour format to avoid problems.</p>

<p>The time display selection API can no longer be used, and the information indicating morning or afternoon has been deleted from the API. Also, the time notation display in the sample demo rtc-1 is fixed to 24-hour notation.</p>



<h3><a name="note14-22">Note 14-22</a>: Corrected the problem with pressing the A button during application startup</h3>

<p>Because of the operation in the NITRO boot menu, the A button is more likely to be pressed when starting up of a game application. It requires some caution if the application causes some actions by pressing A button.</p>

<p>For determining some of the demo button triggers (buttons that were newly pressed in that frame), the initial value was set to 0 (not being pressed). However, this was changed so that the initial value is set with the current status of the button.</p>



<h3><a name="note14-23">Note 14-23</a>: (Doc) Added reference manuals for auxiliary tools such as <CODE>ntrcomp</CODE></h3>

<p>Added reference manuals for the <CODE>ntrcomp</CODE> tool and <CODE>ppmconv*</CODE> tools (<CODE>ppmconv/ppmconv8/ppmconvbg </CODE>). </p>

<br><br>

<h3><a name="KnownIssues_2_0_PR5">Known Problems in SDK 2.0 PR5</a></h3>

<p>None.</p>


<HR>
<a name="sdk_2_0_PR4">
<h2>NITRO-SDK Version 2.0 PR4</h2></a>

<p align=right>
(8/11/2004)</p>




<a name="note13-01">
<h3>Note 13-01: (WM) Corrected and added functions to the wireless control library</h3></a>

<ol>
<li>The port control feature was added. This feature enables the data communication of multiple upper-level protocols by using the MP protocol.</LI>
<li>Data sharing feature was added.  A sample that executes data sharing among multiple units of NITRO is available on:<br>
<code>&nbsp;&nbsp;&nbsp;$NitroSDK/build/demos/wm/dataShare-1</CODE><br>
The implementation of the key sharing feature has been changed so that it was realized by using this data sharing feature internally. The operation of the "ball" sample, which was provided as demo, has not been checked, and it may not work properly.</LI>
<li>Made significant changes to the structure of the structure used for the internal control. Along this change, the buffer size that is required by the WM  library was expanded.</LI>
<li>Changes were made so that during the MP communication the callback is generated every time the MP packet transfer is completed.</LI>
<li>The single-functionality APIs shown below were added:<br>
<code>
&nbsp;&nbsp;&nbsp;WM_SetLifeTime()<br>
&nbsp;&nbsp;&nbsp;WM_MeasureChannel()<br>
&nbsp;&nbsp;&nbsp;WM_InitWirelessCounter()<br>
&nbsp;&nbsp;&nbsp;WM_GetWirelessCounter()</CODE><br><br>

The block transfer feature and enhanced upper-level library are being developed.</LI>
</ol>


<br>

<a name="note13-02">
<h3>Note 13-02: (MB) Added the DS Download Play (multiboot) library</h3></a>

<p>The DS Download Play library was added to NITRO-SDK. This is the API that provides the DS Download Play function, which sends the game program to the NITRO that has no card. Internally, this library uses the wireless manager (WM) library.</p>

<p>The program for executing multiboot, <code>mb_child.srl</code> (changed from <code>mb_child.<b>bin</b></code> in SDK 2.0 PR5), was included in the directory shown below. This program operates the same way as the retail version of a child that has no card. Use this for the operation tests until the multiboot feature is added to IPL.</p>
<PRE>    $NitroSDK/build/demos/mb/multiboot
</pre>

<p>Demo sample for the multiboot function that was added at the same time is included in the directory shown below.</p>
<pre>    $NitroSDK/bin/ARM9-TS/Release/mb_child.srl
</pre>


<br>

<a name="note13-03">
<h3>Note 13-03: (PM) Added the PM library</h3></a>

<p>This is the API for controlling the power management IC. By using this library, it is now possible to manage the LCD and backlight power supply and to check the power remaining in the battery.</p>


<br>

<a name="note13-04">
<h3>Note 13-04: (MIC/TP) Added parallel operation of microphone sampling and the touch panel</h3></a>

<p>Changes were made so that the one time touch panel sampling can be processed during the microphone auto sampling. When the touch panel request was received during the microphone auto sampling, the touch panel data read process is executed the next time the microphone sampling ends.</p>

<p>If the touch panel sampling was not completed before the next microphone sampling time, it is assumed to that the microphone's data has dropped and the microphone sampling value will be interpolated by using the immediately preceding value.</p>

<p>A demo for this feature is included in the directory shown below:</p>
<PRE>    $NitroSDK/build/demos/spi/spiMonkey2
</pre>


<br>

<a name="note13-05">
<h3>Note 13-05: (MIC) Added microphone support and preprocessing with <CODE>IS-NITRO-DEBUGGER</CODE></h3></a>

<p>With the hardware with the mass produced version of the power management IC (PMIC), the preprocessing is now required to operate the amp in the PMIC to obtain the correct microphone output value. For this, processes that operate parameters such as the PMIC amp gain value were added to the <CODE>mic-1</CODE>, <CODE>mic-2</CODE>, and <CODE>spiMonkey</CODE> demos.</p>

<p>Also with this preprocessing, a macro value SDK_TS_VERSION was introduced to be able to work with different versions of PMIC. The environment variable NITRO_TS_VERSION was added to change the macro value dynamically. The NITRO_TS_VERSION value defined when it was built is passed to SDK_TS_VERSION, which takes the values shown below.</p>
<TABLE width="720">
<TR>
  <TD width="187"><STRONG>SDK_TS_VERSION</STRONG></TD>
  <TD width="525"><STRONG>Description of the device</STRONG></TD>
</TR>
<TR>
  <TD width="187">0</TD>
  <TD width="525">From TS breadboard to <CODE>IS-NITRO-EMULATOR</CODE> Version C.</TD>
</TR>
<TR>
  <TD width="187">100</TD>
  <TD width="525"><CODE>IS-NITRO-EMULATOR</CODE> Version D.</TD>
</TR>
<TR>
  <TD width="187">200</TD>
  <TD width="525">The device equipped with the next version of PMIC.</TD>
</TR>
</TABLE>

<p>With the PMIC of the <CODE>IS-NITRO-EMULATOR</CODE> Hardware Version D, a significant amount of noise is added to the microphone device if the backlight of the LCD is lit. This hardware problem will be solved but, until then, turn off the LCD when you use the mic-1 demo microphone.</p>


<br>

<a name="note13-06">
<h3>Note 13-06: (MIC) Corrected the mic2wav tool</h3></a>

<p>The <CODE>mic2wav</CODE> opened the output file as a text file, and data was not converted properly. This problem is fixed.</p>


<br>

<a name="note13-07">
<h3>Note 13-07: (GX) Changed the LCD power management function</h3></a>

<p>The LCD power management function was changed to <CODE>PM_SetLCDPower</CODE>. Along with this change, the following functions and the definitions of the enumerator types were deleted.</p>
<UL>
<LI>Function<BR>
<CODE>&nbsp;&nbsp;&nbsp;GX_PowerLCD(), GX_PowerLCDTop(), GX_PowerLCDBot()</CODE>
</LI><BR><BR>

<LI>Definition value of the GXPower enumerator type<BR>
<CODE>
&nbsp;&nbsp;&nbsp;GX_POWER_LCD, GX_POWER_LCDTOP, GX_POWER_LCDBOT
</CODE></LI>
</UL>


<br>

<a name="note13-08">
<h3>Note 13-08: (GX) Added <CODE>G3*_MultTransMtx33</CODE></h3></a>

<p>To shorten the geometry engine execution time, added the <CODE>G3*_MultTransMtx33</CODE> function, which multiplies by packing <CODE>G3*_MultMtx33</CODE> and <CODE>G3*_Translate</CODE> as one matrix.</p>


<br>

<a name="note13-09">
<h3>Note 13-09: (GX) Added functions to set the DMA number used by GX</h3></a>

<p>Added <CODE>GX_InitEx()</CODE>, <CODE>GX_SetDefaultDMA()</CODE>, and <CODE>GX_GetDefaultDMA()</CODE> to use as a function to set and obtain the DMA number used by GX. By specifying <CODE>GX_DMA_NOT_USE</CODE> for the DMA number, it can be set not to use the DMA.</p>


<br>

<a name="note13-10">
<h3>Note 13-10: (GX) Corrected problems with <CODE>GX_PowerGeometry()</CODE> and <CODE>GX_Power3D()</CODE></h3></a>

<p>With <CODE>GX_PowerGeometry()</CODE>, <CODE>GX_Power3D()</CODE>, the power for the geometry engine was not turned off. This problem was solved.</p>


<br>

<a name="note13-11">
<h3>Note 13-11: (GX) Changed the write restriction to the register of GX_SetGraphicsMode()</h3></a>

<p>Made changes so that the BG mode and BG0 2D/3D selection flag were reflected to the register even when it is not in display mode. This value is referenced for using display capturing when it is set other than graphics display mode.</p>


<br>

<a name="note13-12">
<h3>Note 13-12: (CARD) Released the official NITRO-CARD access API</h3></a>

<p>Released the function groups for accessing the devices that are on the NITRO-CARD. It can be used on the retail product by using the sub board and flash card.</p>


<br>

<a name="note13-13">
<h3>Note 13-13: (FS) Corrected the problem in which the file ID obtained by <CODE>FS_ReadDir</CODE> did not match</h3></a>

<p>When using the <CODE>FS_ReadDir</CODE> function to enumerate a directory entry, if a directory entry already exists in these files, the obtained file ID did not match the actual ID. This problem is fixed.</h3></a>


<br>

<a name="note13-14">
<h3>Note 13-14: (DevEnd) Corrected the problem when expanding the <CODE>makelcf / makerom</CODE> variables; added support for the variable definition files</h3></a>

<p>With <CODE>makelcf / makerom</CODE>, in some cases when setting a character string that exceeds 1000 characters for the variable that can be specified with the &ndash;D option, and then expanding it in the template file, an error occurred and stopped the process. This problem is fixed.</p>

<p>Also, the process of passing variables by using command lines will be restricted by the maximum length of the command line set with each command line process. To prevent this problem, the variable definition can be specified from the external file. Because of this, by giving the file with the description of <CODE>[variable name = value]</CODE> to <CODE>makelcf / makerom</CODE> with the &ndash;M option, the variable definition can be done without having to worry about the restriction on the command length of the command lines.</p>


<br>

<a name="note13-15">
<h3>Note 13-15: (DevEnd) Output the autoload module information to the overlay name file</h3></a>

<p>The correction was made so that the additional information used by the debugger for tracking the autoloaded codes is output to the overlay name file. To be more precise, the change was made in the definition part of the overlay name file for the <code>*.lcf.template</CODE> file in</p>
<pre>    $NitroSDK/include/nitro/specfiles
</pre>

<p>By using this additional information, debugging of the autoload module is possible. For more information on the plans for this feature to be added to each debugger system, refer to the release note for each debugger or the support site.</p>


<br>

<a name="note13-16">
<h3>Note 13-16: (DevEnv) Corrected the problem with failing to rename the C++ library in the migw environment</h3></a>

<p>Renaming process of the C++ library to CXX failed in the mingw environment. This problem is fixed.</p>


<br>

<a name="note13-17">
<h3>Note 13-17: (OS) Set up the V Blank counter</h3></a>

<p>Set up the V blank counter and added the function <CODE>OS_GetVBlankCount()</CODE> to obtain the value.</p>


<br>

<a name="note13-18">
<h3>Note 13-18: (PAD) Eliminated <CODE>PAD_SetIrq()</CODE> and <CODE>PAD_ClearIrq()</CODE></h3></a>

<p>Eliminated <CODE>PAD_SetIrq()</CODE> and <CODE>PAD_ClearIrq()</CODE> because the key interrupt could not be used due to the hardware restriction. However, the key interrupt can be used for returning from the sleep mode. In that case, specify the condition with <CODE>PM_GoSleepMode()</CODE>.</p>


<br>

<a name="note13-19">
<h3>Note 13-19: (MI) Added DMA busy wait after synchronous DMA</h3></a>

<p>For synchronous DMA, the process was added after DMA to make it wait while the DMA is busy.</p>

<p>When these synchronous DMA APIs are placed on the TCM, ARM9 did not wait for the completion and is returned from API even with starting up the DMA. This was corrected so that it always waits for the completion with the synchronous DMA, regardless of the transfer location. If it is not necessary to explicitly execute the process to wait for the DMA completion, use the asynchronous DMA API.</p>

<p>The following instructions have been changed:</p>
<pre>    MI_DmaCopy16/32
    MI_DmaFill16/32
    MI_DmaSend16/32
    MI_DmaClear16/32
    MI_VBlankDmaCopy16/32
</pre>


<br>

<a name="note13-20">
<h3>Note 13-20: (SND) Updated the sound libraries</h3></a>

<p>Changed the sound libraries distributed with NITRO-SDK to the 08/10/2004 version.</p>


<br>

<a name="note13-21">
<h3>Note 13-21: (Demo) Corrected GX demo <CODE>3D_BoxTest</CODE></h3></a>

<p>With the GX demo <CODE>3D_BoxTest</CODE>, because the box text was executed without setting 1 for the <CODE>PolygonAttr</CODE> FAR clip flag and the 1-dot polygon display flag, the proper result may not have been obtained due to the hardware settings. This was corrected by setting a flag immediately before the Boxtest.</p>


<br>

<a name="note13-22">
<h3>Note 13-22: (Demo) Corrected GX demo <CODE>LinesOver</CODE></h3></a>

<p>With the demo <CODE>LinesOver</CODE>, <CODE>G3X_GetPolygonListRamCount()</CODE> and <CODE>G3X_GetVtxListRamCount()</CODE> were called while the geometry engine was busy, and the value that was being rendered was obtained. The process was added immediately before it to wait for the process of the geometry engine to complete.</p>

<p>Also, before the rendering was complete, <CODE>G3X_GetRenderedLineCount()</CODE> and <CODE>G3X_IsLineBufferOverflow()</CODE> were called. They were moved to after the V-Blank.</p>


<br>

<a name="note13-23">
<h3>Note 13-23: (Demo) Corrected the output screen of the SPI demo <CODE>spiMonkey</CODE></h3></a>

<p>Corrected the output screen of the SPI demo <CODE>spiMonkey</CODE> to be on the touch panel screen.</p>


<br>

<a name="note13-24">
<h3>Note 13-24: (DevEnv) Changed the sign setting of the char types</h3></a>

<p>In the past, the char types switched between signed and unsigned (unsigned for jp) by the value for the <CODE>NITROSDK LANG</CODE>, but it was standardized as signed. This change was introduced with NITRO-SDK 2.0 PR1.</p>


<br><br>

<h3><a name="KnownIssues_2_0_PR4">Known Problems in SDK 2.0 PR4</a></h3>

<p>(To be corrected in the next or a later release)</p>

<ul>
 <li>As for the return cause of the sleep mode of <CODE>PM_GoSleepMode()</CODE>, RTC alarm, game pak, and card interrupts are not yet supported.</li>
 <li>The enhanced upper-level library for the wireless control library is being created.</li>
 <li>There are some problems with the DS Download Play (multiboot) operation when there are multiple targets for download. This is being investigated.</li>
 <li>The simultaneous use of the microphone sampling and wireless communication is not fully verified.</li>
 <li>When "turn on the power of the game pak slot" is enabled with <CODE>IS-NITRO-DEBUGGER</CODE>, <CODE>OS_GetConsoleType()</CODE> returns a wrong result (<CODE>IS-CGB-EMULATOR</CODE>).</li>
</ul>



<br><br>

<HR>
<a name="sdk_2_0_PR3+">
<h2>NITRO-SDK Version 2.0 PR3 plus</h2></a>

<p align=right>
(7/29/2004)</p>



<h3><a name="note12-01">Note 12-01</a>: (DOC) Added and revised the WM Library Reference Manual</h3>

<p>Added and revised the section regarding the WM Library in the Reference Manual.</p>


<br><br>

<h3><a name="KnownIssues_2_0_PR3+">Known Problems in SDK 2.0 PR3 plus</a></h3>

<p>There is no change in the library itself and the library header file between SDK 2.0 PR3plus and SDK 2.0 PR3.</p>
<UL>
<LI>Some of the variable types in the WM Library do not comply with the SDK standard naming rule. (i.e. WMindCallback) This is a continuous problem since SDK 2.0 PR2, and with the future versions it will be corrected while maintaining the compatibilities.</LI>
<LI>The microphone API does not operate properly on the IS-NITRO-EMULATOR hardware (including version &ndash;D and later). The cause of this problem is being investigated</LI>
</UL>




<br><br>
<HR>
<a name="sdk_2_0_PR3">
<h2>NITRO-SDK Version 2.0 PR3</h2></a>

<p align=right>
(7/27/2004)</p>



<h3><a name="note11-01">Note 11-01</a>: (OS) Corrected a definition error in the system shared region</h3>

<p>In the memory map definitions, defined macro in the system shared region did not match the definition of the system region structure. This error was made during the revision of the NITRO-SDK 2.0 PR2.</p>

<p>This problem is fixed.</p>


<br>

<h3><a name="note11-02">Note 11-02</a>: (DevEnv) Corrected the setting for the structure's padding warning</h3>

<p>In the NITRO-SDK library header file, the padding warning switch for the structure was turned off, and was not turned back on. Because of this problem, the padding warning switch was left OFF. This was not intentional.</p>

<p>This problem is fixed. Until now the padding warning did not appear when you compiled the program. However, this change may bring up padding warnings that were not generated before. The following methods can prevent this problem.</p>
<OL>
<LI>Suppress warnings via the compile options:<br><br>

This is a method that adds the compiler options to suppress padding warnings at the time of compilation<br><br>

For IDE users, it can be set in the panel. For make system users, set the warning option with the make variable, CCFLAGS_WARNING. The following is an example for specifying in the command line so that the padding warnings are suppressed in order to display other types of warnings. Of course, it has the same effect as adding a description regarding the CCFLAGS_WARNING setting in the Makefile.<br>
<PRE>make CCFLAGS_WARNING='&ndash;w all,nopadding'
</PRE></LI>

<LI>Specifying pragma in the source file:<br><br>

This method suppresses the padding warning by specifying pragma before or after the warning. The details are shown below.
<PRE>// suppress the padding warning 
#pragma  warn_padding off 
struct padded 
{ 
    u16     leng; 
    // double-byte padding inserted here 
    s32     data[4]; 
}; 
// restore the padding warning
#pragma  warn_padding reset 
</PRE>
To suppress padding warnings in the entire source file, add <code>#pragma warn_padding off</code> at the beginning of the source.
</LI>
</OL>


<br><br>

<h3><a name="KnownIssues_2_0_PR3">Known Problems in SDK 2.0 PR3</a></h3>

<p>This is an urgent release, so the remaining problems that existed in SDK 2.0 PR2 still exist in this version.</p>





<br><br>
<HR>
<a name="sdk_2_0_PR2">
<h2>NITRO-SDK Version 2.0 PR2</h2></a>

<p align=right>
(7/26/2004)</p>



<h3><a name="note10-01">Note 10-01</a>: (WM) Added the wireless control library</h3>

<p>Released the WM (Wireless Manager) as the lower bit library to drive the wireless device.</p>
<pre>    $NitroSDK/build/demos/wm
</pre>

<p>This directory contains a sample function. At this point, it operates when the target is set to TS. Success is not guaranteed when the target is set to TEG or when using it with ensata.</p>

<p>The communication functions that are not yet supported in this version, such as wireless DS Download Play (multiboot) and block transfer, and the enhanced version of the upper level library, are under development.</p>


<br>

<h3><a name="note10-02">Note 10-02</a>: (DevEnv) Changed the memory map (changed the DTCM address) (only with TS)</h3>

<p>(This item applies only to the TS environment. With the TEG environment, there is no change in the memory map.)</p>

<p>Reviewed the memory map and expanded the MainRAM region that can be allocated to ARM9 by default.</p>

<p>More specifically, DTCM was placed in the region that starts at <code>0x2380000</code>, but now starts at <code>0x27C0000</code>. Along with this change, the MainRAM region that is allocated to ARM9 was changed from <code>0x2000000&mdash;0x237FFFF</code> to <code>0x2000000&mdash;0x23BFFFF</code> (increased by 256KB). The region that can be allocated to ARM7 was changed to <code>0x37C0000&mdash;0x37FEFFF</code>.</p>


<br>

<h3><a name="note10-03">Note 10-03</a>: (DevEnv) Added a parameter that absorbs the difference of DTCM</h3>

<p>As described in Note 10-02, the DTCM address was changed for the TS environment only. The makelcf's start-up parameter <code>ADDRESS_DTCM</code> was added to notify the lsf file of the different DTCM addresses used by TEG and TS. When NITRO_PLATFORM is set to TEG, it is <code>0x02380000</code>. When NITRO_PLATFORM is set to TS, it is <code>0x027c0000</code> (in order to handle 8MB main memory, <code>0x400000</code> was added). Use this variable so that TEG and TS can share the lsf file.</p>

<p>For example:</p>
<PRE>  Autoload DTCM
  {
    Address $(ADDRESS_DTCM)
    Object * (.dtcm)
  }
</PRE>


<br>

<h3><a name="note10-04">Note 10-04</a>: (DevEnv) Corrected the link error in the C++ exception table</h3>

<p>A link error occurred because the label for the exception table was not defined when the code was created with C++ exceptions. This problem is fixed.</p>


<br>

<h3><a name="note10-05">Note 10-05</a>: (SVC) Updated the SVS library and reference manual</h3>

<p>The system call SVS library was updated, and the functions shown below were added. Also updated the reference manual to include the new functions.</p>

<p>Newly added functions:</p>
<PRE>    SVC_Div()
    SVC_DivRem()
    SVC_GetCrc16()
    SVC_Halt()
    SVC_IsMmemExpanded()
    SVC_Sleep()
    SVC_Sqrt()
    SVC_UncompressHuffman.html()
    SVC_UncompressLZ.html()
    SVC_UncompressRL.html()
    SVC_UnpackBits.html()
</PRE>


<br>

<h3><a name="note10-06">Note 10-06</a>: (OS) Improved the lock functions (1): standardized the lock ID type</h3>

<p>There were places where the Lock ID (u16) of the lock functions in the OS was declared as u16 and u32 in the argument. It was standardized to be u16. However, the return value for the function that returns the lock ID or error message was not changed and is still u32.</p>

<p>The lockID type of the argument changed from u32 to u16.</p>
<PRE>    OS_LockByWord()    OS_LockCartridge()    OS_LockCard()
    OS_UnlockByWord()  OS_UnlockCartridge()  OS_UnlockCard()
    OS_TryLockByWord() OS_TryLockCartridge() OS_TryeUnLockCard()
</PRE>
<p>The return value changed from s32 to u16.</p>
<PRE>    OS_ReadOwnerOfLockWord()
</PRE>
<p>In the manual, added a caution that the return value is s32.</p>
<PRE>    OS_GetLockID()
</PRE>


<br>

<h3><a name="note10-07">Note 10-07</a>: (OS) Improved the lock functions (2): changed the name of the unlock function</h3>

<p>Changed the notation of the following function names from <em>Un<u>L</u>ock</em> to <em>Un<u>l</u>ock</em>.</p>
<PRE>    OS_UnlockByWord()
    OS_UnlockCartridge()
    OS_UnlockCard()
</PRE>


<br>

<h3><a name="note10-08">Note 10-08</a>: (MI) Changed the name of the MI_GetCartridgeRomCycle* function (posted again)</h3>

<p>(As mentioned in Note 9-23, this change was intended for version 2.0 PR1. However, the change was made in this version by mistake.)</p>

<p>The names of the MI_GetCartridgeRomCycle* function was revised and standardized as 1st and 2nd. Along with this change, the enumeration types <code>MICartridgeRomCycle1</code> and <code>MICartridgeRomCycle2</code> were changed to <code>MICartridgeRomCycle1st</code> and <code>MICartridgeRomCycle2nd</code>.</p>


<br><br>

<h3><a name="KnownIssues_2_0_PR2">Known Problems in SDK 2.0 PR2</a></h3>

<p>(To be corrected in the next or a later release)</p>

<ul>
<li>The CARD library can be used in the TS environment only. With the current version, correct operation with TEG, ensata, and the NITRO retail product is not guaranteed.</li>
<li>For the wireless control library, an enhanced upper level library is being developed.</li>
</ul>




<br><br>
<HR>
<a name="sdk_2_0_PR1">
<h2>NITRO-SDK Version 2.0 PR1</h2></a>

<p align=right>
(7/20/2004)</p>



<h3><a name="note09-01">Note 9-01: (DevEnv) Changed the library support and default target for the TS version</a></h3>

<p">Note: The bold paragraphs in Note 9-01 were added on 7/26/2004.</p>

<p><strong>To support the IS-NITRO-DEBUGGER and Nintendo DS software developer's board NITRO-TS, the default target changed from TEG to TS. (From now on, IS-NITRO-DEBUGGER and NITRO-TS refer to the same thing, unless otherwise noted.)</strong></p>

<p>The TS module is created by not defining NITRO_PLATFORM for the environment variable or the macro variable of the make command, or by setting the value to &quot;TS&quot;. Here is an example.</p>
<PRE>    % make NITRO_PLATFORM=TS
</PRE>

<p>Normally, the directory ARM9-TS or ARM9-TS.thumb is created in the subdirectories bin, lib or obj within the directory that executed make. Each module is generated in this directory.</p>

<p>Also, in order to compile with the existing TEG target version, you must explicitly specify</p>
<PRE>    % make NITRO_PLATFORM=TEG
</PRE>

<p><strong>Support for the TEG target version will continue until at least the end of 2004).</strong></p>


<br>

<h3><a name="note09-02">Note 9-02</a>: (DevEnv) Changed the file extension of the ROM binary files</h3>

<p>Corrected makerom so it matches the specification of the manufactured ROM image. To be consistent with the inspection process during production, the ROM binary file name extension was changed from .bin to .srl.</p>

<p>However, in the makefile description, the target variable name of the ROM image is left as <code>TARGET_BIN</code>.</p>


<br>

<h3><a name="note09-03">Note 9-03</a>: (DevEnv) Changed the overlay method</h3>

<p>The link methods for overlays were changed.</p>
<UL>
<LI>Changed the description of the Link spec file (LSF). Because the existing LSF files usually cannot be used without modifications, you may have created separate LSF files. If so, you may need to change these files. (For more information, refer to the makelcf reference.)</LI>

<LI>Now you can generate response files with makelcf to pass the overlay group information to the linker.</LI>
</UL>


<br>

<h3><a name="note09-04">Note 9-04</a>: (DevEnv) Changed the LCF file description</h3>

<p>An asterisk (<code>*</code>) is no longer used to specify a file with the LCF file.</p>

<p>In the LCF file, all libraries are enumerated, but the positive sign (<code>+</code>) cannot be used for the library name. Because of this restriction, the name of Metrowerks C++ Runtime Library is changed from <code>MSL_C++_NITRO_Ai_LE_strb.a</code> to <code>MSL_CXX_NITRO_Ai_LE_strb.a</code> to make a copy, and the copy is referenced.</p>


<br>

<h3><a name="note09-05">Note 9-05</a>: (DevEnv) Changed the make rule</h3>

<p>In the sample demo in the following directory, the source files are compiled in multiple subdirectories, and are linked by the parent directory.</p>
<PRE>    $NitroSDK/build/demos/tips/MultiLink
</PRE>


<br>

<h3><a name="note09-06">Note 9-06</a>: (DevEnv) Corrected the generation rule of the nef and srl files</h3>

<p>Made it possible to add dependent files to the nef and bin files by specifying <code>LDEPENDS_NEF</code> and <code>LDEPENDS_BIN</code>.</p>


<br>

<h3><a name="note09-07">Note 9-07</a>: (DevEnv) Added the compile switch <code>NITRO_CODEGEN_ALL</code></h3>

<p>Added the compile switch <code>NITRO_CODEGEN_ALL</code>. Use this switch to create libraries for both ARM and THUMB versions.</p>
<PRE>    % make NITRO_CODEGEN=ARM
    % make NITRO_CODEGEN=THUMB
</PRE>
<p>The switch results in the compilation executing twice. (The compilation is executed in the order specified with <code>NITRO_CODEGEN</code>.)</p>


<br>

<h3><a name="note09-08">Note 9-08</a>: (SND) Updated the sound library</h3>

<p>The sound library distributed with the NITRO-SDK became the 06/22/2004 version.</p>


<br>

<h3><a name="note09-09">Note 9-09</a>: (FS) Corrected an error in <code>FS_RegisterArchiveName()</code></h3>

<p>Due to the internal processing of the FS_RegisterArchiveName() function, an inconsistency problem occurred when the registered archive was released. This problem is fixed.</p>


<br>

<h3><a name="note09-10">Note 9-10</a>: (FS) Corrected the improper display of a string while debugging in the async demo thread</h3>

<p>Sometimes the wrong character string was displayed when an interrupt occurred during debugging of the thread with the async demo. This problem is fixed.</p>


<br>

<h3><a name="note09-11">Note 9-11</a>: (FS) Corrected the problem of returning control prematurely while <code>FS_WaitAsync</code> is still running</h3>

<p>If the <code>OS_WakeupThreadDirect()</code> function is called while a thread is set to wait for an FS asynchronous function (using the <code>FS_WaitAsync</code> function), control is returned even though the process is not complete. This problem is fixed.</p>


<br>

<h3><a name="note09-12">Note 9-12</a>: (GX) Corrected <code>GX_SetBankForTex()</code>, <code>GX_LoadTexEx()</code>, and <code>GX_LoadTex()</code></h3>

<p>The three functions that process the noncontiguous VRAM banks had problems with the data transfer, but they were fixed.</p>


<br>

<h3><a name="note09-13">Note 9-13</a>: (GX) Changed the clear color alpha default from 0 to 31 in the GX demo</h3>

<p>In the DEMOLib of the GX demo, the default value of the clear color alpha value was changed from 0 to 31.</p>


<br>

<h3><a name="note09-14">Note 9-14</a>: (FX) Added <code>FX_AtanIdx()</code> and <code>FX_Atan2Idx()</code></h3>

<p>Added the <code>FX_AtanIdx()</code> and <code>FX_Atan2Idx()</code> functions, which return the arctangent within the range of the u16 type. Until now, only <code>FX_Atan()</code> and <code>FX_Atan2()</code>, which return the arctangent in units of radian, were available.</p>


<br>

<h3><a name="note09-15">Note 9-15</a>: (FX) Added a matrix calculation API that does not send the value to the geometry engine</h3>

<p>Added the following functions as the API that performs only the calculation without setting the data to the geometry engine.</p>
<PRE>    MTX_FrustumW()
    MTX_PerspectiveW()
    MTX_OrthoW()
    MTX_LookAt()
</PRE>
<p>With these functions, you can obtain the same matrix using <code>G3_FrustumW()</code>, <code>G3_PerspectiveW()</code>, <code>G3_OrthoW()</code>, <code>G3_LookAt()</code>.</p>

<!--NOT SURE WHAT THIS LAST SENTENCE MEANS 9/10/04-->


<br>

<h3><a name="note09-16">Note 9-16</a>: (OS) Corrected the arena setting when <code>NITRO_MEMSIZE</code> is set to 8M</h3>

<p>When a file that was compiled with <code>NITRO_MEMSIZE</code> set to 8M during make is executed on a development device with 8MB of main memory, the extended main memory arena is now set properly. Previously, the protection region was not set correctly and had to be set by the application.</p>


<br>

<h3><a name="note09-17">Note 9-17</a>: (OS) Improved thread safety using functions related to memory allocation, such as alloc and free</h3>

<p>Improved thread safety by prohibiting interrupts in a critical section using memory allocation functions, such as <code>OS_Alloc*()</code> and <code>OS_Free*()</code>.</p>


<br>

<h3><a name="note09-18">Note 9-18</a>: (OS) Added <code>OS_JoinThread()</code> and <code>OS_IsThreadTerminated()</code></h3>

<p>Added <code>OS_JoinThread()</code>, which combines threads and waits for the specified thread to be terminated, and <code>OS_IsThreadTerminated()</code>, which checks whether the thread has terminated.</p>


<br>

<h3><a name="note09-19">Note 9-19</a>: (OS) Corrected the DMA address check ASSERT</h3>

<p>The debug build uses ASSERT to check if it overlaps the TCM address, but there was an error with the boundary condition. This problem was fixed.</p>


<br>

<h3><a name="note09-20">Note 9-20</a>: (OS) Changed the operation of <code>OS_SetProtectionRegion()</code></h3>

<p><code>OS_SetProtectionRegion()</code> was changed to set and enable the protection region. Before, it was not enabled.</p>


<br>

<h3><a name="note09-21">Note 9-21</a>: (OS) Changed the function cost measurement profiler</h3>

<p>Changed the clock information in the profiler from u16 to u32 to enable the measurement of functions that require more time. Also fixed an error in the calculation of the required compilation time.</p>


<br>

<h3><a name="note09-22">Note 9-22</a>: (MI) Added functions to obtain the compression type and size of expanded data</h3>

<p>Created functions to obtain the compression type and the size of the expanded data in memory. <code>MI_GetCompressionType()</code> obtains the compression type, and <code>MI_GetUncompressedSize()</code> obtains the size of the expanded data.</p>


<br>

<h3><a name="note09-23">Note 9-23</a>: (MI) Changed the names of the <code>MI_GetCartridgeRomCycle*</code> functions</h3>

<p>Standardized the names of the <code>MI_GetCartridgeRomCycle*</code> functions as 1st and 2nd. In addition, the names of the enumeration types <code>MICartridgeRomCycle1</code> and <code>MICartridgeRomCycle2</code> were changed to <code>MICartridgeRomCycle1<b>st</b></code> and <code>MICartridgeRomCycle2<b>nd</b></code>.</p>


<br>

<h3><a name="note09-24">Note 9-24</a>: (MI) Corrected ASSERT of <code>MI_CpuCopyFast()</code></h3>

<p>At debug time, build with <code>MI_CpuCopyFast()</code>, ASSERT was required to be a multiple of 32 bytes. It was changed to a multiple of 4 bytes.</p>


<br>

<h3><a name="note09-25">Note 9-25</a>: (MI) Changed the DMA parameter setting and stop processes</h3>

<p>Prohibited interrupts with the DMA parameter setting process (internal function <code>MIi_DmaParams*()</code>) and stop process (<code>MI_StopDma()</code>).</p>


<br>

<h3><a name="note09-26">Note 9-26</a>: (CP) Changed how the Divider sets the divisor</h3>

<p>When a 32-bit divisor is set in the Divider, zeros are entered into the upper 32 bits of the Divider's divisor register. By doing so, even if using a division mode with a 32-bit divisor, the Divide-by-0 error flag is enabled only if all 64 bits of the divisor register are zeros.</p>


<br>

<h3><a name="note09-27">Note 9-27</a>: (MIC) Extended the sampling types</h3>

<p>With the functions that perform sampling via microphones, the available sampling types were expanded, and you can now specify the output in signed data format.</p>


<br>

<h3><a name="note09-28">Note 9-28</a>: (PRC) Added the pattern recognition API (test release)</h3>

<p>Test released the PRC library, which permits pattern recognition of data drawn on the touch panel.</p>
<PRE>    $NitroSDK/build/demos/prc
</PRE>
<p>Here is the demo.</p>

<p>For more information, see:</p>
<PRE>    $NitroSDK/docs/TechnicalNotes/PatternRecognition.doc
</PRE>


<br>

<h3><a name="note09-29">Note 9-29</a>: (TP) Changed the precision of the data obtained from the touch panel</h3>

<p>The precision of the data obtained from the touch panel was changed from 12 bit to 9 bit. The lower 3 bits are masked on the ARM7. This change anticipates a compatibility issue that may occur in the future.</p>

<br><br>

<h3><a name="KnownIssues_2_0_PR1">Known Problems in SDK 2.0 PR1</a></h3>

<p class=MsoNormal>(To be corrected in the next or a later release)</p>

<UL>
<li>The wireless library is under development.</li>
<li>The CARD library is under development.</li>
<li>When the system stack region is set to be the entire DTCM range of the ARM9, the DTCM arena region does not exit. Call the function that are related to the DTCM arena, the debug build of the library will stop at ASSERT. (When specifying the size of the system stack region by LSF file, it operates normally. If necessary, avoid a problem in this manner. If it is not the DEBUG build, it does not stop at ASSERT and does not return a normal value.) Due to this problem, the DEBUG build in the arena-1 of OS demo stops at ASSERT.</li>
</ul>



<HR>
<h2><a name="sdk_1_00_rc2"></a><a name="sdk_1_02_rc2"></a> NITRO-SDK Version 1.2</h2>

<p align=right>(6/16/2004)</p>



<h3><a name="note08-01">Note 8-01: (CP) Added the CP context switching process to the IRQ handler</a></h3>

<p>When threads were switched in the IRQ handler, the context of the Divider and Square Root Unit were not saved. This has been revised, and the context is appropriately switched.</p>



<h3><a name="note08-02">Note 8-02: (FX) Added and revised the constant definitions</a></h3>

<p>Corrected the faulty rounding process for negative numbers when using <code>FX_F32_TO_FX32()</code> and made <code>FX32_CONST()</code> an alias for <code>FX_F32_TO_FX32()</code>. Also added the <code>FX16_CONST()</code>, <code>FX64_CONST()</code>, and <code>FX64C_CONST()</code> macros.</p>



<h3><a name="note08-03">Note 8-03: (OS) Corrected the idle thread process</a></h3>

<p>Cleaned up the test code that was mixed in with the loop portion of 
<code>OSi_IdleThreadProc()</code>, the idle thread execution function located in </p><pre>    $NitroSDK/build/libraries/os/common/src/os_thread.c
</pre>



<h3><a name="note08-04">Note 8-04</a>: (SPI) Corrected the <code>spiMonkey</code> demonstration</h3>

<p>When the <code>spiMonkey</code> demo was built with the Debug version, the demo ran but the screen update rate was extremely slow. This problem is fixed.</p>



<h3><a name="note08-05">Note 8-05</a>: (DevEnv) Corrected the problem reading <code>makerom/makelcf</code>< variable values</h3>

<p>A bug in handling variable values in <code>makerom/makelcf</code> could prevent normal operations. This bug is fixed.</p>



<h3><a name="KnownIssues_1_02_rc2">Known Problems in SDK 1.2</a></h3>

<p class=MsoNormal>(To be corrected in the next release)</p>

<ol>
 <li>The archive system in the file system is a test version.</li>
</ol>



<HR>
<h2><a name="sdk_1_02_rc1">NITRO-SDK Version 1.2 RC1</a></h2>

<p align=right>(2004/6/10)</p>



<h3><a name="note07-01">Note 7-01: (GX) Changed the Main LCD/Sub LCD output destination switch flag</a></h3>

<p>The defined values for <code>GX_DISP_SELECT_***</code>, the power control register's &quot;LCD output switching flag,&quot; were swapped to conform to the final production product (0 and 1 were reversed).</p>

<p>The same revision was performed on <code>ensata</code>. When executing applications created with SDK versions 1.2 or 1.2 RC1 or later on <code>ensata</code>, verify that the version of <code>ensata</code> being used supports this revision.</p>



<h3><a name="note07-02">Note 7-02: (MIC) Added the microphone API</a></h3>

<p>Added an API to operate a microphone device and demos that use the API. Also added the <code>spiMonkey</code> demo that uses the MIC, Touch Panel, and Sound libraries simultaneously.</p>



<h3><a name="note07-03">Note 7-03: (TP) Changed the maximum sampling rate</a></h3>

<p>Changed the maximum sampling rate that can be specified with auto sampling to 4 times/frame. It is expected that higher sampling rates cannot be guaranteed with the anticipated cost reduction in hardware.</p>



<h3><a name="note07-04">Note 7-04: (TP) Corrected the problem of an interrupt being generated immediately after transmitting a touch panel command</a></h3>

<p>When an interrupt was generated directly after transmitting a touch panel control command to ARM7, a bug prevented returning from waiting for a reply from ARM7. This problem is fixed.</p>



<h3><a name="note07-05">Note 7-05: (TP) Changed the auto sampling interface</a></h3>

<p>Added an argument in <code>RequestAutoSamplingStart()</code> to specify the buffer size. In doing so, a buffer size larger than the sampling rate can be specified and overwriting with new data can be supported.</p>



<h3><a name="note07-06">Note 7-06: (TP) Changed the <code>TP_SetCallback()</code> argument format</a></h3>

<p>Because <code>TP_SetCallback()</code> arguments were pointers to function pointers, it was changed so that function pointers could be passed directly as arguments.</p>



<h3><a name="note07-07">Note 7-07</a>: (FS) Corrected a problem in the size display after loading all in the <code>async</code> demo</h3>

<p>The total size (when loading all threads in the <code>async</code> demo) is displayed as <code>total **** byte.</code> However, an error in the size calculation resulted in an incorrect number. This problem is fixed.</p>



<h3><a name="note07-08">Note 7-08</a>: (FS) Corrected a problem that prevented the overlay data cache from updating</h3>

<p>Corrected the problem that prevented the data cache update process from being carried out for each of the functions that operate the overlay module.</p>



<h3><a name="note07-09">Note 7-09</a>: (FS) Corrected a problem in the <code>FS_SetDefaultDMA()</code> function</h3>

<p>A problem caused a file to be loaded incorrectly if DMA settings were changed with <code>FS_SetDefaultDMA()</code> when
executing in an environment that used a NITRO-CARD. This problem is fixed.</p>



<h3><a name="note07-10">Note 7-10: (OS) Changed the IRQ handler specifications</a></h3>

<p>When the logical product of IE and IF was 0 at the beginning of an IRQ handler, it would exit without doing anything. This was caused by an infinite loop when an interrupt was generated during IE configuration. This problem is fixed.</p>



<h3><a name="note07-11">Note 7-11: (OS) Changed the default for the maximum thread count</a></h3>

<p>Changed the maximum thread count that can be created with the thread system from 8 to 16.</p>



<h3><a name="note07-12">Note 7-12: (OS) Added <code>OS_GetNumberOfThread()</code></a></h3>

<p>Added the <code>OS_GetNumberOfThread()</code> function to get the number of threads currently created.</p>



<h3><a name="note07-13">Note 7-13: (OS) Changed the arena configuration</a></h3>

<p>A fixed value had been used when configuring the arena range for ARM7. However, this has been changed to configure an arena for the ARM7 shared WRAM and an arena for the ARM7-dedicated WRAM to take into account the size of the free region after storing the ARM7 program in Shared WRAM and ARM7-dedicated WRAM.</p>

<p>In addition, the two arenas are configured with ARM7 and the
remaining arenas are configured with ARM9 due to reception of defined values from the lcf file when configuring arenas with <code>OS_InitArena()</code>.</p>



<h3><a name="note07-14">Note 7-14: (OS) Changed the protection region functions</a></h3>

<p>In a previous version, <code>OS_SetProtectionRegion()</code>
was renamed <code>OS_SetProtectionReginParam()</code>,
and a new function that more directly configured the address and size was named <code>OS_SetProtectionRegion()</code>.</p>

<p><code>OS_GetProtectionRegion()</code> was divided by function into <code>OS_GetProtectionRegionParam()</code>, <code>OS_GetProtectionRegionAddress()</code>, and <code>OS_GetProtectionRegionSize()</code>.</p>



<h3><a name="note07-15">Note 7-15: (OS) Removed the Profile features from the OS library</a></h3>

<p>The Profile features were separated from the OS library and made into an independent library. In doing so, it is unnecessary to recompile the OS library when Profile features are used.</p>

<p>The necessary libraries can be linked by specifying </p>
<pre>    NITRO_PROFILE_TYPE=CALLTRACE
</PRE>
<p>when enabling the call trace function and by specifying</p>
<pre>    NITRO_PROFILE_TYPE=FUNCTIONCOST
</PRE>

<p>when enabling the cost measuring function.</p>



<h3><a name="note07-16">Note 7-16: (OS) Corrected the display of the call trace function</a></h3>

<p>Corrected the problem in the display of indents beyond four levels in the call trace function.</p>



<h3><a name="note07-17">Note 7-17: (OS) Added <code>OS_GetConsoleType()</code></a></h3>

<p>Added the <code>OS_GetConsoleType()</code> function to obtain the current operating environment. The value that can be obtained also includes information on the ROM data read device and main memory
size.</p>



<h3><a name="note07-18">Note 7-18: (OS) Changed how debug functions, such as <code>OS_Printf()</code>, are handled in the FINALROM build</a></h3>

<p>Changed the way display functions such as <code>OS_Printf()</code> are handled in the FINALROM build. Previously, <code>OS_Printf()</code> was called and became the return function without doing anything, but it is no longer called. In addition, <code>OS_Panic()</code> stops without displaying anything.</p>



<h3><a name="note07-19">Note 7-19: (OS) Changed TCM function names</a></h3>

<p>The following TCM function names have been changed to match the name specifications for other functions. The left is the function name before the change; the right is the new function name.</p>

<PRE>    OS_SetParamITCM() &rarr; OS_SetITCMParam()
    OS_SetParamDTCM() &rarr; OS_SetDTCMParam()
    OS_GetParamITCM() &rarr; OS_GetITCMParam()
    OS_GetParamDTCM() &rarr; OS_GetDTCMParam()
</PRE>



<h3><a name="note07-20">Note 7-20: (OS) Changed the OS demo structure</a></h3>

<p>In addition to eliminating the need to recompile the OS library by dividing the profile related features into a separate library, compilation of callTrace-1, callTrace-2, exceptionDisplay-3, functionCost-1, functionCost-2, and functionCost-3 that had not been previously included in the OS demo <code>Makefile</code> are now included.</p>



<h3><a name="note07-21">Note 7-21: (GX) Corrected the GX demo</a></h3>

<p>In the <code>AntiAlias</code> demo, <code>antialiasing</code> was not applied because <code>ClearColor</code>
was not set and blending did not occur with the background color. This problem is fixed.</p>

<p>In the <code>2D_Oam_5</code> and <code>Sub_Oam_5 demos</code>, problems in operation with the FINALROM build occurred because the data cache was not flushed. This problem is fixed.</p>



<h3><a name="note07-22">Note 7-22: (GX) Eliminated restrictions on demos due to an <code>Ensata</code> upgrade</a></h3>

<p>Due to an <code>Ensata</code> upgrade, the operating limitations on <code>AntiAlias</code>, <code>PosVecTest</code>, and <code>CurrentMtx</code>, which could only be used while <code>Ensata</code> was operating, were lifted.</p>



<h3><a name="note07-23">Note 7-23: (GX) Changed the extended palette VRAM configuration name</a></h3>

<p>Extended palette VRAM configuration names defined with</p>
<PRE>    GXVRamBGExtPltt
    GXVRamOBJExtPltt
    GXVRamSubBGExtPltt
    GXVRamSubOBJExtPltt
</pre>

<p>have been standardized to notation that includes the slot number. The previous names remain as aliases, although this is not mentioned in the manual.</p>



<h3><a name="note07-24">Note 7-24: (GX) Added support for multiple calls of <code>GX_Init</code><a></h3>

<p>When <code>GX_Init()</code> was called multiple times, it would stop because the V-Alarm structure held in static internally would initialize each time. This has been changed so that the V-Alarm structure is initialized only once even if <code>GX_Init</code> is called multiple times.</p>



<h3><a name="note07-25">Note 7-25: (GX) Added <code>GX_GetObj</code></a></h3>

<p>The following in-line functions have been prepared.</p>
<PRE>    G2_GetOBJCharName()
    G2_GetOBJColorMode()
    G2_GetOBJEffect()
    G2_GetOBJColorParam()
    G2_GetOBJMode()
    G2_GetOBJPosition()
    G2_GetOBJPriority()
    G2_GetOBJShape()
</pre>



<h3><a name="note07-26">Note 7-26: (FX) Added the <code>FX32_CONST()</code> macro</a></h3>

<p>Added the <code>FX_CONST()</code> macro to define fx32 format constants.</p>



<h3><a name="note07-27">Note 7-27: (MI) Corrected <code>MI_UncompressRL8()</code></a></h3>

<p>There was a bug in the <code>MI_UncompressRL8()</code>
function that extracted run-length compressed data in 8-bit units. The bug is fixed.</p>



<h3><a name="note07-28">Note 7-28: (DevEnv) Added an explanation of <code>makerom</code> and <code>makelcf</code></a></h3>

<p>Added a Tool item to the reference manual that includes an explanation of <code>makerom</code> and <code>makelcf.</p>



<h3><a name="note07-29">Note 7-29: (DevEnv) Added a tool to rewrite data maintained in the main unit NVRAM</a></h3>

<p>A simple tool was included to rewrite information configured with the Boot menu. Use it as a calibration configuration tool for the touch panel. The execution file is:</p>
<PRE>    $NitroSDK/bin/ARM9-TEG/Release/BootMenu.bin
</pre>

<p>Executing this on TEG causes the basic menu to start up. Because configuration items other than the touch panel may differ from the final product, think of them as reference material at this time.</p>



<h3><a name="note07-30">Note 7-30: (DevEnv) Added the &quot;&ndash;g&quot; option during the build of the FINALROM version</a></h3>

<p>Changed so that the &quot;&ndash;g&quot; option can be used to compile and link when building the FINALROM version in the build environment created with the SDK-supplied CodeWarrior make.</p>

<p>The &quot;&ndash;g&quot; option in CodeWarrior adds only debug information to the NEF file; the ROM image binary is the same.</p>

<p>In addition, the NITRO_NO_OPT_G switch is available to compile and link without the &quot;&ndash;g&quot; option.</p>

<p>Use the following to remove the &quot;&ndash;g&quot; option to build.</p>
<pre>    make NITRO_NO_OPT_G=1
</pre>



<h3><a name="note07-31">Note 7-31: (DevEnv) Corrected a bug that output faulty error message with <code>makerom</code></a></h3>

<p>A bug caused the error message, <code>Wrong format list file</code> to be displayed even when no error had occurred and also stopped the execution of <code>makerom</code> when <code>makerom</code> was
executed in certain environments. This bug is fixed.</p>



<h3><a name="KnownIssues_1_02_rc1">Known Problems in SDK 1.2 RC1</a></h3>

<p class=MsoNormal>(To be corrected in the next or a future release)</p>
<ol>
 <li>The archive portion of the file system is a trial
     version.</li>
 <li>The Debug-compiled version of SPI demo, <code>spiMonkey</code>, does not operate correctly.</li>
</ol>




<HR>
<h2><a name="sdk_1_02_pr1">NITRO-SDK
Version 1.2 PR1</a></h2>

<p align=right>(05/24/2004)</p>



<h3><a
name="note6-01">Note 6-01</a>: (DevEnv) Added support for CodeWarrior NITRO V0.5</h3>

<p>Added support for CodeWarrior NITRO V0.5. Added support for the change in library file names and the change in LCF files.</p>



<h3><a name="note6-02">Note 6-02</a>: (DevEnv) Changed the ROM binary creation tool from <code>elftobin</code> to <code>makerom</code></h3>

<p>Changed the ROM binary creation tool from <code>elftobin</code>
to <code>makerom</code>. This allows the file system and overlay to be supported.</p>



<h3><a name="note6-03">Note 6-03</a>: (DevEnv) Added lcf <code>ALIGN(32)</code></h3>

<p>The lcf-related files were correct sot that 32-byte alignment might be maintained for the beginning and end of the overlay segments to prevent problems related to the cache line for the overlay.</p>



<h3><a name="note6-04">Note 6-04</a>: (DevEnv) Added support for addition procedures for files dependent on execution binary generation rules</h3>

<p>Added <code>$(LDEPENDS_NEF)</code> and <code>$(LDEPENDS_BIN)</code> to the files dependent on .nef and .bin generation rules, respectively. The specifics are shown below.</p>
<pre>$NitroSDK/build/buildtools/modulerule.cctype.CW:

    $(BINDIR)/%.nef: $(OBJS) $(LCFILE) $(MAKEFILE) $(LDEPENDS_NEF)

$NitroSDK/build/buildtools/modulerule:

    $(BINDIR)/%.bin: $(BINDIR)/%.nef $(MAKEROM_ARM7) $(ROM_SPEC) $(LDEPENDS_BIN)
</pre>



<h3><a name="note6-05">Note 6-05</a>: (DevEnv) Added support for header include from compilers other than CodeWarrior</h3>

<p>There are cases when you want to include the <code>NitroSDK</code> header files when C-compiling with a program other than CodeWarrior when creating NITRO-related tools on Windows. But, the processing system for Visual C++ generated an error when <code>nitro.h</code> was included because variable argument macros are not supported.
<code>$NitroSDK/include/nitro_win32.h</code> is available to cope with this situation.</p>

<p>By defining the two define values shown below in <code>nitro_win32.h</code>, it is possible to include header files such as <code>gx.h</code>, <code>memorymap.h</code>, and <code>type.h</code>.</p>
<pre>    #define SDK_FROM_TOOL
    #define SDK_HAS_NO_LONG_LONG_INT_
</pre>

<p>However, the #define of <code>SDK_HAS_NO_LONG_LONG_INT_</code> is specified as &quot;to replace 64-bit integers from being long long int to <code>_int64</code>,&quot; so this definition is unnecessary in environments where the long long int definition, such as gcc, is enabled.</p>



<h3><a name="note6-06">Note 6-06</a>: (DevEnv) Terminated the IDE demo sample distribution</h3>

<p>It was decided that the distribution of the IDE demo sample program for using CodeWarrior would be terminated. Since a NITRO stationary file is already available in CodeWarrior for NITRO, it was decided that the IDE sample was no longer necessary.</p>



<h3><a name="note6-07">Note 6-07</a>: (ARM7) Added the ferret integrated component</h3>

<p>Added the ferret integrated component to process various devices. If not specified otherwise, this component connects by default.</p>

<p>The component path is located under </p>
<PRE>    NitroSDK/components/ferret/ARM7-TEG/(Target)
</PRE>
<p>(For the Thumb component, the <code>ARM7-TEG</code> portion becomes <code>ARM7-TEG.thumb</code>.)</p>



<h3><a name="note6-08">Note 6-08</a>: (FS) Added the file system and overlay</h3>

<p>Added a library to use the ROM file system in applications created with <code>makerom</code>. Directory list/search, synchronous/asynchronous file read, overlays, etc. are possible.</p>

<p>The FS library supports processes that read access the NITRO-CARD, the NITRO standard software supply medium. The FS library internally switches between using the Game Pak image or NITRO-CARD image as the file system according to the TEG board device connection.</p>

<p>In connection with this, <code>SVC_ReadCard()</code> was deleted.</p>



<h3><a name="note6-09">Note 6-09</a>: (TP) Added touch panel functions</h3>

<p>The touch panel control related APIs are supported.</p>

<p>Be aware that the TP library and API that were distributed in a separate package have changed in connection with the process assignment change for ARM7 and ARM9. In addition, perform the touch panel calibration process again because of the change in the touch panel calibration parameters that occurred in connection with these changes.</p>

<p>The new touch panel calibration binary is
<code>NitroSDK/bin/ARM9-TEG/Release/BootMenu.bin</code>. After starting the binary, select TOUCH PANEL from the screen menu and perform the calibration.</p>



<h3><a name="note6-10">Note 6-10</a>: (CP) Added Divider and Square Root Unit interrupts and multi-threads</h3>

<p>To safely use the Divider and Square Root Unit interrupt processes in callbacks, APIs (<code>CP_SaveContext</code> and <code>CP_RestoreContext</code>) were prepared to store and return the current status of the Divider and Square Root Unit.</p>

<p>In addition, the Divider and Square Root Unit now support multi-threads.</p>



<h3><a name="note6-11">Note 6-11</a>: (GX) Added APIs for MtxFx22</h3>

<p>APIs for operating the 2x2 matrix MtxFx22-type variable 2x2 are available.</p>
<pre>    MTX_Identity22()
    MTX_Concat22()
    MTX_Inverse22()
    MTX_Transpose22()
    MTX_Rot22()
    MTX_Scale22()
</pre>



<h3><a name="note6-12">Note 6-12</a>: (GX) Improved poor operation of command FIFO in the TEG board</h3>

<p>Due to a hardware bug in the command FIFO overflow processing on the TEG board, <code>GX_LoadMtx44</code> and other functions did not process correctly. This was fixed in the library. This hardware bug will be corrected in the production model.</p>



<h3><a name="note6-13">Note 6-13</a>: (GX) Added <code>GX_VRAM_ARM7_128_C</code> to <code>GX_SetBankForARM7()</code></h3>

<p><code>GX_VRAM_ARM7_128_C</code> was added as an argument supported by <code>GX_SetBankForARM7()</code>.</p>



<h3><a name="note6-14">Note 6-14</a>: (GX) Corrected problem when specifying <code>GX_VRAM_BGEXTPLTT_01_F</code> to the BG extended palette</h3>

<p>Corrected the problem that caused configuration to be incorrect when <code>GX_VRAM_BGEXTPLTT_01_F</code> was set in the API <code>GX_SetBankForBGExtPltt</code>.</p>



<h3><a name="note6-15">Note 6-15</a>: (GX) Added a demo for procedure to synchronize to the <code>Swapbuffer</code> process on the geometry engine</h3>

<p>Added the demo below as a method using a polygon counter to determine whether the 3D engine calculation experienced process drop-out.</p>

<pre>    $NitroSDK/build/demos/tips/SwapCrossOver
</pre>

<p>When a discrepancy exists with the 2D screen due to a process drop-out on the 3D screen calculation, consider using this method for synchronization that uses a polygon counter.</p>



<h3><a name="note6-16">Note 6-16</a>: (GX) Added transparent conversion matrix APIs to adjust <code>scaleW</code></h3>

<p>Created the following transparent conversion APIs to set <code>scaleW</code> to a desired value.</p>

<pre>    G3_FrustumW()
    G3_PerspectiveW()
    G3_OrthoW()
</pre>

<p>In addition, <code>MTX_Frustum()</code>, <code>MTX_Perspective()</code>, and <code>MTX_Ortho()</code> are also separately available to create matrices without transmitting to the geometry engine.</p>



<h3><a name="note6-17">Note 6-17</a>: (GX) Changed the command FIFO reset process using the <code>GX_Init</code> function</h3>

<p>The implementation of the command FIFO reset process was changed. <code>G3_End()</code> is issued after 128 NOP units are sent as an internal process.</p>



<h3><a name="note6-18">Note 6-18</a>: (GX) Corrected a bug in fog mode control</h3>

<p>A bug in <code>G3X_SetFog</code> prevented <code>fogMode</code> from returning to 0 from 1. This is fixed.</p>



<h3><a name="note6-19">Note 6-19</a>: (OS) Changed the thread system handling</h3>

<p>In consideration of the controlling the various systems that may be
connected in the future, the initialization of the thread system was changed to occur by default. <code>OS_InitThread()</code> is called with <code>OS_Init()</code>.</p>

<p>If creating a library that does not use the thread system, compile after defining <code>NITRO_NO_THREAD</code>.</p>



<h3><a name="note6-20">Note 6-20</a>: (OS) Added <code>OS_SPrintf()</code></h3>

<p>With a smaller code load than the standard <code>springf()</code> function, the <code>OS_SPrintf()</code> format string function and its system were added by partially eliminating output support, such as for floating point decimal values. This function is primarily used on ARM7 for character string processing.</p>



<h3><a name="note6-21">Note 6-21</a>: (OS) Added TEG board memory byte access measures</h3>

<p><code>MI_ReadByte()</code> and <code>MI_WriteByte()</code> were
prepared for memory byte access in consideration of the convenience of program creation on the TEG version. These will be converted to simple byte access instructions on the production version library.</p>



<h3><a name="note6-22">Note 6-22</a>: (OS) Added <code>OS_WaitIrq()</code>, <code>OS_WaitAnyIrq()</code>, and <code>OS_WaitInterrupt()</code></h3>

<p>Added the <code>OS_WaitIrq()</code> function that waits for a specified IRQ and the <code>OS_WaitAnyIrq()</code> and <code>OS_WaitInterrupt()</code>  functions. <code>OS_WaitIrq()</code> and <code>OS_WaitAnyIrq()</code> give processing over to other threads while waiting for an IRQ.</p>

<p><code>OS_WaitInterrupt()</code> uses <code>OS_Halt()</code> to wait, so thread movement does not occur. This has been prepared to operate the same as <code>SVC_WaitIntr()</code>.</p>



<h3><a name="note6-23">Note 6-23</a>: (OS) Added <code>ATTRIBUTE_ALIGN()</code></h3>

<p>Added the <code>ATTRIBUTE_ALIGN()</code> macro to specify arrangement alignment when defining variables. The macro name
follows the NINTENDO GAMECUBE SDK definitions.</p>



<h3><a name="note6-24">Note 6-24: (OS) Extended the IDLE thread stack</a></h3>

<p>The size of the low priority idle thread stack created when the Thread system is started is set to 128 bytes on ARM9 and 64 bytes on ARM7 for SVC.</p>



<h3><a
name="note6-25">Note 6-25</a>: (OS) Added <code>OS_GetLockID()</code> and <code>OS_ReleaseLockID()</code></h3>

<p>Added <code>OS_GetLockID()</code> and <code>OS_ReleaseLockID()</code> as a structure to manage lock IDs used by OS.</p>



<h3><a name="note6-26">Note 6-26</a>: (OS) Added <code>OS_SetSwitchThreadCallback()</code></h3>

<p>Added a callback feature when switching threads. The callback is registered with <code>OS_SetSwitchThreadCallback()</code>.</p>



<h3><a name="note6-27">Note 6-27</a>: (OS) Released <code>Mutex</code>
with <code>OS_ExitThread()</code></h3>

<p>When a thread is ended with <code>OS_ExitThread()</code>,
the <code>Mutex</code> locked by that thread is released.</p>



<h3><a name="note6-28">Note 6-28</a>: (OS) Changed the ARM7 component loop process</h3>

<p>The main loop process for the ARM7 component is <code>OS_Halt()</code>.</p>



<h3><a name="note6-29">Note 6-29</a>: (OS) Corrected <code>OS_SetProtectionRegion7()</code> and
<code>OS_SetProtectionRegion7</code></h3>

<p>Corrected so that <code>OS_SetProtectionRegion7()</code>
and <code>OS_SetProtectionRegion7</code> operate on Region 7 rather than Region 6.</p>



<h3><a name="note6-30">Note 6-30: (OS) Added the system clock</a> definition</h3>

<p>Defined the CPU clock values <code>HW_CPU_CLOCK_ARM7</code> and <code>HW_CPU_CLOCK_ARM9</code> for each processor and the CPU
clock value <code>HW_CPU_CLOCK</code> for the current compiler target processor.</p>



<h3><a name="note6-31">Note 6-31</a>: (OS) Changed <code>OS_Panic()</code> termination operation</h3>

<p>Changed the <code>OS_Panic()</code> terminate
operation from <code>OS_Halt</code> 
to <code>OS_Terminate()</code>.</p>



<h3><a name="note6-32">Note 6-32</a>: (OS) Changed the OS demo structure</h3>

<p>Changed the OS demo structure. <code>waitIrq-1</code> and <code>waitIrq-2</code> were added due to this change.</p>

<p>In addition, callTrace-1, callTrace-2, exceptionDisplay-3, functionCost-1, functionCost-2, and functionCost-3 were prepared as demos that do not go in <code>Makefile</code>. These are not included in <code>Makefile</code> because they require that the OS library be compiled using a special option.</p>



<h3><a name="note6-33">Note 6-33</a>: (OS) Changed the IRQ handler</h3>

<p>Due to hardware specifications, a timing problem with enabling/disabling interrupts and IRQ generation caused IME=0 when an IRQ was generated. When this occurs, it exits without doing anything.</p>



<h3><a name="note6-34">Note 6-34</a>: (OS) Added the function call trace and function cost measurement mechanism</h3>

<p>Added a call trace the uses the profile feature of CodeWarrior and a mechanism to measure function costs.</p>

<p>See the following file for an explanation of support for the profile feature by NITRO-SDK.</p>

<pre>    $NitroSDK/docs/TechnicalNotes/MechanismOfProfiler.doc
</pre>



<h3><a name="note6-35">Note 6-35</a>: (OS) Added interrupt check flags for operations</h3>

<p>Prepared the <code>OS_IE_USER_FLAG0</code> and <code>OS_IE_USER_FLAG1</code> check flags, which can be freely used with applications similar to the SDK interrupt causes.</p>



<h3><a name="note6-36">Note 6-36</a>: (SND) Updated the sound library</h3>

<p>The sound library distributed with the NITRO-SDK is version 2004.4.12.</p>



<h3><a name="KnownIssues_1_02_pr1">Known Problems in SDK 1.2 PR1</a></h3>

<p>(To be corrected in the next or a future release)</p>
<ol>
 <li>The archive portion of the file system is a trial
     version.</li>
 <li>SDK 1.2 PR1 presupposes use of CodeWarrior-0.5. For this
     reason, it may not operate properly with prior versions.</li>
 <li>There is no documentation for <code>makerom/makelcf</code>.</li>
 <li>The FINALROM version binary does not operate on the
     03/30/2004 version of <code>ensata</code>.</li>
</ol>


<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;font-family:Arial'>



</div>
<HR>
<h2><a name="_NITRO-SDK_Ver_1.0"><span class=msoins0><span
style='font-family:Arial'>NITRO-SDK Ver 1.0</span></span></a></h2>

<p align=right><span class=msoins0><span
style='font-family:Arial'>(</span></span><span
 class=msoins0><span style='font-family:Arial'>04/05/2004</span></span><span
class=msoins0><span style='font-family:Arial'>)</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="_Note_5-01"></a><span class=msoins0><span
style='font-family:Arial'">Note 5-01: Support for CodeWarrior NITRO V0.4</span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>We now support
CodeWarrior NITRO V0.4. Therefore, the compiler start time options <code>-avoid_strb</code> and 
<code>-avoid_byte</code> have been replaced.</p>

<p><span class=msoins0><span style='font-family:Arial'>Compiler version
information is stored in </span></span><code>verinfo.cw.cc</code> and 
<code>verinfo.cw.ld</code>, under <code>$NitroSDK/build/buildtools</code>. 
These files will be automatically updated when you upgrade from CodeWarrior 
0.3 to 0.4. However, if you downgrade from 0.4 to 0.3, they will not be 
updated, which will cause problems. When you downgrade CodeWarrior you must 
either manually delete the <code>$NitroSDK/build/buildtools/verinfo.cw.*</code> 
files, or input <code>make clean-</code><code>verinfo</code> from the command line.</p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt'>



</span></span></div>

<h3><a name="_Note_5-02"></a><span class=msoins0><span
style='font-family:Arial'">Note 5-02: Revised </span></span><code>GX_HBlankOBJProc()</code> / 
<code>GXS_HBlankOBJProc()</code></h3>

<p><span class=msoins0><span style='font-family:Arial'>In </span></span>
<code>GX_HBlankOBJProc()</code> / <code>GXS_HBlankOBJProc()</code>, actual 
behavior was the opposite of the values in the <code>proc</code> parameter.</p>

<p><span class=msoins0><span style='font-family:Arial'>This has been fixed.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt'>



</span></span></div>

<h3><a name="_Note_5-03"></a><span class=msoins0><span
style='font-family:Arial'">Note 5-03: Revised <code>G2_SetOBJAttr()</code> / <code>G2S_SetOBJAttr()</code></span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>In <code>G2_SetOBJAttr()</code> and
<code>G2S_SetOBJAttr()</code>, when you were operating in <code>GX_OAM_MODE_BITMAPOBJ</code> mode and
using <code>GX_OAM_EFFECT_AFFINE</code>, the <code>rsParam</code> parameter 
specifications were not reflected in OAM.</span></span></p>

<p><span class=msoins0><span style='font-family:Arial'>This has been fixed.</span></span></p>



<h3><a name="_Note_5-04"></a><span class=msoins0><span
style='font-family:Arial'">Note 5-04: Revised <code>GX_DisableBankFor*()</code></span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>In <code>GX_DisableBankFor*()</code>, 
internal behavior was incorrect, which caused it to behave improperly.</span></span></p>

<p><span class=msoins0><span style='font-family:Arial'>This has been fixed.</span></span></p>



</span></span></h3>

<h3><span class=msoins0><span style='font-family:Arial'">Note 5-05: Revised
<code>NitroPostLinker.bat</code><a name="_Note_5-05"></a></span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>The <code>NitroPostLinker.bat</code> 
file referenced the environment variable <code>CWFOLDER_IRIS</code>.</span></span></p>

<p><span class=msoins0><span style='font-family:Arial'>We changed it to
reference the environment variable <code>CWFOLDER_NITRO</code>.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="_Note_5-06"></a><span
class=msoins0><span style='font-family:Arial'">Note 5-06: fs/file-1. Fixed Demo
Link Bug</span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>Due to a link procedure
bug in the fs/file-1 demo, even if you added <code>NitroStartUp()</code>, 
<code>NitroStartUp()</code> would not be linked.</span></span></p>

<p><span class=msoins0><span style='font-family:Arial'>This has been fixed.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="_Note_5-07"></a><span
class=msoins0><span style='font-family:Arial'">Note 5-07: Revised <code>makerom</code> 
(beta version)</span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>In the </span></span><span
class=spelle><span style='font-family:Arial'>makerom</span></span><span
class=msoins0><span style='font-family:Arial'> tool, which is currently
included as a tool evaluation version, if the ARM9's resident module size was
too small, an error was generated.</span></span></p>

<p><span class=msoins0><span style='font-family:Arial'>This has been fixed.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="_Note_5-08"></a><span
class=msoins0><span style='font-family:Arial'">Note 5-08: Revised the lcf
Template for <code>makelcf</code> (beta version)</span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>In the lcf template file
for the </span></span><span class=spelle><span style='font-family:Arial'>makelcf</span></span><span
class=msoins0><span style='font-family:Arial'> tool, which is currently
included as a tool evaluation version, part of the module size calculation was
incorrect.</span></span></p>

<p><span class=msoins0><span style='font-family:Arial'>This has been fixed.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="KnownIssues_1_00_rc2"></a>
<a name="_NITRO-Known_Issues_in_SDK_Ver_1.0"></a><span class=msoins0><span
style='font-family:Arial'>NITRO-Known Issues in SDK Ver 1.0</span></span></h3>

<ol start=1 type=1>
 <li class=msoins0><span class=msoins0><span style='font-family:Arial'>Some of the explanations of the newly
     added demos have not yet been added to the online manual.</span></span></li>
 <li class=msoins0><span class=msoins0><span style='font-family:Arial'>ROM file system function, overlays are
     still pending.</span></span></li>
</ol>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<HR>
<h2><a name="sdk_1_00_rc1"><span class=msoins0><span
style='font-family:Arial'>NITRO-SDK Ver 1.0 RC1</span></span></a></h2>

<p align=right><span class=msoins0><span
style='font-family:Arial'>(3/30/2004)</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="_Note_4-01"></a><span
class=msoins0><span style='font-family:Arial'">Note 4-01: Fix of <code>G3_Frustum()</code>
bug</span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>There was a flaw in
<code>$NitroSDK/build/library/gx/src/g3_util.c</code> and the <code>G3_Frustum()</code> matrix could not
be properly set up.</span></span><br>
<span class=msoins0><span style='font-family:Arial'>This bug was fixed.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="_Note_4-02"></a><span
class=msoins0><span style='font-family:Arial'">Note 4-02: Fix of transfer error
with </span></span><span class=spelle><span style='font-family:Arial'>GX_LoadTex</span></span><span
class=msoins0><span style='font-family:Arial'>()</span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>An error occurred and
the program stopped when Slot 0 for the texture image in VRAM_A was set aside
and the image was transferred with <code>GX_LoadTex()</code>. This bug was fixed.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><span class=msoins0><span style='font-family:Arial'><a name="note4-03">Note 4-03: Fix of
GX_RegionCheck_Obj()</a></span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>The program stopped with
ASSERT if a process such as a texture load was done when VRAM_B was allocated
to the OBJ.</span></span><br>
<span class=msoins0><span style='font-family:Arial'>This bug was fixed.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note4-04"><span class=msoins0><span style='font-family:Arial'">Note
4-04: Fix of GX3_GetCommandFifoStatus()</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>The return value from
<code>G3X_GetCommandFifoStatus()</code> was not accurate.</span></span><br>
<span class=msoins0><span style='font-family:Arial'>This bug was fixed.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note4-05"><span class=msoins0><span style='font-family:Arial'">Note
4-05: Support for DTCM position change</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>A change was made so the
DTCM position could be changed.  This is made possible by
changing the HW_DTCM value in <code>$NitroSDK/include/nitro/hw/common/mmap_global.h</code>.
However, a full <code>make</code> must be carried out for the library after the change.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><span class=msoins0><span style='font-family:Arial'><a name="note4-06">Note 4-06: Fix of
codereset.h</a></span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>There was a flaw in 
<code>$NitroSDK/include/nitro/codereset.h</code>. It always switched to thumb.</span></span><br>
<span class=msoins0><span style='font-family:Arial'>This bug was fixed.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note4-07"><span class=msoins0><span style='font-family:Arial'">Note
4-07: Bug with exception vector set up</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>When the debugger was
using the exception vector, the hook process for the vector was incorrect due
to the coexistence of settings in the NITRO-SDK. Accurate operation was not
possible.</span></span><br>
<span class=msoins0><span style='font-family:Arial'>This bug was fixed.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note4-08"><span class=msoins0><span style='font-family:Arial'">Note
4-08: Addition of self-cancel in periodic alarm handle</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>Until now, a self-cancel
of an alarm in the periodic alarm handle was not possible. This is now
possible.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><span class=msoins0><span style='font-family:Arial'><a name="note4-09">Note 4-09: Addition of
OS_IsThreadAvailable()</a></span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>A function 
<code>OS_IsThreadAvailable()</code> was added to initialize the
thread system and check if it can be used.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note4-10"><span class=msoins0><span style='font-family:Arial'>Note
4-10: Standardization of constant and address substitution assembler display </span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>Stopped use of <code>ldconst</code> 
and <code>lda</code> to specify the assembler for
substituting constants and addresses. It was standardized to <code>ldr</code> only.</span></span></p>

<p>(Before Change)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(After Change)<br>
<pre>ldconst r0, #CONSTANT -&gt; ldr r0, =CONSTANT
lda r0,Address&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; ldr r0, =Address
</pre>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note4-11"><span class=msoins0><span style='font-family:Arial'>Note
4-11: Fix of G2_SetBG3ControlDCBump() bug</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>There was a mistake in
the assert determination for <code>$Nitro_SDK/include/nitro/gx/gx_bgcnt.h</code>.<br>
This bug was fixed.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note4-12"><span class=msoins0><span style='font-family:Arial'">Note
4-12: Addition of fixed point definition</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>A fixed point definition
to show 0.5 was added to <code>$NitroSDK/include/nitro/fx/fx_const.h</code>. 
The fixed points of <code>fx16</code>, <code>fx32</code>, and <code>fx64</code> 
are defined as <code>FX16_HALF</code>, <code>FX32_HALF</code>, and 
<code>FX64_HALF</code>.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note4-13"><span class=msoins0><span style='font-family:Arial'">Note
4-13: Standardization of macro FX_MUL32x64C and in-line function FX_Mul32x64c
rounding up process</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>Standardized the
rounding up process for <code>FX_MUL32x64C</code> and <code>FX_Mul32x64c</code>.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="KnownIssues_1_00_rc1"><span class=msoins0><span style='font-family:
Arial'>Known Issues with NITRO-SDK Ver 1.0</span></span></a><span
class=msoins0><span style='font-family:Arial'> RC1</span></span></h3>

<p><span class=msoins0>The ROM file system function and
     overlay problems were carried over.</span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>
<HR>
<h2><a name="sdk_1_00_pr2"><span class=msoins0><span
style='font-family:Arial'>NITRO-SDK Ver 1.0 PR2</span></span></a></h2>

<p align=right><span class=msoins0><span
style='font-family:Arial'>(03/17/2004)</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-01"><span class=msoins0><span style='font-family:Arial'">Note
3-01: Addition of PXI Library</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>Added a PXI Library for
carrying out communication between ARM9 and ARM7.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-02"><span class=msoins0><span style='font-family:Arial'">Note
3-02: Addition of graphics samples</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>The following graphics
samples were added.</span></span></p>

<table class=MsoNormalTable border=0 cellpadding=0>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>2D_CharBg_256_16</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Affine extension/256 colors x 16 extension palette character BG display</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>2D_CharBg_256BMP</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Affine extension/256 color bitmap BG display</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>2D_CharBg_Direct</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Affine extension/direct color bitmap BG display</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>2D_Oam_256_16</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Affine extension/256 colors x 16 extension palette OBJ display</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>2D_Oam_Bmp1D</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>One-dimensional mapping/bitmap OBJ display</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>2D_Oam_Char1D</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>One-dimensional mapping/character OBJ display</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>2D_Oam_Direct</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Two-dimensional mapping/bitmap OBJ display</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>2D_Oam_OBJWindow</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>OBJ window display</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>2D_Oam_Translucent</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Translucent OBJ display</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>3D_BoxTest</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Carries out box test</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>3D_PolAttr_1Dot</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>GX_POLYGON_ATTR_MISC_DISP_1DOT</code> setup
  for <code>G3_PolygonAttr()</code></p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>3D_PolAttr_DpthTest</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>GX_POLYGON_ATTR_MISC_DEPTHTEST_DECAL</code>
  setup for <code>G3_PolygonAttr()</code></p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>3D_PolAttr_DpthUpdate</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>GX_POLYGON_ATTR_MISC_XLU_DEPTH_UPDATE</code>
  setup for <code>G3_PolygonAttr()</code></p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>3D_PolAttr_FARClip</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>GX_POLYGON_ATTR_MISC_FAR_CLIPPING</code>
  setup for <code>G3_PolygonAttr()</code></p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>3D_Pol_Vertex_Source</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>GX_TEXGEN_VERTEX</code> setup for
  <code>G3_TexImageParam()</code></p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>3D_Shadow_Pol</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Displays shadow using shadow polygon</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>AntiAlias</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Views anti-aliasing</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>Capture</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Motion Blur effect using capture</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>ClearColor</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Sets up clear color</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>ClearImage</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Sets up clear image</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>CurrentMtx</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Outputs current clip coordinate matrix
  and direction vector coordinate matrix</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>FlipRepeat</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Changes texture flip/repeat</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>LinesOver</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Polygon line over display</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>Master_Bright</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Master brightness adjustment</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>PosVecTest</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Outputs <code>G3_VectorTest()</code> and
  <code>G3_PositionTest()</code> result</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>RamOverFlow</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Overflows polygon list RAM/vertex RAM.</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>VCount</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Obtaining and changing V-counter</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>ViewPort</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>View port setup change</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>Window</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Window transformation with operation
  during H-Blank period.</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>Window_HDMA</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Window transformation with H-Blank
  DMA.</p>
  </td>
 </tr>
 <tr>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p><code>DEMOLib</code></p>
  </td>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Common processing</p>
  </td>
 </tr>
</table>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-03"><span class=msoins0><span style='font-family:Arial'">Note
3-03: Addition of compression tool for MI file opening API</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>Added data compression
tool <code>ntrcomp</code>. It is located in <code>$NitroSDK/build/tools/ntrcomp/</code>.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-04"><span class=msoins0><span style='font-family:Arial'">Note
3-04: Addition of document about coexistence of NITRO-SDK and AGBSDK
environments</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>Added document about
installing and using both NITRO-SDK and AGBSDK at same time to
<code>$NitroSDK/docs/HowToJoinAGBDevEnv.txt</code>.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-05"><span class=msoins0><span style='font-family:Arial'">Note
3-05: Setup of OBJ and BG bank EFG</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>Added the entries <code>80_EF</code>
and <code>80_EG</code> to the VRAM bank combination setup. Changed so VRAM can be
aligned to <code>BG</code> or <code>OBJ</code> using <code>EF</code> and <code>EG</code> combination.</span></span></p>

<p><span class=msoins0><span style='font-family:Arial'>In addition, to handle
requests for aligning VRAM with combinations not supported with the SDK, a
document was compiled describing how to add entries by revising the SDK source.
The document is located in <code>$NitroSDK\docs\SDKHowTo/HowToMakeMyVRamBankType.txt</code>.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-06"><span class=msoins0><span style='font-family:Arial'">Note
3-06: Fix of G3X_InitMtxStack() problem</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>If the original
PROTECTION matrix stack level was 0 during initialization of the matrix stack,
a stack underflow was caused.</span></span><br>
<span class=msoins0><span style='font-family:Arial'>This bug was fixed.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-07"><span class=msoins0><span style='font-family:Arial'">Note
3-07: Addition of link to man geometry command cycle list</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>A link was added to go
from 3D geometry (G3*) in the left window of the manual to the geometry command
cycle list.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><span class=msoins0><span style='font-family:Arial'><a name="note3-08">Note 3-08: Creation of
OS_Sleep()</a></span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>Added the function <code>OS_Sleep()</code> 
to stop a thread for a specified time.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-09"><span class=msoins0><span style='font-family:Arial'">Note
3-09: Fix of thread switch bug</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>When the thread was
switched in the IRQ handle, the location referenced in the thread list was
incorrect and a thread was not run unintentionally.</span></span><br>
<span class=msoins0><span style='font-family:Arial'>This bug was fixed.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-10"><span class=msoins0><span style='font-family:Arial'>Note 3-10: Creation of
OS_ReadMessage()</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>The function 
<code>OS_ReadMessage()</code> was created to reference the
first message in the message queue and copy it only. <code>OS_ReadMessage()</code> 
is different from <code>OS_ReceiveMessage()</code>. It does not try to send a
message and recover blocked threads. Also, it does not change the content of
the message queue.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-11"><span class=msoins0><span style='font-family:Arial'">Note
3-11: Fix of IRQ check fragment</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>With the timer interrupt
during the setting of the IRQ interrupt check flag, an incorrect bit was
accessed and set.</span></span><br>
<span class=msoins0><span style='font-family:Arial'>This bug was fixed.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-12"><span class=msoins0><span style='font-family:Arial'">Note
3-12: Fix of multiple V-count alarms</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>When multiple periodic
functions with similar startup times were input for the V-count alarm, a bug
occurred in which only the first function was executed. This bug was fixed.</span></span><br>
<span class=msoins0><span style='font-family:Arial'>Along with this fix, a
change was made so a delay allowed count could be specified for the run time of
the periodic function for the V-count alarm.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-13"><span class=msoins0><span style='font-family:Arial'">Note
3-13: Fix of tick bug</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>A bug was found in the
tick system. The system would only count up to a certain number of digits.</span></span><br>
<span class=msoins0><span style='font-family:Arial'>This bug was fixed so that 64-bit
values could be handled.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-14"><span class=msoins0><span style='font-family:Arial'">Note
3-14: Addition of time and tick conversion macro</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>Conversion macros were
added for time specified in seconds, milliseconds and microseconds; and the
tick count value based on the system clock used in <code>OS_Sleep()</code> 
and <code>OS_SetAlarm()</code>. These macros are listed below.</span></span></p>

<p><code>OS_MicroSecondsToTicks( usec )<br>
OS_MilliSecondsToTicks( msec )<br>
OS_SecondsToTicks( sec )<br>
OS_TicksToMicroSeconds( tick )<br>
OS_TicksToMilliSeconds( tick )<br>
OS_TicksToSeconds( tick )</code></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-15"><span class=msoins0><span style='font-family:Arial'">Note
3-15: Fix of bug with recovery from timer interrupt callback</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>A timer interrupt
callback was setup with <code>OS_SetIrqFunction()</code>, the timer interrupt was started, and the callback
was called. Even if a timer interrupt was setup again at this point, the
interrupt was cleared when it returned from the callback.</span></span><br>
<span class=msoins0><span style='font-family:Arial'>This bug was fixed.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-16"><span class=msoins0><span style='font-family:Arial'">Note 3-16: Change to
handling of FIQ in <code>OS_DisableInterrupts()</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>Both IRQ and FIQ were
stopped with <code>OS_DisableInterrupts()</code>, but a change was made so only
IRQ was stopped due to conditions related to the debugger.</span></span><br>
<span class=msoins0><span style='font-family:Arial'>The lock/unlock and context
switch of the AD Bus stops both IRQ and FIQ.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-17"><span class=msoins0><span style='font-family:Arial'">Note
3-17: Change of specifications for debugger exception handler call</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>The specifications were
changed so if a debugger exception handler is present it is called before
calling the user exception handler.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-18"><span class=msoins0><span style='font-family:Arial'">Note
3-18: Change to register name of ARM7</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>The categories for the
registers <code>reg_DISP_DISPSTAT</code> and <code>reg_DISP_VCOUNT</code> 
were transferred to GX and the names were changed to <code>reg_GX_VCOUNT</code> 
and <code>reg_GX_DISPSTAT</code>.</span></span><br>
<span class=msoins0><span style='font-family:Arial'>The <code>reg_OS_POWCNT</code> 
categories were transferred to SND. The name was changed to <code>reg_SND_POWCNT</code>.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-19"><span class=msoins0><span style='font-family:Arial'">Note
3-19: Fix of register table</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>Minor fixes were done to
the ARM9 and ARM7 register tables, <code>$NitroSDK/build/buildsetup/ioreg/io_reg_list*</code>, 
<code>$NitroSDK/build/buildsetup/ioreg_sp/io_reg_list*</code>. Almost all of the current
specifications were compiled together. The areas added that were not present
before are mainly in the EXI and PXI categories. </span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-20"><span class=msoins0><span style='font-family:Arial'">Note
3-20: Fix of manual</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>Corrections were done to
some errors in the reference manual. One of these was to change <code>MI_SetWRAMBank()</code> 
to <code>MI_SetWramBank()</code>. Also please note that in conjunction with 
this change, the html file for the <code>MI_SetWramBank()</code> manual was 
changed from <code>MI_SetWRAMBank.html</code> to <code>MI_SetWramBank.html</code>. </span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note3-21"><span class=msoins0><span style='font-family:Arial'">Note
3-21: Fix of IRQ Table</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>This problem was in the
OS. There was a mistake in the IRQ handler table. The interrupt elements
allocated to the bits in the IE register were not all in order and there were
some not being used. This was not considered when the table was made so when
interrupts after unused items referenced the table, they accessed the wrong
areas. This problem was fixed.</span></span><br>
<span class=msoins0><span style='font-family:Arial'>Unused items were also
allocated to elements in the table. There were two extra alignment elements in
ARM9 and three extra in ARM7. There was a marginal increase in the memory used.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="KnownIssues_1_00_pr2"><span class=msoins0><span style='font-family:
Arial'>Known Issues in NITRO-SDK Ver 1.0 PR2</span></span></a></h3>

<p><span class=msoins0>The ROM file system function and
     overlay problems will be carried over. </span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>
<HR>
<h2><a name="sdk_1_00_pr1"></a><a
name="_NITRO-SDK_Ver_1.0_PR1"></a><a name="_NITRO-SDK_Ver_1.0_PR1"></a><span
class=msoins0><span style='font-family:Arial'>NITRO-SDK </span></span><span
class=spelle><span style='font-family:Arial'>Ver</span></span><span
class=msoins0><span style='font-family:Arial'> 1.0 PR1</span></span></h2>

<p align=right><span class=msoins0><span
style='font-family:Arial'>(2/27/2004)</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-01"><span class=msoins0><span style='font-family:Arial'">Note 2-01: Name Change to
NITRO-SDK</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>The </span></span><span
class=spelle><span style='font-family:Arial'>irisSDK</span></span><span
class=msoins0><span style='font-family:Arial'> now supports NITRO hardware. At
the same we changed the SDK name to NITRO-SDK.</span></span><br>
<span class=msoins0><span style='font-family:Arial'>Notice that following this
name change, in the NITRO-SDK the following changes have been made from </span></span><span
class=spelle><span style='font-family:Arial'>irisSDK</span></span><span
class=msoins0><span style='font-family:Arial'>.</span></span></p>

<ol start=1 type=1>
 <li><span class=msoins0><span style='font-size:10.0pt'>Changed
     <code>iris.h</code> to <code>nitro.h</code>.</span></span></li>
 <li><span class=msoins0><span style='font-size:10.0pt'>Changed
     the directory <code>include/iris</code> to <code>include/nitro</code>.</span></li>
 <li><span class=msoins0><span style='font-size:10.0pt'>Changed
     the main function <code>IrisMain</code> to <code>NitroMain</code></span>.</span></li>
 <li><span class=msoins0><span style='font-size:10.0pt'>Changed
     the environment variable <code>IRISSDK_ROOT</code> to <code>NITROSDK_ROOT</code>.</span></span></li>
 <li><span class=msoins0><span style='font-size:10.0pt'>Changed
     the switches that begin with IRIS, such as the compile switch <code>IRIS_DEBUG</code>
     to <code>NITRO_DEBUG</code>.</span></span></li>
 <li><span class=msoins0><span style='font-size:10.0pt'>Changed
     the word IRIS to NITRO in documentation.</span></span></li>
 <li><span class=msoins0>Prepared <code>$NitroSDK/tools/elftobin/NitroPostLinker.bat</code> 
     as a Postlinker for NITRO in IDE.</span></li>
</ol>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-02"><span class=msoins0><span style='font-family:Arial'">Note 2-02: Grouped Source
According the Processors.</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We grouped some of the
library source files and header files according to the processor, and stored
them respectively in the ARM9/ARM7/common sub directories.</span></span></p>

<p><span class=msoins0><span style='font-family:Arial'>Anyone who until now has
been directly specifying <code>#include &lt;iris/os/alloc.h&gt;</code> instead of 
<code>iris.h</code>, <code>os.h</code> when including header files for the OS, etc., must
now specify <code>#include &lt;nitro/os/common/alloc.h&gt;</code>.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-03"><span class=msoins0><span style='font-family:Arial'">Note
2-03: Added an API and Demos to Support Sub LCD.</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We prepared an API (GXS
function group) to support the Sub LCD. We also added demo programs that use
the API. Refer to directories that begin with <code>Sub</code>, under 
<code>$NitroSDK/build/demos/gx/UnitTours</code>.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-04"><span class=msoins0><span style='font-family:Arial'">Note
2-04: Changed the ELF File Extension</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We changed the ELF file
extension to <code>.nef</code>. We also plan to support <code>.nef</code> 
with NITRO development-related tools.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-05"><span class=msoins0><span style='font-family:Arial'">Note
2-05: Moved the Sample Code Directory, and Added Code for Auto Test.</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We changed the directory
that contains sample code from <code>$NitroSDK/build/tests</code> to 
<code>$NitroSDK/build/demos</code>.</span></span></p>

<p><span class=msoins0><span style='font-family:Arial'>We embedded code for
auto test control in some files, for SDK library test processing. In
particular, this code is enclosed in <code>#ifdef SDK_AUTOTEST - #endif</code>. 
This code is for our internal use. If you are going to copy sample code and use 
it, we do not mind if you remove the auto test code.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-06"><span class=msoins0><span style='font-family:Arial'">Note
2-06: SDK Thumb Code Compile</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>It is now possible to
generate a thumb code version library. To switch, you can use the <code>make</code> 
command start time variables or the environment variable <code>NITRO_CODEGEN</code>.</span></span></p>

<p><span class=msoins0><span style='font-family:Arial'>Sample command</span></span></p>

<table class=MsoNormalTable border=0 cellpadding=0>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p><span class=msoins0>Generate THUMB version code</span></p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p><span class=msoins0>&nbsp;</span></p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p><span class=msoins0><code>make NITRO_CODEGEN=THUMB</code></span></p>
  </td>
 </tr>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p><span class=msoins0>Generate ARM version code</span></p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p><span class=msoins0>&nbsp;</span></p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p><span class=msoins0><code>make NITRO_CODEGEN=ARM</code></span></p>
  </td>
 </tr>
</table>

<p><span class=msoins0><span style='font-family:Arial'>Currently, if you omit
<code>NITRO_CODEGEN</code>, it will generate an ARM code version library.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-07"><span class=msoins0><span style='font-family:Arial'">Note
2-07: Provided a Means of Switching ARM code / Thumb Code Generation at
Function Level.</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We prepared include
files that allow each function to switch ARM code / Thumb code generation, and
to return to initial settings.</span></span></p>

<table class=MsoNormalTable border=0 cellpadding=0>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p><span class=msoins0>Instruct ARM code generation</span></p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p><span class=msoins0>&nbsp;</span></p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p><span class=msoins0><code>$NitroSDK/include/nitro/code32.h</code></span></p>
  </td>
 </tr>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p><span class=msoins0>Instruct Thumb code generation</span></p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p><span class=msoins0>&nbsp;</span></p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p><span class=msoins0><code>$NitroSDK/include/nitro/code16.h</code></span></p>
  </td>
 </tr>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p><span class=msoins0>Return to initial settings</span></p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p><span class=msoins0>&nbsp;</span></p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p><span class=msoins0><code>$NitroSDK/include/nitro/codereset.h</code></span></p>
  </td>
 </tr>
</table>

<p><span class=msoins0><span style='font-family:Arial'>(Example)</span></span><br>
<span class=msoins0><span style='font-family:Arial'>If you want the function</span></span><span
class=msoins0><span style='font-family:"Courier New"'> void A(void)</span></span><span
class=msoins0><span style='font-family:Arial'> to generate using Thumb code:</span></span></p>

<pre><span class=msoins0>#include &lt;nitro/code16.h&gt;</span></pre><pre><span
class=msoins0>void A(void)</span></pre><pre><span class=msoins0>{</span></pre><pre><span
class=msoins0>     ....</span></pre><pre><span class=msoins0>}</span></pre><pre><span
class=msoins0>#include &lt;nitro/code32.h&gt;</span></pre>

<p><span class=msoins0><span style='font-family:Arial'>In CodeWarrior, </span></span><span
class=spelle><span style='font-family:Arial'>pragma</span></span><span
class=msoins0><span style='font-family:Arial'> can directly change the output
code. However, our policy is to use these files to absorb, as much as possible,
the differences in compilers. We recommend that you use them.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-08"><span class=msoins0><span style='font-family:Arial'">Note
2-08: Support for C++ in the SDK Library</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We have made the
following additions and revisions to support code creation with C++.</span></span></p>

<ol start=1 type=1>
 <li><span class=msoins0>Added a process to call the <code>NitroStartUp()</code> function and a
     static constructor before calling <code>NitroMain()</code>.</span></li>
 <li><span class=msoins0>Revised header files that had problems
     when used with C++.</span></li>
 <li><span class=msoins0>C++ sample code collection
     (<code>$Nitro/build/demos/os/cplusplus-1</code>).</span></li>
</ol>

<p><span class=msoins0>If the <code>NitroStartUp()</code> 
function has been prepared on the application side, the SDK
will call the <code>NitroStartUp()</code>
function before the static constructor process. If you initialize the memory
management mechanism in <code>NitroStartUp()</code>, it will be possible to 
use the <code>new()</code> function in the static constructor process.</span></p>

<p><span class=msoins0>&nbsp;</span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-09"><span class=msoins0><span style='font-family:Arial'">Note
2-09: Support for X, Y Buttons</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We now support X, Y
button read in the <code>PAD_Read()</code>
function.</span></span></p>

<p><span class=msoins0><span style='font-family:Arial'>Notice that due to
hardware specifications, interrupts generated by X, Y button input 
(see <code>PAD_SetIrq()</code>) are not supported.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-10"><span class=msoins0><span style='font-family:Arial'">Note 2-10: Revisions
Related to make-Related Files</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We revised <code>make</code>-related
files (<code>commondefs</code>, <code>modulerules</code>, etc., in 
<code>$NitroSDK/build/buildtools</code>).</span></span></p>

<p><span class=msoins0><span style='font-family:Arial'>This implemented /
revised the following.</span></span></p>

<ol start=1 type=1>
 <li><span class=msoins0>Implemented output of a source file
     dependence information file, and its reference process.</span></li>
 <li><span class=msoins0>Make did not function properly when
     using the <code>make</code>&nbsp;<code>-f</code> option. Fixed.</span></li>
 <li><span class=msoins0>Make did not function properly when
     you specified a large source file in SRCS. Fixed.</span></li>
</ol>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-11"><span class=msoins0><span style='font-family:Arial'">Note
2-11: Revised Compound Statement Expressions</span></span></a><span
class=msoins0><span style='font-family:Arial'> in Macros.</span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>We eliminated compound
statements (multiple statements within <code>{}</code>) with macros definitions.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-12"><span class=msoins0><span style='font-family:Arial'">Note
2-12: Moved the Inline Assembler Functions That Were in Header Files to C
source.</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>Because it caused
problems with ARM/Thumb code output switching, we moved the inline assembler
functions (from static inline </span></span><span class=spelle><span
style='font-family:Arial'>asm</span></span><span class=msoins0><span
style='font-family:Arial'>) from the header files to C source.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-13"><span class=msoins0><span style='font-family:Arial'">Note
2-13: Name Change: Macro CODEGEN_PROC to NITRO_PROC</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>Changed the name of the
macro variable <code>CODEGEN_PROC</code> to <code>NITRO_PROC</code>. This macro 
variable is in <code>Makefile</code>, and is used to switch output
code for ARM9/ARM7.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><span class=msoins0><span style='font-family:Arial'><a name="note2-14">Note 2-14: Changed the
ARM7 Binaries That Are Used for Linking in elftobin</a></span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>We remade the executable
files for ARM7 that are linked to the ARM9 executable files by default when you
make binary files. They contain X, Y button read processes. The files are
located under <code>$NitroSDK/build/components/idle/ARM7</code>.</span></span></p>

<p><span class=msoins0><span style='font-family:Arial'>If you link executable
files for ARM7 from a previous SDK and ARM9 executable files created by this
version of the SDK, the <code>PAD_Read()</code> function will not work properly. 
Take notice of this if you are explicitly specifying the ARM7 executable files 
with <code>Makefile</code>.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-15"><span class=msoins0><span style='font-family:Arial'">Note
2-15: Added a Mechanism for Setting IRQ Stack Size</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We described IRQ stack
size in the LCF file. This makes it possible to set it.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-16"><span class=msoins0><span style='font-family:Arial'">Note
2-16: Added a Mechanism to Display the Context at the Time That an Exception is
Generated</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We added a mechanism to
display the context at the time that an exception is generated (excluding IRQ
exceptions, FIQ exceptions, and SWI exceptions). You can also call a user
callback routine.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><span class=msoins0><span style='font-family:Arial'><a name="note2-17">Note 2-17: Fixed a Bug
That Occurred When a NULL Callback Was Set in MI_Dma*Async().</a></span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>When a NULL callback was
specified, it proceeded without setting the callback. In the case that there is
no stall due to bus access contention, after transmitting DMA commands, it
returns from the function without waiting.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-18"><span class=msoins0><span style='font-family:Arial'">Note
2-18: Added a Warning for DMA That Hits a TCM Region</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>The DEBUG library will
issue a warning when a region that includes ITCM or DTCM is specified as either
a DMA transfer destination or source.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-19"><span class=msoins0><span style='font-family:Arial'">Note
2-19: Added a Process to Clear Memory at Start Time</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We made it so that
<code>crt0.c</code> will clear DTCM. This will clear the stack region. We also made it so
that the BG/OBJ palettes, and OAM will be cleared.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-20"><span class=msoins0><span style='font-family:Arial'">Note
2-20: Rounded Cache Related Function Argument Addresses.</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>32-byte border rounding
for the lower order of start addresses had not been implemented in <code>DC_StoreRange()</code>, 
<code>DC_FlushRange()</code>, <code>DC_TouchRange()</code>, 
<code>IC_InvalidateRange()</code>. We implemented it.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><span class=msoins0><span style='font-family:Arial'><a name="note2-21">Note 2-21: Added
OS_CreateThread() Argument, Made Thread Priority Control More Flexible.</a></span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>Concerning the thread
mechanism, we added the following:</span></span></p>

<ol start=1 type=1>
 <li><span class=msoins0>Added argument to <code>OS_CreateThread()</code>. 
     You can now pass an argument to the execute startup function.</span></li>
 <li><span class=msoins0>You can now set thread priorities
     0-31. In line with this, threads immediately after <code>OS_InitThread()</code> 
     is called will now have a priority of 16. </span></li>
 <li><span class=msoins0>We implemented an API (<code>OS_SetThreadPriority()</code>,
     <code>OS_GetThreadPriority()</code>) to acquire and change thread priorities.</span></li>
</ol>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-22"><span class=msoins0><span style='font-family:Arial'">Note
2-22: Support for a Mechanism That Checks Thread Stack Leaks.</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We prepared the 
<code>OS_CheckStack()</code> function to check for thread
related stack leaks.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-23"><span class=msoins0><span style='font-family:Arial'">Note
2-23: Implemented Alarms and a 64-bit Clock Counter</a>.</span></span></h3>

<p><span class=msoins0><span style='font-family:Arial'>We used 2 16-bit timers
to implement a 64-bit clock counter. We also implemented an alarm mechanism
that calls callback functions at specified times. Because this multiplexes
timer interrupts, it can register more callback functions than the number of
hardware timers. These functions are options. You can choose whether or not to
use them.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-24"><span class=msoins0><span style='font-family:Arial'">Note
2-24: Implemented a V-count Alarm</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We multiplexed V count
interrupts, so that you can register multiple callback functions. For details
see the reference manual for OS V-count related functions.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-25"><span class=msoins0><span style='font-family:Arial'">Note 2-25: Added
MI_DmaSend*() ,</span></span><span class=spelle><span
style='font-family:Arial'>MI_CpuSend</span></span><span class=msoins0><span
style='font-family:Arial'>*() </span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We added 
<code>MI_DmaSend*</code>, <code>MI_CpuSend*</code> API.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-26"><span class=msoins0><span style='font-family:Arial'">Note 2-26: Revised
OS_StartTimer*() Assert Determination</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>In the DEBUG version
library, an assert was generated if you set <code>OS_TIMER32_23</code> as the ID in
<code>OS_StartTimer32()</code>, or if you set <code>OS_TIMER48_123</code> as the 
ID in <code>OS_StartTimer48()</code>.
We fixed this.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-27"><span class=msoins0><span style='font-family:Arial'">Note
2-27: Added CPU Memory Function</span></span><span class=msoins0><span
style='font-family:Arial'>s</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>In the memory interface
we prepared memory manipulation functions such as <code>MI_CpuClear()</code> 
that use the CPU instead of DMA. We abolished the UTL library.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-28"><span class=msoins0><span style='font-family:Arial'">Note
2-28: Measures for a TEG Board Hardware Bug Related to Main Bus Access During
the V-blank Period.</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>The TEG board has a
hardware bug. If a certain pattern of data is output to the main processor bus
at the beginning of the V-Blank period, polygon display will be corrupted.
Countermeasures for this are performed in the library.</span></span></p>

<p><span class=msoins0><span style='font-family:Arial'>The actual code is
embedded in <code>GX_Init()</code>. For details see the region
enclosed by <code>#ifdef SDK_TEG_WA_VBLANK - #endif</code> in 
<code>$NitroSDK/build/libraries/gx/src/gx.c</code>.</span></span></p>

<p><span class=msoins0><span style='font-family:Arial'>This code uses V-count
alarms. Therefore, if you want to use this process, do not turn off V-count
alarms.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-29"><span class=msoins0><span style='font-family:Arial'">Note
2-29: Adjusted Light Parameters</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>In the demos that
perform light processing, the total of the parameters such as light color was
very large</span></span><span class=msoins0><span lang=JA style='font-family:
"MS PGothic"'>&#8212;</span></span><span class=msoins0><span style='font-family:
Arial'>not an appropriate value. Therefore when polygons even slightly faced
light, the light value became MAX. We adjusted this.</span></span></p>

<p><span class=msoins0><span style='font-family:Arial'>We also revised
parameter table definitions related to specular light in <code>DEMOLib</code> 
so that they approach cosine<sup>n</sup>. You can see the change caused
by the difference in parameter tables in the <code>gx/UnitTours/3D_Shininess</code> 
demo.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-30"><span class=msoins0><span style='font-family:Arial'">Note
2-30: Implemented Overflow Check for the Dynamic DL Creation Function Group.</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We added a DL buffer
overflow check to the dynamic DL creation function group <code>G3*</code>. This is only
enabled when the DEBUG version library is linked.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-31"><span class=msoins0><span style='font-family:Arial'">Note
2-31: G3_Ortho() Bug Fix</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>Fixed a <code>G3_Ortho()</code>
implementation bug.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-32"><span class=msoins0><span style='font-family:Arial'">Note
2-32: G3_EndMakeDL() Did Not Return the Proper Size. Fixed.</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'><code>G3_EndMakeDL()</code> did not
return the proper size. We fixed this bug.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-33"><span class=msoins0><span style='font-family:Arial'">Note 2-33: G2_Added an
Argument to SetBG*Control256x16Pltt()</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We added an argument to
<code>G2_SetBG*Control256x16Pltt()</code> that specifies the character base block.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-34"><span class=msoins0><span style='font-family:Arial'">Note
2-34: Bug Fixes in G3CS_LoadTexMtxEnv(), G3CS_LoadTexMtxTexCoord()</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>There was a problem in
the display list that was generated by <code>G3CS_LoadTexMtxEnv()</code>,
<code>G3CS_LoadTexMtxTexCoord()</code>. We fixed this.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-35"><span class=msoins0><span style='font-family:Arial'">Note
2-35: API Support for the New Translucent Texture</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>An API now supports A3I5
textures. Confirm emulator specification to see whether this texture can
actually be displayed.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-36"><span class=msoins0><span style='font-family:Arial'">Note
2-36: Support for VecFx16 Type and Related API</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We support the 3D vector
type VecFx16, which uses Fx16 elements. We prepared the <code>VEC_Fx16*</code> series to
handle it.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="note2-37"><span class=msoins0><span style='font-family:Arial'">Note
2-37: Added a C Linkage Specification to the DEMO Library Header Files.</span></span></a></h3>

<p><span class=msoins0><span style='font-family:Arial'>We added the C linkage
specification <code>extern &quot;C&quot;</code>
to the <code>$NitroSDK/build/demos/gx/UnitTours/DEMOLib</code> header files.</span></span></p>

<p><span class=msoins0><span style='font-family:Arial'>The main purpose of this
DEMO library is to simplify the implementation of <code>UnitTours</code>. 
Therefore, there may be times when we will not be able to respond to change 
requests concerning this specification. Please take this into consideration 
when using this <code>DEMOLib</code> in an application.</span></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h3><a name="KnownIssues_1_00">Known Issues with SDK 1.0</a></h3>

<p style='margin-left:18.0pt'><span class=msoins0>Decided to postpone
ROM file system function and implementation of overlay. </span></p>

<div class=MsoNormal align=center style='text-align:center'><span
class=msoins0><span style='font-size:10.0pt;font-family:Arial'>



</span></span></div>

<h2><a name="20040120p1">January 20, 2004</a> <span
class=spelle><span style='font-family:Arial'>irisSDK</span></span> snapshot
patch 1</h2>

<p align=right>(2/4/2004)</p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;font-family:Arial'>



</span></div>

<h3><a name="note1-01">Note 1-01: 3D-related test code execution was slow. Fixed.</a></h3>

<p>In the main loop</p>

<p><code>SVC_WaitVBlankIntr();</code><span style='font-family:"\0082l\0082r \0083S\0083V\0083b\0083N"'><br>
</span><code>G3_SwapBuffers(GX_SORTMODE_AUTO, GX_BUFFERMODE_W);</code></p>

<p>The above, APIs appear in reversed order and an unnecessary V-blank wait is
generated. Exchanging them fixes the problem. </p>

<p>The 3D graphics test code that caused the problem is fixed.</p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;font-family:Arial'>



</span></div>

<h3><a name="note1-02">Note 1-02: <code>VEC_Mag</code> overflow measures.</a></h3>

<p>When a large vector is placed in <code>VEC_Mag</code>, internal calculation
generates overflow, and the result is strange. </p>

<p>This bug has been fixed.</p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;font-family:Arial'>



</span></div>

<h3><a name="note1-03">Note 1-03: Fixed MTX_Concat43()</a></h3>

<p>In <code>fx_mtx43.c</code>, the X axis transform element in matrix b is
ignored.</p>

<p>This bug has been fixed.</p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;font-family:Arial'>



</span></div>

<h3><a name="note1-04">Note 1-04: </a><a name="note004>Fixed definition of
functions related to </a><code>G2_SetBGxControl()</code>.</h3>

<p>In the <code>G2</code> library, internal settings for functions related to <code>G2_SetBGxControl()</code>
are not correct.</p>

<p>This bug has been fixed.</p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;font-family:Arial'>



</span></div>

<h3><a name="note1-05">Note 1-05: </a><a name="note005>Fixed horizontal translation
calculations for </a><code>MTX_Inverse43()</code></h3>

<p>The horizontal translation element of the inverse matrix obtained in <code>MTX_Inverse43()</code>
was incorrect.</p>

<p>This bug has been fixed.</p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;font-family:Arial'>



</span></div>

<h3><a name="note1-06">Note 1-06: </a><a name="note006>Fixed definitions in </a><code>GX_SetOBJVRamModeBmp()</code>.</h3>

<p>There were incorrect definitions in <code>GX_SetOBJVRamModeBmp()</code>.</p>

<p>Fixed.</p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;font-family:Arial'>



</span></div>

<h3><a name="note1-07">Note 1-07: </a><a name="note007>Support of library for byte
access version.</a></h3>

<p>There was no support for a library for byte access in the IDE sample project
file. We completely transferred this, and the library that was used in a
command line environment, to the byte access version.</p>

<p>IDE sample project reviewed and changed over.</p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;font-family:Arial'>



</span></div>

<h3><a name="note1-08">Note 1-08: Fixed G2_SetBG3Priority() definitions</a></h3>

<p>There were mistakes in <code>G2_SetBG3Priority</code> definitions.</p>

<p>This bug has been fixed.</p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;font-family:Arial'>



</span></div>

<h3><a name="note1-09">Note 1-09: </a><a name="note009>Fixed macro </a><code>GX_FX16PAIR</code>
definition</h3>

<p>There was a problem handling code extension in the macro <code>GX_FX16PAIR</code>
in <code>g3.h</code>. This macro was not used elsewhere in the SDK and did not
affect the SDK itself. </p>

<p>This bug has been fixed.</p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;font-family:Arial'>



</span></div>

<h3><a name="note1-10">Note 1-10: Support for IS_IRIS_EMULATOR in packaged
library files</a></h3>

<p>Although built library files are bundled in the package, if you used <code>libos.a</code>
in the library as-is, <code>OS_Printf</code> did not output to <code>IS-IRIS-EMULATOR</code>.
When the library was rebuilt in an environment in which <code>IS-IRIS-EMULATOR</code>
had been completely installed, the problem disappeared. </p>

<p>We bundled the corrected library files in a patch.</p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;font-family:Arial'>



</span></div>

<h3><a name="note1-11">Note 1-11: Additional file for ARM7 version: <code>libstubsisd.a</code></a></h3>

<p>When linking the ARM7 side processors, if the environment variable &quot;<code>IS_IRIS_DIR</code>&quot;
is not included, it attempts to link <code>libstubsisd.a</code>. However,
because this file did not exist an error occurred. </p>

<p>Added ARM7 version <code>libstubsisd.a</code> and its source file. </p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;font-family:Arial'>



</span></div>

<h3><a name="note1-12">Note 1-12: Fixed definition of system reserved region size</a></h3>

<p>The system reserved region size changed (32bytes-&gt;64bytes) with the new
BOOT ROM. This was not supported. </p>

<p>This bug is now fixed. In accord with this, the size of the system mode
stack region has become smaller by 32 bytes. </p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;font-family:Arial'>



</span></div>

<h3><a name="note1-13">Note 1-13: </a><a name="note013>Fixed </a><code>G3_LightVector()</code>
setting command position in the GX sample program</h3>

<p>Immediately after it is issued, the <code>G3_LightVector</code> command
performs coordinate conversion using the directional vector matrix. Therefore <code>G3_LightVector()</code>
must be processed after setting the camera matrix. </p>

<p>All samples that use <code>G3_LightVector</code> have been fixed.</p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;font-family:Arial'>



</span></div>

<h3><a name="note1-14">Note 1-14: </a><a name="note014>Callback not called by </a><code>MI_DmaCopy16Async</code>.
Fixed</h3>

<p>Internally <code>MI_DmaCopy16ASync()</code> did not generate a DMA end
interrupt, and callback was not called. </p>

<p>The above bug has been fixed.</p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;font-family:Arial'>



</span></div>

<h3><a name="20040120p1_KnownIssues">Known Issues in Snapshot 20040120+Path1</a></h3>

<p>(Plan to fix in the next release)</p>

<ol start=1 type=1>
 <li>In the test code that performs light processing, the
     values for parameters such as light color are not appropriate. Therefore,
     when polygon surfaces even slightly face the light, light strength becomes
     MAX. </li>
 <li>There is no method for specifying the character base block
     in <code>G2_SetBG*Control256x16Pltt()</code>.</li>
 <li>In the DEBUG version library, assert is generated if you
     set <code>OS_TIMER32_23</code>, as the ID in <code>OS_StartTimer32</code>, or if you set
     <code>OS_TIMER48_123</code> as the ID in <code>OS_StartTimer48()</code>.</li>
</ol>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;font-family:Arial'>



</span></div>

<p align=right style='text-align:right'>NINTENDO Technical Support Center</p>

</div>

</div>

</body>

</html>