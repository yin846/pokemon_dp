<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 8.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<title>WMPortSendCallback</title>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</head>

<body>

<h1 align="left">WMPortSendCallback</h1>

<h2>Definitions</h2>

<dl>
  <dd>
<CODE>#include &lt;nitro/wm.h&gt;</CODE><BR>
<PRE><CODE>typedef struct WMPortSendCallback
{
u16         apiid;
u16         errcode;
u16     wlCmdID;
u16     wlResult;
u16         state;
u16             port;
u16             destBitmap;
u16             restBitmap;
u16             sentBitmap;
u16         rsv;
const u16       *data;
u16         length;
u16             seqNo;
WMCallbackFunc  callback;
void*           arg;

} WMPortSendCallback;</CODE></PRE>
  </dd>

</dl><h2>Elements</h2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
<TD width="200"><em><strong><font face="Courier New">apiid</font></strong></em></TD>
<TD width="800">This is the ID of the API that acts as the source for the callback generation. It is synonymous to the <code><A href="WMApiid.html">WMApiid</A></code> enumerated type. <BR> In this case, it is fixed in <code>WM_APIID_PORT_SEND</code>.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">errcode</font></strong></em></TD>
<TD width="800">This is the result of the asynchronous process. It is synonymous to the <code><A href="WMErrCode.html">WMErrCode</A></code> enumerated type.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">wlCmdID</font></strong></em></TD>
<TD width="800">If errcode is <code>WM_ERRCODE_FAILED</code>, this function will store the ID of the command that was in error in the wireless firmware.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">wlResult</font></strong></em></TD>
<TD width="800">If errcode is <code>WM_ERRCODE_FAILED</code>, this function will store the code was the source of the error in the wireless firmware.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">state</font></strong></em></TD>
<TD width="800">If <CODE>errcode</CODE> is <CODE>WM_ERRCODE_SUCCESS</CODE>, the <A href="WMStateCode.html"><CODE>WM Cause Code</CODE></A> generated by the callback is stored. Currently, only <code>WM_STATECODE_PORT_SEND</code> is generated.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">port</font></strong></em></TD>
<TD width="800">The port that sends the data is stored here.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">destBitmap</font></strong></em></TD>
<TD width="800">The bitmap of the AID assigned to the send destination is stored here.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">restBitmap</font></strong></em></TD>
<TD width="800">The bitmap of the AID of the send destination that has to perform a retry is stored here. This bitmap is not included in an AID for which it is clear that the send was not a success due to disconnection or not yet being connected.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">sentBitmap</font></strong></em></TD>
<TD width="800">This is the bitmap of the AID for the communications partner which was actually able to send from among the send destinations designated by <em><strong><code>destBitmap</code></strong></em>. While it is guaranteed that the data will arrive at a communications partner that includes the <em><strong><code>sentBitmap</code></strong></em>, there is no such guarantee for a communications partner that does not include the <em><strong><code>sentBitmap</code></strong></em>.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">rsv</font></strong></em></TD>
<TD width="800">Reserved.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">data</font></strong></em></TD>
<TD width="800">The address of the buffer that sent the data is stored here.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">length</font></strong></em></TD>
<TD width="800">The data length that was sent is stored here.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">seqNo</font></strong></em></TD>
<TD width="800">Stores the sequence number.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">callback</font></strong></em></TD>
<TD width="800">This is a field that the library uses internally. The address of the called callback function is stored here.</TD>
    </TR>
    <TR>
<TD width="200"><em><strong><font face="Courier New">arg</font></strong></em></TD>
<TD width="800">The argument designated with the <code><A href="WM_SetMPDataToPortEx.html">WM_SetMPDataToPortEx</A></code> function is stored here.</TD>
    </TR>
  </TBODY>
</TABLE>

<H2>Description</H2>
<P>
This is a structure passed to the callback function for each of the <code><A href="WM_SetMPDataToPort.html">WM_SetMPDataToPort</A></code>, <code><A href="WM_SetMPDataToPortEx.html">WM_SetMPDataToPortEx</A></code>, and <code><A href="WM_SetMPData.html">WM_SetMPData</A></code> functions. 
</P>
<P>
<code>WM_ERRCODE_SUCCESS</code> goes in the errcode field if the send was a success, <code>WM_ERRCODE_SEND_FAILED</code> goes in if the send failed, and <code>WM_ERRCODE_SEND_QUEUE_FULL</code> goes in if the send queue is full. Even if an AID is included that is incapable of sending to the send destination designated with destBitmap due to a disconnect during the send or a connection not yet existing, be sure that <code>WM_ERRCODE_SUCCESS</code> is returned in the event that everything is sent to the remaining communications partners that are capable of sending. Compare the <em><strong><code>destBitmap</code></strong></em> and the <em><strong><code>sentBitmap</code></strong></em> to confirm that everything was actually sent to the designated send destination.
</P>

<H2>Revision History</H2>
<P>
03/04/2005 Initial version
</P>
<p align="right"><strong>CONFIDENTIAL</strong></p>
</body>
</html>
