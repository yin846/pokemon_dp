<HTML>
	<HEAD>
		<META http-equiv="Content-Type" content="text/html; charset=windows-1252">
		<META http-equiv="Content-Style-Type" content="text/css">
		<TITLE>DWC_SetupGameServer</TITLE>
		<LINK rel="stylesheet" href="../../css/function.css">
		<BASE target="main">
	</HEAD>
	<BODY>
		<H1>DWC_SetupGameServer</H1>

		<H2>C Specification</H2>
		<DL>
			<DD>
				<PRE><CODE>#include &lt;dwc.h&gt;
 
BOOL DWC_SetupGameServer(
                         u8    maxEntry,
                         <A href="DWCMatchedSCCallback.html">DWCMatchedSCCallback</A> matchedCallback,
                         void* matchedParam,
                         <A href="DWCNewClientCallback.html">DWCNewClientCallback</A> newClientCallback,
                         void* newClientParam );	</CODE></PRE>
			</DD>
		</DL>

		<H2>Description</H2>
		<P>
		  This function starts up one's own DS as a server DS. If there is a request from a client DS, this function performs the connection/disconnection processes. Here, server DS refers to the host that operates as a DS wireless connection parent device for server-client matchmaking. If the server DS is disconnected from the network during matchmaking, the matchmaking ends in an error. 
		</P>
		<P>
		  This function starts server-client matchmaking. Connections are accepted from a client DS until either the <a href="DWC_CloseAllConnectionsHard.html"><CODE>DWC_CloseAllConnectionsHard</CODE></a> or <a href="DWC_ShutdownFriendsMatch.html"><CODE>DWC_ShutdownFriendsMatch</CODE></A> functions are called. Then, if a client DS that has started a connection to one's own DS is detected, a new connection client notification callback is called and, when the connection process of that client DS completes, the connection completion callback is called. 
		</P>
		<P>
		  In addition, when <CODE><A>DWC_StopSCMatchingAsync</A></CODE> is called during client-server matchmaking, the matchmaking is cancelled and subsequent connections to the client can be denied.
		</P>
		<P>
		  Even for server-client matchmaking, a mesh-type network similar to that of peer matchmaking is built, so even if the server DS disconnects, the remaining client DS consoles will be able to communicate with one another. However, further matchmaking cannot be continued once the server DS has disconnected, so it is recommended that all DS consoles be disconnected when the server DS disconnects.
		</P>
		<P>
		  The client DS uses the <A href="DWC_ConnectToGameServerAsync.html">DWC_ConnectToGameServerAsync</A> function to connect to the server DS.
		</P>

		<H2>Arguments</H2>
		<TABLE border="1">
			<TBODY>
				<TR>
					<TD width="25%"><EM><STRONG><CODE>maxEntry</CODE></STRONG></EM></TD>
					<TD width="75%">The maximum number of connected players (oneself included). A value from 2 to 32 can be set in this argument.</TD>
				</TR>
				<TR>
					<TD><EM><STRONG><CODE>matchedCallback</CODE></STRONG></EM></TD>
					<TD>Pointer to the connection complete callback function. This is called for each person connected.</TD>
				</TR>
				<TR>
					<TD><EM><STRONG><CODE>matchedParam</CODE></STRONG></EM></TD>
					<TD>Parameter for the connection completion callback.</TD>
				</TR>
				<TR>
					<TD><EM><STRONG><CODE>newClientCallback</CODE></STRONG></EM></TD>
					<TD>The pointer to the new connection client notification callback function.</TD>
				</TR>
				<TR>
					<TD><EM><STRONG><CODE>newClientParam</CODE></STRONG></EM></TD>
					<TD>Parameter for the new-connection client notification callback.</TD>
				</TR>
			</TBODY>
		</TABLE>

		<H2>Return Values</H2>
		<TABLE border="1">
			<TBODY>
				<TR>
					<TD width="25%"><EM><STRONG><CODE>TRUE</CODE></STRONG></EM></TD>
					<TD width="75%">Processing has been started and the result is going to be returned with a callback.</TD>
				</TR>
				<TR>
					<TD><EM><STRONG><CODE>FALSE</CODE></STRONG></EM></TD>
					<TD>Not a good state for calling this function.</TD>
				</TR>
			</TBODY>
		</TABLE>


		<H2>See Also</H2>
		<P>
			<CODE><A href="DWC_ConnectToGameServerAsync.html">DWC_ConnectToGameServerAsync</A>, <a href="DWC_CloseAllConnectionsHard.html">DWC_CloseAllConnectionsHard</a>, <a href="DWC_ShutdownFriendsMatch.html">DWC_ShutdownFriendsMatch</A>, <a href="DWC_StopSCMatchingAsync.html">DWC_StopSCMatchingAsync</A>, <A href="DWCMatchedSCCallback.html">DWCMatchedSCCallback</A>, <A href="DWCNewClientCallback.html">DWCNewClientCallback</A></CODE>
		</P>

		<H2>Revision History</H2>
		<P>
		  06/20/2006 Revised an error in the description of the return values.<BR>12/16/2005 Initial version.<BR>
		</P>

	</BODY>
</HTML>
