<HTML>
  <HEAD>
    <META http-equiv="Content-Type" content="text/html; charset=windows-1252">
    <META http-equiv="Content-Style-Type" content="text/css">
<TITLE>DWC_SetMatchingOption</TITLE>
    <LINK rel="stylesheet" href="../../css/function.css">
    <BASE target="main">
  </HEAD>
  <BODY>
<H1>DWC_SetMatchingOption</H1>

<H2>C Specification</H2>
    <DL>
      <DD>
<PRE><CODE>#include &lt;dwc.h&gt;

int DWC_SetMatchingOption( DWCMatchOptType opttype,
                           const void* optval,
                           int optlen );</CODE></PRE>
      </DD>
    </DL>

<H2>Description</H2>
    <P>
	  This function configures the matchmaking options features. Create the data necessary for each of the options specified with <CODE>opttype</CODE>, and specify that pointer in <CODE>optval</CODE>.
	</P>
	<P>
	  To configure the matchmaking options, the <A href="DWC_InitFriendsMatch.html"><CODE>DWC_InitFriendsMatch</CODE></A> function must be called and the <A href="FriendsMatch.html">FriendsMatch Library</A> must be started. The configured matchmaking options remain valid until the <A href="DWC_ShutdownFriendsMatch.html"><CODE>DWC_ShutdownFriendsMatch</CODE></A> function is called to shut down the <A href="FriendsMatch.html">FriendsMatch Library</A>.
	</P>
	<P>
	  The options are as follows:
	</P>
	<BR>

	<TABLE border="1">
      <TBODY>
        <TR>
			<TH>opttype</TH>
			<TH>The <CODE>optval</CODE> type.</TH>
			<TH>Description</TH>
		</TR>
		<TR>
			<TD>DWC_MATCH_OPTION_MIN_COMPLETE</TD>
			<TD>The <A href="DWCMatchOptMinComplete.html">DWCMatchOptMinComplete</A> structure.</TD>
			<TD>For peer matchmaking, allows matchmaking for fewer than the number of people specified with the functions <A href="DWC_ConnectToAnybodyAsync.html">DWC_ConnectToAnybodyAsync</A> and <A href="DWC_ConnectToFriendsAsync.html">DWC_ConnectToFriendsAsync</A> even when matchmaking does not complete after a fixed amount of time. The <A href="DWC_GetMOMinCompState.html">DWC_GetMOMinCompState</A> function can be used to determine whether matchmaking is still within the specified amount of time.</TD>
		</TR>
		<TR>
			<TD>DWC_MATCH_OPTION_SC_CONNECT_BLOCK</TD>
			<TD>BOOL</TD>
			<TD>On the server DS in server-client matchmaking, does not accept any other connections once a single client DS has successfully connected.<BR>To start accepting connections again, call the <A href="DWC_ClearMOSCConnectBlock.html">DWC_ClearMOSCConnectBlock</A> function. Use the <A href="DWC_GetMOSCConnectBlockState.html">DWC_GetMOSCConnectBlockState</A> function to determine whether or not connections are blocked.<BR>The <CODE>DWC_ERROR_MO_SC_CONNECT_BLOCK</CODE> error is generated for the client DS that is blocking connection requests.<BR><CODE>optval</CODE> indicates whether options are enabled (TRUE) or disabled (FALSE).</TD>
		</TR>
      </TBODY>
    </TABLE>

<H2>Arguments</H2>
    <TABLE border="1">
      <TBODY>
        <TR>
<TD width="25%"><EM><STRONG><CODE>opttype</CODE></STRONG></EM></TD>
<TD>The type of matchmaking option. This is defined with <CODE>DWC_MATCH_OPTION_*</CODE>.</TD>
        </TR>
		<TR>
<TD width="25%"><EM><STRONG><CODE>optval</CODE></STRONG></EM></TD>
<TD>The pointer to the values to be configured as matchmaking options. Pass a pointer to the type corresponding to <CODE>opttype</CODE>. The contents are saved inside the library.</TD>
        </TR>
		<TR>
<TD width="25%"><EM><STRONG><CODE>optlen</CODE></STRONG></EM></TD>
<TD>The size of the value expressed in <CODE>optval</CODE>. Be sure to specify <CODE>sizeof(optval)</CODE>.</TD>
        </TR>
      </TBODY>
    </TABLE>


<H2>Return Values</H2>
    <TABLE border="1">
      <TBODY>
        <TR>
<TD width="25%"><EM><STRONG><CODE>DWC_SET_MATCH_OPT_RESULT_SUCCESS</CODE></STRONG></EM></TD>
<TD>The matchmaking options were successfully configured.</TD>
		</TR>
		<TR>
		  <TD width="25%"><EM><STRONG><CODE>DWC_SET_MATCH_OPT_RESULT_E_BAD_STATE</CODE></STRONG></EM></TD>
<TD>The <A href="FriendsMatch.html">FriendsMatch Library</A> is not running.</TD>
		</TR>
		<TR>
		  <TD width="25%"><EM><STRONG><CODE>DWC_SET_MATCH_OPT_RESULT_E_INVALID</CODE></STRONG></EM></TD>
<TD>Invalid options have been specified in <CODE>opttype</CODE>.</TD>
		</TR>
		<TR>
		  <TD width="25%"><EM><STRONG><CODE>DWC_SET_MATCH_OPT_RESULT_E_PARAM</CODE></STRONG></EM></TD>
<TD>An invalid parameter was specified for the <CODE>optval</CODE> value.</TD>
		</TR>
		<TR>
		  <TD width="25%"><EM><STRONG><CODE>DWC_SET_MATCH_OPT_RESULT_E_ALLOC</CODE></STRONG></EM></TD>
<TD>Memory allocation failed.</TD>
        </TR>
      </TBODY>
    </TABLE>

<H2>See Also</H2>
    <P>
<code><A href="DWC_GetMatchingOption.html">DWC_GetMatchingOption</A>, <A href="DWC_GetMOMinCompState.html">DWC_GetMOMinCompState</A>, <A href="DWC_GetMOSCConnectBlockState.html">DWC_GetMOSCConnectBlockState</A>, <A href="DWC_ClearMOSCConnectBlock.html">DWC_ClearMOSCConnectBlock</A>, <A href="DWC_InitFriendsMatch.html">DWC_InitFriendsMatch</A>, <A href="DWC_ShutdownFriendsMatch.html">DWC_ShutdownFriendsMatch</A>, <A href="DWC_ConnectToAnybodyAsync.html">DWC_ConnectToAnybodyAsync</A>, <A href="DWC_ConnectToFriendsAsync.html">DWC_ConnectToFriendsAsync</A>, <A href="DWCMatchOptMinComplete.html">DWCMatchOptMinComplete</A></code>
    </P>

<H2>Revision History</H2>
    <P>
	  02/21/2006 Added a description of <CODE>optval</CODE><BR>01/31/2006 Included a link to the FriendsMatch Library<BR>12/16/2005 Initial version<BR>
    </P>

  </BODY>
</HTML>
